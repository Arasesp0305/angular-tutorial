var MS=Object.defineProperty,NS=Object.defineProperties;var RS=Object.getOwnPropertyDescriptors;var Qa=Object.getOwnPropertySymbols,xS=Object.getPrototypeOf,Cy=Object.prototype.hasOwnProperty,Dy=Object.prototype.propertyIsEnumerable,PS=Reflect.get;var wy=(t,e,n)=>e in t?MS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E=(t,e)=>{for(var n in e||={})Cy.call(e,n)&&wy(t,n,e[n]);if(Qa)for(var n of Qa(e))Dy.call(e,n)&&wy(t,n,e[n]);return t},q=(t,e)=>NS(t,RS(e));var by=(t,e)=>{var n={};for(var r in t)Cy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Qa)for(var r of Qa(t))e.indexOf(r)<0&&Dy.call(t,r)&&(n[r]=t[r]);return n};var Ir=(t,e,n)=>PS(xS(t),n,e);var m=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function Ty(t,e){return Object.is(t,e)}var be=null,Ja=!1,Xa=1,kn=Symbol("SIGNAL");function K(t){let e=be;return be=t,e}function Sy(){return be}var Xo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ef(t){if(Ja)throw new Error("");if(be===null)return;be.consumerOnSignalRead(t);let e=be.nextProducerIndex++;if(rc(be),e<be.producerNode.length&&be.producerNode[e]!==t&&Jo(be)){let n=be.producerNode[e];nc(n,be.producerIndexOfThis[e])}be.producerNode[e]!==t&&(be.producerNode[e]=t,be.producerIndexOfThis[e]=Jo(be)?Ry(t,be,e):0),be.producerLastReadVersion[e]=t.version}function OS(){Xa++}function Ay(t){if(!(Jo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Xa)){if(!t.producerMustRecompute(t)&&!nf(t)){t.dirty=!1,t.lastCleanEpoch=Xa;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Xa}}function My(t){if(t.liveConsumerNode===void 0)return;let e=Ja;Ja=!0;try{for(let n of t.liveConsumerNode)n.dirty||kS(n)}finally{Ja=e}}function Ny(){return be?.consumerAllowSignalWrites!==!1}function kS(t){t.dirty=!0,My(t),t.consumerMarkedDirty?.(t)}function tc(t){return t&&(t.nextProducerIndex=0),K(t)}function tf(t,e){if(K(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Jo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)nc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function nf(t){rc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Ay(n),r!==n.version))return!0}return!1}function rf(t){if(rc(t),Jo(t))for(let e=0;e<t.producerNode.length;e++)nc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ry(t,e,n){if(xy(t),t.liveConsumerNode.length===0&&Py(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Ry(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function nc(t,e){if(xy(t),t.liveConsumerNode.length===1&&Py(t))for(let r=0;r<t.producerNode.length;r++)nc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];rc(i),i.producerIndexOfThis[r]=e}}function Jo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function rc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function xy(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Py(t){return t.producerNode!==void 0}function Oy(t){let e=Object.create(FS);e.computation=t;let n=()=>{if(Ay(e),ef(e),e.value===ec)throw e.error;return e.value};return n[kn]=e,n}var Jd=Symbol("UNSET"),Xd=Symbol("COMPUTING"),ec=Symbol("ERRORED"),FS=q(E({},Xo),{value:Jd,dirty:!0,error:null,equal:Ty,producerMustRecompute(t){return t.value===Jd||t.value===Xd},producerRecomputeValue(t){if(t.value===Xd)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Xd;let n=tc(t),r;try{r=t.computation()}catch(i){r=ec,t.error=i}finally{tf(t,n)}if(e!==Jd&&e!==ec&&r!==ec&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function LS(){throw new Error}var ky=LS;function Fy(){ky()}function Ly(t){ky=t}var VS=null;function Vy(t){let e=Object.create(Uy);e.value=t;let n=()=>(ef(e),e.value);return n[kn]=e,n}function of(t,e){Ny()||Fy(),t.equal(t.value,e)||(t.value=e,jS(t))}function jy(t,e){Ny()||Fy(),of(t,e(t.value))}var Uy=q(E({},Xo),{equal:Ty,value:void 0});function jS(t){t.version++,OS(),My(t),VS?.()}function F(t){return typeof t=="function"}function vi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ic=vi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function wr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var he=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){e=o instanceof ic?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{By(o)}catch(s){e=e??[],s instanceof ic?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ic(e)}}add(e){var n;if(e&&e!==this)if(this.closed)By(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&wr(n,e)}remove(e){let{_finalizers:n}=this;n&&wr(n,e),e instanceof t&&e._removeParent(this)}};he.EMPTY=(()=>{let t=new he;return t.closed=!0,t})();var sf=he.EMPTY;function oc(t){return t instanceof he||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function By(t){F(t)?t():t.unsubscribe()}var At={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yi={setTimeout(t,e,...n){let{delegate:r}=yi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=yi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function sc(t){yi.setTimeout(()=>{let{onUnhandledError:e}=At;if(e)e(t);else throw t})}function Cr(){}var $y=af("C",void 0,void 0);function Hy(t){return af("E",void 0,t)}function Wy(t){return af("N",t,void 0)}function af(t,e,n){return{kind:t,value:e,error:n}}var Dr=null;function _i(t){if(At.useDeprecatedSynchronousErrorHandling){let e=!Dr;if(e&&(Dr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Dr;if(Dr=null,n)throw r}}else t()}function zy(t){At.useDeprecatedSynchronousErrorHandling&&Dr&&(Dr.errorThrown=!0,Dr.error=t)}var br=class extends he{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oc(e)&&e.add(this)):this.destination=$S}static create(e,n,r){return new Ei(e,n,r)}next(e){this.isStopped?lf(Wy(e),this):this._next(e)}error(e){this.isStopped?lf(Hy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lf($y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},US=Function.prototype.bind;function cf(t,e){return US.call(t,e)}var uf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ac(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ac(r)}else ac(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ac(n)}}},Ei=class extends br{constructor(e,n,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&At.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&cf(e.next,o),error:e.error&&cf(e.error,o),complete:e.complete&&cf(e.complete,o)}):i=e}this.destination=new uf(i)}};function ac(t){At.useDeprecatedSynchronousErrorHandling?zy(t):sc(t)}function BS(t){throw t}function lf(t,e){let{onStoppedNotification:n}=At;n&&yi.setTimeout(()=>n(t,e))}var $S={closed:!0,next:Cr,error:BS,complete:Cr};var Ii=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Be(t){return t}function es(...t){return df(t)}function df(t){return t.length===0?Be:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var V=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=WS(n)?n:new Ei(n,r,i);return _i(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Gy(r),new r((i,o)=>{let s=new Ei({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ii](){return this}pipe(...n){return df(n)(this)}toPromise(n){return n=Gy(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Gy(t){var e;return(e=t??At.Promise)!==null&&e!==void 0?e:Promise}function HS(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function WS(t){return t&&t instanceof br||HS(t)&&oc(t)}function ff(t){return F(t?.lift)}function $(t){return e=>{if(ff(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function U(t,e,n,r,i){return new hf(t,e,n,r,i)}var hf=class extends br{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function wi(){return $((t,e)=>{let n=null;t._refCount++;let r=U(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ci=class extends V{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ff(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new he;let n=this.getSubject();e.add(this.source.subscribe(U(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=he.EMPTY)}return e}refCount(){return wi()(this)}};var qy=vi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=(()=>{class t extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new cc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new qy}next(n){_i(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){_i(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_i(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?sf:(this.currentObservers=null,o.push(n),new he(()=>{this.currentObservers=null,wr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new V;return n.source=this,n}}return t.create=(e,n)=>new cc(e,n),t})(),cc=class extends Ae{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:sf}};var Re=class extends Ae{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var pf={now(){return(pf.delegate||Date).now()},delegate:void 0};var lc=class extends he{constructor(e,n){super()}schedule(e,n=0){return this}};var ts={setInterval(t,e,...n){let{delegate:r}=ts;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ts;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Di=class extends lc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ts.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ts.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,wr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var bi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};bi.now=pf.now;var Ti=class extends bi{constructor(e,n=bi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Si=new Ti(Di),mf=Si;var uc=class extends Di{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var dc=class extends Ti{};var gf=new dc(uc);var $e=new V(t=>t.complete());function fc(t){return t&&F(t.schedule)}function vf(t){return t[t.length-1]}function hc(t){return F(vf(t))?t.pop():void 0}function Ht(t){return fc(vf(t))?t.pop():void 0}function Yy(t,e){return typeof vf(t)=="number"?t.pop():e}function pc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Zy(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Ky(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tr(t){return this instanceof Tr?(this.v=t,this):new Tr(t)}function Qy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(w){return new Promise(function(M,k){o.push([h,w,M,k])>1||c(h,w)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(w){f(o[0][3],w)}}function l(h){h.value instanceof Tr?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Jy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ky=="function"?Ky(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var mc=t=>t&&typeof t.length=="number"&&typeof t!="function";function gc(t){return F(t?.then)}function vc(t){return F(t[Ii])}function yc(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function _c(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ec=zS();function Ic(t){return F(t?.[Ec])}function wc(t){return Qy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Tr(n.read());if(i)return yield Tr(void 0);yield yield Tr(r)}}finally{n.releaseLock()}})}function Cc(t){return F(t?.getReader)}function de(t){if(t instanceof V)return t;if(t!=null){if(vc(t))return GS(t);if(mc(t))return qS(t);if(gc(t))return YS(t);if(yc(t))return Xy(t);if(Ic(t))return KS(t);if(Cc(t))return ZS(t)}throw _c(t)}function GS(t){return new V(e=>{let n=t[Ii]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qS(t){return new V(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function YS(t){return new V(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,sc)})}function KS(t){return new V(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Xy(t){return new V(e=>{QS(t,e).catch(n=>e.error(n))})}function ZS(t){return Xy(wc(t))}function QS(t,e){var n,r,i,o;return Zy(this,void 0,void 0,function*(){try{for(n=Jy(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Qe(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Fn(t,e=0){return $((n,r)=>{n.subscribe(U(r,i=>Qe(r,t,()=>r.next(i),e),()=>Qe(r,t,()=>r.complete(),e),i=>Qe(r,t,()=>r.error(i),e)))})}function Ln(t,e=0){return $((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function e_(t,e){return de(t).pipe(Ln(e),Fn(e))}function t_(t,e){return de(t).pipe(Ln(e),Fn(e))}function n_(t,e){return new V(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function r_(t,e){return new V(n=>{let r;return Qe(n,e,()=>{r=t[Ec](),Qe(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function Dc(t,e){if(!t)throw new Error("Iterable cannot be null");return new V(n=>{Qe(n,e,()=>{let r=t[Symbol.asyncIterator]();Qe(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function i_(t,e){return Dc(wc(t),e)}function o_(t,e){if(t!=null){if(vc(t))return e_(t,e);if(mc(t))return n_(t,e);if(gc(t))return t_(t,e);if(yc(t))return Dc(t,e);if(Ic(t))return r_(t,e);if(Cc(t))return i_(t,e)}throw _c(t)}function ie(t,e){return e?o_(t,e):de(t)}function N(...t){let e=Ht(t);return ie(t,e)}function Ai(t,e){let n=F(t)?t:()=>t,r=i=>i.error(n());return new V(e?i=>e.schedule(r,0,i):r)}function yf(t){return!!t&&(t instanceof V||F(t.lift)&&F(t.subscribe))}var hn=vi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function s_(t){return t instanceof Date&&!isNaN(t)}function x(t,e){return $((n,r)=>{let i=0;n.subscribe(U(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:JS}=Array;function XS(t,e){return JS(e)?t(...e):t(e)}function bc(t){return x(e=>XS(t,e))}var{isArray:eA}=Array,{getPrototypeOf:tA,prototype:nA,keys:rA}=Object;function Tc(t){if(t.length===1){let e=t[0];if(eA(e))return{args:e,keys:null};if(iA(e)){let n=rA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function iA(t){return t&&typeof t=="object"&&tA(t)===nA}function Sc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ac(...t){let e=Ht(t),n=hc(t),{args:r,keys:i}=Tc(t);if(r.length===0)return ie([],e);let o=new V(oA(r,e,i?s=>Sc(i,s):Be));return n?o.pipe(bc(n)):o}function oA(t,e,n=Be){return r=>{a_(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)a_(e,()=>{let l=ie(t[c],e),u=!1;l.subscribe(U(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function a_(t,e,n){t?Qe(n,t,e):e()}function c_(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=w=>l<r?p(w):c.push(w),p=w=>{o&&e.next(w),l++;let M=!1;de(n(w,u++)).subscribe(U(e,k=>{i?.(k),o?h(k):e.next(k)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;c.length&&l<r;){let k=c.shift();s?Qe(e,s,()=>p(k)):p(k)}f()}catch(k){e.error(k)}}))};return t.subscribe(U(e,h,()=>{d=!0,f()})),()=>{a?.()}}function ye(t,e,n=1/0){return F(e)?ye((r,i)=>x((o,s)=>e(r,o,i,s))(de(t(r,i))),n):(typeof e=="number"&&(n=e),$((r,i)=>c_(r,i,t,n)))}function ns(t=1/0){return ye(Be,t)}function l_(){return ns(1)}function Vn(...t){return l_()(ie(t,Ht(t)))}function Mc(t){return new V(e=>{de(t()).subscribe(e)})}function _f(...t){let e=hc(t),{args:n,keys:r}=Tc(t),i=new V(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;de(n[u]).subscribe(U(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Sc(r,a):a),o.complete())}))}});return e?i.pipe(bc(e)):i}function u_(t=0,e,n=mf){let r=-1;return e!=null&&(fc(e)?n=e:r=e),new V(i=>{let o=s_(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Ef(...t){let e=Ht(t),n=Yy(t,1/0),r=t;return r.length?r.length===1?de(r[0]):ns(n)(ie(r,e)):$e}function ft(t,e){return $((n,r)=>{let i=0;n.subscribe(U(r,o=>t.call(e,o,i++)&&r.next(o)))})}function jn(t){return $((e,n)=>{let r=null,i=!1,o;r=e.subscribe(U(n,void 0,void 0,s=>{o=de(t(s,jn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function d_(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(U(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Sr(t,e){return F(e)?ye(t,e,1):ye(t,1)}function Un(t){return $((e,n)=>{let r=!1;e.subscribe(U(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Je(t){return t<=0?()=>$e:$((e,n)=>{let r=0;e.subscribe(U(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function f_(){return $((t,e)=>{t.subscribe(U(e,Cr))})}function rs(t){return x(()=>t)}function If(t,e){return e?n=>Vn(e.pipe(Je(1),f_()),n.pipe(If(t))):ye((n,r)=>de(t(n,r)).pipe(Je(1),rs(n)))}function wf(t,e=Si){let n=u_(t,e);return If(()=>n)}function Cf(t,e=Be){return t=t??sA,$((n,r)=>{let i,o=!0;n.subscribe(U(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function sA(t,e){return t===e}function Nc(t=aA){return $((e,n)=>{let r=!1;e.subscribe(U(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function aA(){return new hn}function Mi(t){return $((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Mt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,o)=>t(i,o,r)):Be,Je(1),n?Un(e):Nc(()=>new hn))}function Ni(t){return t<=0?()=>$e:$((e,n)=>{let r=[];e.subscribe(U(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Df(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,o)=>t(i,o,r)):Be,Ni(1),n?Un(e):Nc(()=>new hn))}function is(t,e){return $(d_(t,e,arguments.length>=2,!0))}function bf(...t){let e=Ht(t);return $((n,r)=>{(e?Vn(t,n,e):Vn(t,n)).subscribe(r)})}function He(t,e){return $((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(U(r,c=>{i?.unsubscribe();let l=0,u=o++;de(t(c,u)).subscribe(i=U(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Tf(t){return $((e,n)=>{de(t).subscribe(U(n,()=>n.complete(),Cr)),!n.closed&&e.subscribe(n)})}function _e(t,e,n){let r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?$((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(U(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Be}var eE="https://g.co/ng/security#xss",b=class extends Error{constructor(e,n){super(vl(e,n)),this.code=e}};function vl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function gs(t){return{toString:t}.toString()}var Rc="__parameters__";function cA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function tE(t,e,n){return gs(()=>{let r=cA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Rc)?c[Rc]:Object.defineProperty(c,Rc,{value:[]})[Rc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var $f=globalThis;function oe(t){for(let e in t)if(t[e]===oe)return e;throw Error("Could not find renamed property on target object.")}function lA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ze(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ze).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function h_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var uA=oe({__forward_ref__:oe});function Yn(t){return t.__forward_ref__=Yn,t.toString=function(){return ze(this())},t}function We(t){return nE(t)?t():t}function nE(t){return typeof t=="function"&&t.hasOwnProperty(uA)&&t.__forward_ref__===Yn}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yn(t){return{providers:t.providers||[],imports:t.imports||[]}}function yl(t){return p_(t,iE)||p_(t,oE)}function rE(t){return yl(t)!==null}function p_(t,e){return t.hasOwnProperty(e)?t[e]:null}function dA(t){let e=t&&(t[iE]||t[oE]);return e||null}function m_(t){return t&&(t.hasOwnProperty(g_)||t.hasOwnProperty(fA))?t[g_]:null}var iE=oe({\u0275prov:oe}),g_=oe({\u0275inj:oe}),oE=oe({ngInjectableDef:oe}),fA=oe({ngInjectorDef:oe}),D=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sE(t){return t&&!!t.\u0275providers}var hA=oe({\u0275cmp:oe}),pA=oe({\u0275dir:oe}),mA=oe({\u0275pipe:oe}),gA=oe({\u0275mod:oe}),Wc=oe({\u0275fac:oe}),as=oe({__NG_ELEMENT_ID__:oe}),v_=oe({__NG_ENV_ID__:oe});function _l(t){return typeof t=="string"?t:t==null?"":String(t)}function vA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_l(t)}function yA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,t)}function Rh(t,e){throw new b(-201,!1)}var B=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(B||{}),Hf;function aE(){return Hf}function ht(t){let e=Hf;return Hf=t,e}function cE(t,e,n){let r=yl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&B.Optional)return null;if(e!==void 0)return e;Rh(t,"Injector")}var _A={},cs=_A,Wf="__NG_DI_FLAG__",zc="ngTempTokenPath",EA="ngTokenPath",IA=/\n/gm,wA="\u0275",y_="__source",Oi;function CA(){return Oi}function Bn(t){let e=Oi;return Oi=t,e}function DA(t,e=B.Default){if(Oi===void 0)throw new b(-203,!1);return Oi===null?cE(t,void 0,e):Oi.get(t,e&B.Optional?null:void 0,e)}function O(t,e=B.Default){return(aE()||DA)(We(t),e)}function _(t,e=B.Default){return O(t,El(e))}function El(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zf(t){let e=[];for(let n=0;n<t.length;n++){let r=We(t[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,o=B.Default;for(let s=0;s<r.length;s++){let a=r[s],c=bA(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(O(i,o))}else e.push(O(r))}return e}function lE(t,e){return t[Wf]=e,t.prototype[Wf]=e,t}function bA(t){return t[Wf]}function TA(t,e,n,r){let i=t[zc];throw e[y_]&&i.unshift(e[y_]),t.message=SA(`
`+t.message,i,n,r),t[EA]=i,t[zc]=null,t}function SA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==wA?t.slice(2):t;let i=ze(e);if(Array.isArray(e))i=e.map(ze).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ze(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(IA,`
  `)}`}var qe=lE(tE("Optional"),8);var uE=lE(tE("SkipSelf"),4);function Fi(t,e){let n=t.hasOwnProperty(Wc);return n?t[Wc]:null}function xh(t,e){t.forEach(n=>Array.isArray(n)?xh(n,e):e(n))}function dE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Gc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function AA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function MA(t,e,n){let r=vs(t,e);return r>=0?t[r|1]=n:(r=~r,AA(t,r,e,n)),r}function Sf(t,e){let n=vs(t,e);if(n>=0)return t[n|1]}function vs(t,e){return NA(t,e,1)}function NA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Li={},nt=[],Mr=new D(""),fE=new D("",-1),hE=new D(""),qc=class{get(e,n=cs){if(n===cs){let r=new Error(`NullInjectorError: No provider for ${ze(e)}!`);throw r.name="NullInjectorError",r}return n}},pE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pE||{}),Gt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Gt||{}),Hn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Hn||{});function RA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Gf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];xA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function mE(t){return t===3||t===4||t===6}function xA(t){return t.charCodeAt(0)===64}function ls(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?__(t,n,i,null,e[++r]):__(t,n,i,null,null))}}return t}function __(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var gE="ng-template";function PA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&RA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ph(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ph(t){return t.type===4&&t.value!==gE}function OA(t,e,n){let r=t.type===4&&!n?gE:t.value;return e===r}function kA(t,e,n){let r=4,i=t.attrs,o=i!==null?VA(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Nt(r)&&!Nt(c))return!1;if(s&&Nt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!OA(t,c,n)||c===""&&e.length===1){if(Nt(r))return!1;s=!0}}else if(r&8){if(i===null||!PA(t,i,c,n)){if(Nt(r))return!1;s=!0}}else{let l=e[++a],u=FA(c,i,Ph(t),n);if(u===-1){if(Nt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Nt(r))return!1;s=!0}}}}return Nt(r)||s}function Nt(t){return(t&1)===0}function FA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return jA(e,t)}function LA(t,e,n=!1){for(let r=0;r<e.length;r++)if(kA(t,e[r],n))return!0;return!1}function VA(t){for(let e=0;e<t.length;e++){let n=t[e];if(mE(n))return e}return t.length}function jA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function E_(t,e){return t?":not("+e.trim()+")":e}function UA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Nt(s)&&(e+=E_(o,i),i=""),r=s,o=o||!Nt(r);n++}return i!==""&&(e+=E_(o,i)),e}function BA(t){return t.map(UA).join(",")}function $A(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Nt(i))break;i=o}r++}return{attrs:e,classes:n}}function J(t){return gs(()=>{let e=IE(t),n=q(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Gt.Emulated,styles:t.styles||nt,_:null,schemas:t.schemas||null,tView:null,id:""});wE(n);let r=t.dependencies;return n.directiveDefs=w_(r,!1),n.pipeDefs=w_(r,!0),n.id=zA(n),n})}function HA(t){return Nr(t)||vE(t)}function WA(t){return t!==null}function _n(t){return gs(()=>({type:t.type,bootstrap:t.bootstrap||nt,declarations:t.declarations||nt,imports:t.imports||nt,exports:t.exports||nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function I_(t,e){if(t==null)return Li;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Hn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Hn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function me(t){return gs(()=>{let e=IE(t);return wE(e),e})}function Nr(t){return t[hA]||null}function vE(t){return t[pA]||null}function yE(t){return t[mA]||null}function _E(t){let e=Nr(t)||vE(t)||yE(t);return e!==null?e.standalone:!1}function EE(t,e){let n=t[gA]||null;if(!n&&e===!0)throw new Error(`Type ${ze(t)} does not have '\u0275mod' property.`);return n}function IE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Li,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||nt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:I_(t.inputs,e),outputs:I_(t.outputs),debugInfo:null}}function wE(t){t.features?.forEach(e=>e(t))}function w_(t,e){if(!t)return null;let n=e?yE:HA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(WA)}function zA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ot(t){return{\u0275providers:t}}function GA(...t){return{\u0275providers:CE(!0,t),\u0275fromNgModule:!0}}function CE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return xh(e,s=>{let a=s;qf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&DE(i,o),n}function DE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Oh(i,o=>{e(o,r)})}}function qf(t,e,n,r){if(t=We(t),!t)return!1;let i=null,o=m_(t),s=!o&&Nr(t);if(!o&&!s){let c=t.ngModule;if(o=m_(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)qf(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{xh(o.imports,u=>{qf(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&DE(l,e)}if(!a){let l=Fi(i)||(()=>new i);e({provide:i,useFactory:l,deps:nt},i),e({provide:hE,useValue:i,multi:!0},i),e({provide:Mr,useValue:()=>O(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Oh(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Oh(t,e){for(let n of t)sE(n)&&(n=n.\u0275providers),Array.isArray(n)?Oh(n,e):e(n)}var qA=oe({provide:String,useValue:oe});function bE(t){return t!==null&&typeof t=="object"&&qA in t}function YA(t){return!!(t&&t.useExisting)}function KA(t){return!!(t&&t.useFactory)}function Vi(t){return typeof t=="function"}function ZA(t){return!!t.useClass}var Il=new D(""),jc={},QA={},Af;function kh(){return Af===void 0&&(Af=new qc),Af}var mt=class{},us=class extends mt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kf(e,s=>this.processProvider(s)),this.records.set(fE,Ri(void 0,this)),i.has("environment")&&this.records.set(mt,Ri(void 0,this));let o=this.records.get(Il);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hE,nt,B.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Bn(this),r=ht(void 0),i;try{return e()}finally{Bn(n),ht(r)}}get(e,n=cs,r=B.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(v_))return e[v_](this);r=El(r);let i,o=Bn(this),s=ht(void 0);try{if(!(r&B.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=nM(e)&&yl(e);l&&this.injectableDefInScope(l)?c=Ri(Yf(e),jc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&B.Self?kh():this.parent;return n=r&B.Optional&&n===cs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[zc]=a[zc]||[]).unshift(ze(e)),o)throw a;return TA(a,e,"R3InjectorError",this.source)}else throw a}finally{ht(s),Bn(o)}}resolveInjectorInitializers(){let e=K(null),n=Bn(this),r=ht(void 0),i;try{let o=this.get(Mr,nt,B.Self);for(let s of o)s()}finally{Bn(n),ht(r),K(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ze(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){e=We(e);let n=Vi(e)?e:We(e&&e.provide),r=XA(e);if(!Vi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ri(void 0,jc,!0),i.factory=()=>zf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=K(null);try{return n.value===jc&&(n.value=QA,n.value=n.factory()),typeof n.value=="object"&&n.value&&tM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=We(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yf(t){let e=yl(t),n=e!==null?e.factory:Fi(t);if(n!==null)return n;if(t instanceof D)throw new b(204,!1);if(t instanceof Function)return JA(t);throw new b(204,!1)}function JA(t){if(t.length>0)throw new b(204,!1);let n=dA(t);return n!==null?()=>n.factory(t):()=>new t}function XA(t){if(bE(t))return Ri(void 0,t.useValue);{let e=TE(t);return Ri(e,jc)}}function TE(t,e,n){let r;if(Vi(t)){let i=We(t);return Fi(i)||Yf(i)}else if(bE(t))r=()=>We(t.useValue);else if(KA(t))r=()=>t.useFactory(...zf(t.deps||[]));else if(YA(t))r=()=>O(We(t.useExisting));else{let i=We(t&&(t.useClass||t.provide));if(eM(t))r=()=>new i(...zf(t.deps));else return Fi(i)||Yf(i)}return r}function Ri(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function eM(t){return!!t.deps}function tM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nM(t){return typeof t=="function"||typeof t=="object"&&t instanceof D}function Kf(t,e){for(let n of t)Array.isArray(n)?Kf(n,e):n&&sE(n)?Kf(n.\u0275providers,e):e(n)}function Kt(t,e){t instanceof us&&t.assertNotDestroyed();let n,r=Bn(t),i=ht(void 0);try{return e()}finally{Bn(r),ht(i)}}function rM(){return aE()!==void 0||CA()!=null}function iM(t){return typeof t=="function"}var it=0,H=1,P=2,Le=3,Rt=4,kt=5,qt=6,Yc=7,Pt=8,ji=9,Yt=10,pe=11,ds=12,C_=13,Yi=14,gt=15,Ui=16,xi=17,Bi=18,wl=19,SE=20,$n=21,Mf=22,pt=23,Ge=25,AE=1,fs=6,pn=7,Kc=8,Zc=9,rt=10,Qc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Qc||{});function xt(t){return Array.isArray(t)&&typeof t[AE]=="object"}function Zt(t){return Array.isArray(t)&&t[AE]===!0}function Fh(t){return(t.flags&4)!==0}function ys(t){return t.componentOffset>-1}function Cl(t){return(t.flags&1)===1}function Wn(t){return!!t.template}function Jc(t){return(t[P]&512)!==0}var Zf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ME(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Kn(){return NE}function NE(t){return t.type.prototype.ngOnChanges&&(t.setInput=sM),oM}Kn.ngInherit=!0;function oM(){let t=xE(this),e=t?.current;if(e){let n=t.previous;if(n===Li)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sM(t,e,n,r,i){let o=this.declaredInputs[r],s=xE(t)||aM(t,{previous:Li,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Zf(l&&l.currentValue,n,c===Li),ME(t,e,i,n)}var RE="__ngSimpleChanges__";function xE(t){return t[RE]||null}function aM(t,e){return t[RE]=e}var D_=null;var Wt=function(t,e,n){D_?.(t,e,n)},cM="svg",lM="math";function Ot(t){for(;Array.isArray(t);)t=t[it];return t}function PE(t,e){return Ot(e[t])}function st(t,e){return Ot(e[t.index])}function OE(t,e){return t.data[e]}function Zn(t,e){let n=e[t];return xt(n)?n:n[it]}function Lh(t){return(t[P]&128)===128}function uM(t){return Zt(t[Le])}function $i(t,e){return e==null?null:t[e]}function kE(t){t[xi]=0}function FE(t){t[P]&1024||(t[P]|=1024,Lh(t)&&bl(t))}function dM(t,e){for(;t>0;)e=e[Yi],t--;return e}function Dl(t){return!!(t[P]&9216||t[pt]?.dirty)}function Qf(t){t[Yt].changeDetectionScheduler?.notify(8),t[P]&64&&(t[P]|=1024),Dl(t)&&bl(t)}function bl(t){t[Yt].changeDetectionScheduler?.notify(0);let e=Rr(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!Lh(e)));)e=Rr(e)}function LE(t,e){if((t[P]&256)===256)throw new b(911,!1);t[$n]===null&&(t[$n]=[]),t[$n].push(e)}function fM(t,e){if(t[$n]===null)return;let n=t[$n].indexOf(e);n!==-1&&t[$n].splice(n,1)}function Rr(t){let e=t[Le];return Zt(e)?e[Le]:e}var W={lFrame:GE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var VE=!1;function hM(){return W.lFrame.elementDepthCount}function pM(){W.lFrame.elementDepthCount++}function mM(){W.lFrame.elementDepthCount--}function jE(){return W.bindingsEnabled}function _s(){return W.skipHydrationRootTNode!==null}function gM(t){return W.skipHydrationRootTNode===t}function vM(t){W.skipHydrationRootTNode=t}function yM(){W.skipHydrationRootTNode=null}function se(){return W.lFrame.lView}function at(){return W.lFrame.tView}function vt(t){return W.lFrame.contextLView=t,t[Pt]}function yt(t){return W.lFrame.contextLView=null,t}function Ye(){let t=UE();for(;t!==null&&t.type===64;)t=t.parent;return t}function UE(){return W.lFrame.currentTNode}function _M(){let t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Fr(t,e){let n=W.lFrame;n.currentTNode=t,n.isParent=e}function Vh(){return W.lFrame.isParent}function BE(){W.lFrame.isParent=!1}function $E(){return VE}function b_(t){VE=t}function jh(){let t=W.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function EM(t){return W.lFrame.bindingIndex=t}function Uh(){return W.lFrame.bindingIndex++}function IM(t){let e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function wM(){return W.lFrame.inI18n}function CM(t,e){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jf(e)}function DM(){return W.lFrame.currentDirectiveIndex}function Jf(t){W.lFrame.currentDirectiveIndex=t}function bM(t){let e=W.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function HE(t){W.lFrame.currentQueryIndex=t}function TM(t){let e=t[H];return e.type===2?e.declTNode:e.type===1?t[kt]:null}function WE(t,e,n){if(n&B.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&B.Host);)if(i=TM(o),i===null||(o=o[Yi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=W.lFrame=zE();return r.currentTNode=e,r.lView=t,!0}function Bh(t){let e=zE(),n=t[H];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zE(){let t=W.lFrame,e=t===null?null:t.child;return e===null?GE(t):e}function GE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function qE(){let t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var YE=qE;function $h(){let t=qE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function SM(t){return(W.lFrame.contextLView=dM(t,W.lFrame.contextLView))[Pt]}function Ki(){return W.lFrame.selectedIndex}function xr(t){W.lFrame.selectedIndex=t}function KE(){let t=W.lFrame;return OE(t.tView,t.selectedIndex)}function ZE(){return W.lFrame.currentNamespace}var QE=!0;function Tl(){return QE}function Qn(t){QE=t}function AM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=NE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Sl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Uc(t,e,n){JE(t,e,3,n)}function Bc(t,e,n,r){(t[P]&3)===n&&JE(t,e,n,r)}function Nf(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function JE(t,e,n,r){let i=r!==void 0?t[xi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[xi]+=65536),(a<o||o==-1)&&(MM(t,n,e,c),t[xi]=(t[xi]&4294901760)+c+2),c++}function T_(t,e){Wt(4,t,e);let n=K(null);try{e.call(t)}finally{K(n),Wt(5,t,e)}}function MM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[P]>>14<t[xi]>>16&&(t[P]&3)===e&&(t[P]+=16384,T_(a,o)):T_(a,o)}var ki=-1,Pr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function NM(t){return t instanceof Pr}function RM(t){return(t.flags&8)!==0}function xM(t){return(t.flags&16)!==0}var Rf={},Xf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=El(r);let i=this.injector.get(e,Rf,r);return i!==Rf||n===Rf?i:this.parentInjector.get(e,n,r)}};function XE(t){return t!==ki}function Xc(t){return t&32767}function PM(t){return t>>16}function el(t,e){let n=PM(t),r=e;for(;n>0;)r=r[Yi],n--;return r}var eh=!0;function S_(t){let e=eh;return eh=t,e}var OM=256,eI=OM-1,tI=5,kM=0,zt={};function FM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(as)&&(r=n[as]),r==null&&(r=n[as]=kM++);let i=r&eI,o=1<<i;e.data[t+(i>>tI)]|=o}function tl(t,e){let n=nI(t,e);if(n!==-1)return n;let r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,xf(r.data,t),xf(e,null),xf(r.blueprint,null));let i=Hh(t,e),o=t.injectorIndex;if(XE(i)){let s=Xc(i),a=el(i,e),c=a[H].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function xf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Hh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=aI(i),r===null)return ki;if(n++,i=i[Yi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ki}function th(t,e,n){FM(t,e,n)}function LM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(mE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function rI(t,e,n){if(n&B.Optional||t!==void 0)return t;Rh(e,"NodeInjector")}function iI(t,e,n,r){if(n&B.Optional&&r===void 0&&(r=null),!(n&(B.Self|B.Host))){let i=t[ji],o=ht(void 0);try{return i?i.get(e,r,n&B.Optional):cE(e,r,n&B.Optional)}finally{ht(o)}}return rI(r,e,n)}function oI(t,e,n,r=B.Default,i){if(t!==null){if(e[P]&2048&&!(r&B.Self)){let s=$M(t,e,n,r,zt);if(s!==zt)return s}let o=sI(t,e,n,r,zt);if(o!==zt)return o}return iI(e,n,r,i)}function sI(t,e,n,r,i){let o=UM(n);if(typeof o=="function"){if(!WE(e,t,r))return r&B.Host?rI(i,n,r):iI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&B.Optional))Rh(n);else return s}finally{YE()}}else if(typeof o=="number"){let s=null,a=nI(t,e),c=ki,l=r&B.Host?e[gt][kt]:null;for((a===-1||r&B.SkipSelf)&&(c=a===-1?Hh(t,e):e[a+8],c===ki||!M_(r,!1)?a=-1:(s=e[H],a=Xc(c),e=el(c,e)));a!==-1;){let u=e[H];if(A_(o,a,u.data)){let d=VM(a,e,n,s,r,l);if(d!==zt)return d}c=e[a+8],c!==ki&&M_(r,e[H].data[a+8]===l)&&A_(o,a,e)?(s=u,a=Xc(c),e=el(c,e)):a=-1}}return i}function VM(t,e,n,r,i,o){let s=e[H],a=s.data[t+8],c=r==null?ys(a)&&eh:r!=s&&(a.type&3)!==0,l=i&B.Host&&o===a,u=jM(a,s,n,c,l);return u!==null?Hi(e,s,u,a):zt}function jM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&Wn(h)&&h.type===n)return c}return null}function Hi(t,e,n,r){let i=t[n],o=e.data;if(NM(i)){let s=i;s.resolving&&yA(vA(o[n]));let a=S_(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?ht(s.injectImpl):null,u=WE(t,r,B.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&AM(n,o[n],e)}finally{l!==null&&ht(l),S_(a),s.resolving=!1,YE()}}return i}function UM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(as)?t[as]:void 0;return typeof e=="number"?e>=0?e&eI:BM:e}function A_(t,e,n){let r=1<<t;return!!(n[e+(t>>tI)]&r)}function M_(t,e){return!(t&B.Self)&&!(t&B.Host&&e)}var Ar=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return oI(this._tNode,this._lView,e,El(r),n)}};function BM(){return new Ar(Ye(),se())}function Lr(t){return gs(()=>{let e=t.prototype.constructor,n=e[Wc]||nh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Wc]||nh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function nh(t){return nE(t)?()=>{let e=nh(We(t));return e&&e()}:Fi(t)}function $M(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[P]&2048&&!(s[P]&512);){let a=sI(o,s,n,r|B.Self,zt);if(a!==zt)return a;let c=o.parent;if(!c){let l=s[SE];if(l){let u=l.get(n,zt,r);if(u!==zt)return u}c=aI(s),s=s[Yi]}o=c}return i}function aI(t){let e=t[H],n=e.type;return n===2?e.declTNode:n===1?t[kt]:null}function Wh(t){return LM(Ye(),t)}function N_(t,e=null,n=null,r){let i=cI(t,e,n,r);return i.resolveInjectorInitializers(),i}function cI(t,e=null,n=null,r,i=new Set){let o=[n||nt,GA(t)];return r=r||(typeof t=="object"?void 0:ze(t)),new us(o,e||kh(),r||null,i)}var Ve=class t{static{this.THROW_IF_NOT_FOUND=cs}static{this.NULL=new qc}static create(e,n){if(Array.isArray(e))return N_({name:""},n,e,"");{let r=e.name??"";return N_({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=A({token:t,providedIn:"any",factory:()=>O(fE)})}static{this.__NG_ELEMENT_ID__=-1}};var HM=new D("");HM.__NG_ELEMENT_ID__=t=>{let e=Ye();if(e===null)throw new b(204,!1);if(e.type&2)return e.value;if(t&B.Optional)return null;throw new b(204,!1)};var WM="ngOriginalError";function Pf(t){return t[WM]}var lI=!0,uI=(()=>{class t{static{this.__NG_ELEMENT_ID__=zM}static{this.__NG_ENV_ID__=n=>n}}return t})(),rh=class extends uI{constructor(e){super(),this._lView=e}onDestroy(e){return LE(this._lView,e),()=>fM(this._lView,e)}};function zM(){return new rh(se())}var Vr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Re(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}}return t})();var ih=class extends Ae{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,rM()&&(this.destroyRef=_(uI,{optional:!0})??void 0,this.pendingTasks=_(Vr,{optional:!0})??void 0)}emit(e){let n=K(null);try{super.next(e)}finally{K(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof he&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ie=ih;function nl(...t){}function dI(t){let e,n;function r(){t=nl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function R_(t){return queueMicrotask(()=>t()),()=>{t=nl}}var zh="isAngularZone",rl=zh+"_ID",GM=0,te=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ie(!1),this.onMicrotaskEmpty=new Ie(!1),this.onStable=new Ie(!1),this.onError=new Ie(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=lI}=e;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,KM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(zh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,qM,nl,nl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},qM={};function Gh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function YM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){dI(()=>{t.callbackScheduled=!1,oh(t),t.isCheckStableRunning=!0,Gh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),oh(t)}function KM(t){let e=()=>{YM(t)},n=GM++;t._inner=t._inner.fork({name:"angular",properties:{[zh]:!0,[rl]:n,[rl+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(ZM(c))return r.invokeTask(o,s,a,c);try{return x_(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),P_(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return x_(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!QM(c)&&e(),P_(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,oh(t),Gh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function oh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function x_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function P_(t){t._nesting--,Gh(t)}var sh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ie,this.onMicrotaskEmpty=new Ie,this.onStable=new Ie,this.onError=new Ie}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function ZM(t){return fI(t,"__ignore_ng_zone__")}function QM(t){return fI(t,"__scheduler_tick__")}function fI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var mn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Pf(e);for(;n&&Pf(n);)n=Pf(n);return n||null}},JM=new D("",{providedIn:"root",factory:()=>{let t=_(te),e=_(mn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function XM(){return Al(Ye(),se())}function Al(t,e){return new Ft(st(t,e))}var Ft=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=XM}}return t})();var eN="ngSkipHydration",tN="ngskiphydration";function hI(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===tN)return!0}return!1}function pI(t){return t.hasAttribute(eN)}function il(t){return(t.flags&128)===128}function nN(t){if(il(t))return!0;let e=t.parent;for(;e;){if(il(t)||hI(e))return!0;e=e.parent}return!1}var mI=new Map,rN=0;function iN(){return rN++}function oN(t){mI.set(t[wl],t)}function ah(t){mI.delete(t[wl])}var O_="__ngContext__";function zn(t,e){xt(e)?(t[O_]=e[wl],oN(e)):t[O_]=e}function gI(t){return yI(t[ds])}function vI(t){return yI(t[Rt])}function yI(t){for(;t!==null&&!Zt(t);)t=t[Rt];return t}var ch;function _I(t){ch=t}function Ml(){if(ch!==void 0)return ch;if(typeof document<"u")return document;throw new b(210,!1)}var Nl=new D("",{providedIn:"root",factory:()=>sN}),sN="ng",qh=new D(""),_t=new D("",{providedIn:"platform",factory:()=>"unknown"});var Yh=new D("",{providedIn:"root",factory:()=>Ml().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function aN(){let t=new Zi;return _(_t)==="browser"&&(t.store=cN(Ml(),_(Nl))),t}var Zi=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=A({token:t,providedIn:"root",factory:aN})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function cN(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var EI="h",II="b",lh=function(t){return t.FirstChild="f",t.NextSibling="n",t}(lh||{}),lN="e",uN="t",Kh="c",wI="x",ol="r",dN="i",fN="n",CI="d";var hN="__nghData__",DI=hN,Of="ngh",pN="nghm",bI=()=>null;function mN(t,e,n=!1){let r=t.getAttribute(Of);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=e.get(Zi,null,{optional:!0});u!==null&&(c=u.get(DI,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Rl(l,0,t.nextSibling)),a?t.setAttribute(Of,a):t.removeAttribute(Of),l}function gN(){bI=mN}function Zh(t,e,n=!1){return bI(t,e,n)}function vN(t){let e=t._lView;return e[H].type===2?null:(Jc(e)&&(e=e[Ge]),e)}function yN(t){return t.textContent?.replace(/\s/gm,"")}function _N(t){let e=Ml(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=yN(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Rl(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function uh(t,e){return t.segmentHeads?.[e]??null}function EN(t,e){let n=t.data,r=n[lN]?.[e]??null;return r===null&&n[Kh]?.[e]&&(r=Qh(t,e)),r}function TI(t,e){return t.data[Kh]?.[e]??null}function Qh(t,e){let n=TI(t,e)??[],r=0;for(let i of n)r+=i[ol]*(i[wI]??1);return r}function IN(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[CI];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Es(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[CI];t.disconnectedNodes=n?new Set(n):null}return!!IN(t)?.has(e)}var xc=new D(""),SI=!1,AI=new D("",{providedIn:"root",factory:()=>SI});var Pc;function wN(){if(Pc===void 0&&(Pc=null,$f.trustedTypes))try{Pc=$f.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pc}function k_(t){return wN()?.createScriptURL(t)||t}var sl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eE})`}};function Is(t){return t instanceof sl?t.changingThisBreaksApplicationSecurity:t}function Jh(t,e){let n=CN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${eE})`)}return n===e}function CN(t){return t instanceof sl&&t.getTypeName()||null}var DN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function MI(t){return t=String(t),t.match(DN)?t:"unsafe:"+t}var xl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(xl||{});function bN(t){let e=RI();return e?e.sanitize(xl.URL,t)||"":Jh(t,"URL")?Is(t):MI(_l(t))}function TN(t){let e=RI();if(e)return k_(e.sanitize(xl.RESOURCE_URL,t)||"");if(Jh(t,"ResourceURL"))return k_(Is(t));throw new b(904,!1)}function SN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?TN:bN}function NI(t,e,n){return SN(e,n)(t)}function RI(){let t=se();return t&&t[Yt].sanitizer}var AN=/^>|^->|<!--|-->|--!>|<!-$/g,MN=/(<|>)/g,NN="\u200B$1\u200B";function RN(t){return t.replace(AN,e=>e.replace(MN,NN))}function xN(t){return t.ownerDocument.body}function xI(t){return t instanceof Function?t():t}function Oc(t){return(t??_(Ve)).get(_t)==="browser"}var gn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(gn||{}),PN;function Xh(t,e){return PN(t,e)}function Pi(t,e,n,r,i){if(r!=null){let o,s=!1;Zt(r)?o=r:xt(r)&&(s=!0,r=r[it]);let a=Ot(r);t===0&&n!==null?i==null?VI(e,n,a):al(e,n,a,i||null,!0):t===1&&n!==null?al(e,n,a,i||null,!0):t===2?np(e,a,s):t===3&&e.destroyNode(a),o!=null&&YN(e,t,o,n,i)}}function PI(t,e){return t.createText(e)}function ON(t,e,n){t.setValue(e,n)}function OI(t,e){return t.createComment(RN(e))}function ep(t,e,n){return t.createElement(e,n)}function kN(t,e){kI(t,e),e[it]=null,e[kt]=null}function FN(t,e,n,r,i,o){r[it]=i,r[kt]=e,Ol(t,r,n,1,i,o)}function kI(t,e){e[Yt].changeDetectionScheduler?.notify(9),Ol(t,e,e[pe],2,null,null)}function LN(t){let e=t[ds];if(!e)return kf(t[H],t);for(;e;){let n=null;if(xt(e))n=e[ds];else{let r=e[rt];r&&(n=r)}if(!n){for(;e&&!e[Rt]&&e!==t;)xt(e)&&kf(e[H],e),e=e[Le];e===null&&(e=t),xt(e)&&kf(e[H],e),n=e&&e[Rt]}e=n}}function VN(t,e,n,r){let i=rt+r,o=n.length;r>0&&(n[i-1][Rt]=e),r<o-rt?(e[Rt]=n[i],dE(n,rt+r,e)):(n.push(e),e[Rt]=null),e[Le]=n;let s=e[Ui];s!==null&&n!==s&&FI(s,e);let a=e[Bi];a!==null&&a.insertView(t),Qf(e),e[P]|=128}function FI(t,e){let n=t[Zc],r=e[Le];if(xt(r))t[P]|=Qc.HasTransplantedViews;else{let i=r[Le][gt];e[gt]!==i&&(t[P]|=Qc.HasTransplantedViews)}n===null?t[Zc]=[e]:n.push(e)}function tp(t,e){let n=t[Zc],r=n.indexOf(e);n.splice(r,1)}function dh(t,e){if(t.length<=rt)return;let n=rt+e,r=t[n];if(r){let i=r[Ui];i!==null&&i!==t&&tp(i,r),e>0&&(t[n-1][Rt]=r[Rt]);let o=Gc(t,rt+e);kN(r[H],r);let s=o[Bi];s!==null&&s.detachView(o[H]),r[Le]=null,r[Rt]=null,r[P]&=-129}return r}function LI(t,e){if(!(e[P]&256)){let n=e[pe];n.destroyNode&&Ol(t,e,n,3,null,null),LN(e)}}function kf(t,e){if(e[P]&256)return;let n=K(null);try{e[P]&=-129,e[P]|=256,e[pt]&&rf(e[pt]),UN(t,e),jN(t,e),e[H].type===1&&e[pe].destroy();let r=e[Ui];if(r!==null&&Zt(e[Le])){r!==e[Le]&&tp(r,e);let i=e[Bi];i!==null&&i.detachView(t)}ah(e)}finally{K(n)}}function jN(t,e){let n=t.cleanup,r=e[Yc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Yc]=null);let i=e[$n];if(i!==null){e[$n]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function UN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Pr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Wt(4,a,c);try{c.call(a)}finally{Wt(5,a,c)}}else{Wt(4,i,o);try{o.call(i)}finally{Wt(5,i,o)}}}}}function BN(t,e,n){return $N(t,e.parent,n)}function $N(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[it];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Gt.None||o===Gt.Emulated)return null}return st(r,n)}}function al(t,e,n,r,i){t.insertBefore(e,n,r,i)}function VI(t,e,n){t.appendChild(e,n)}function F_(t,e,n,r,i){r!==null?al(t,e,n,r,i):VI(t,e,n)}function jI(t,e){return t.parentNode(e)}function HN(t,e){return t.nextSibling(e)}function WN(t,e,n){return GN(t,e,n)}function zN(t,e,n){return t.type&40?st(t,n):null}var GN=zN,L_;function Pl(t,e,n,r){let i=BN(t,r,e),o=e[pe],s=r.parent||e[kt],a=WN(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)F_(o,i,n[c],a,!1);else F_(o,i,n,a,!1);L_!==void 0&&L_(o,r,e,n,i)}function os(t,e){if(e!==null){let n=e.type;if(n&3)return st(e,t);if(n&4)return fh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return os(t,r);{let i=t[e.index];return Zt(i)?fh(-1,i):Ot(i)}}else{if(n&128)return os(t,e.next);if(n&32)return Xh(e,t)()||Ot(t[e.index]);{let r=UI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Rr(t[gt]);return os(i,r)}else return os(t,e.next)}}}return null}function UI(t,e){if(e!==null){let r=t[gt][kt],i=e.projection;return r.projection[i]}return null}function fh(t,e){let n=rt+t+1;if(n<e.length){let r=e[n],i=r[H].firstChild;if(i!==null)return os(r,i)}return e[pn]}function np(t,e,n){t.removeChild(null,e,n)}function BI(t){t.textContent=""}function rp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&zn(Ot(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)rp(t,e,n.child,r,i,o,!1),Pi(e,t,i,a,o);else if(c&32){let l=Xh(n,r),u;for(;u=l();)Pi(e,t,i,u,o);Pi(e,t,i,a,o)}else c&16?qN(t,e,r,n,i,o):Pi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ol(t,e,n,r,i,o){rp(n,r,t.firstChild,e,i,o,!1)}function qN(t,e,n,r,i,o){let s=n[gt],c=s[kt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Pi(e,t,i,u,o)}else{let l=c,u=s[Le];il(r)&&(l.flags|=128),rp(t,e,l,u,i,o,!0)}}function YN(t,e,n,r,i){let o=n[pn],s=Ot(n);o!==s&&Pi(e,t,r,o,i);for(let a=rt;a<n.length;a++){let c=n[a];Ol(c[H],c,t,e,r,o)}}function KN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:gn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=gn.Important),t.setStyle(n,r,i,o))}}function ZN(t,e,n){t.setAttribute(e,"style",n)}function $I(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function HI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Gf(t,e,r),i!==null&&$I(t,e,i),o!==null&&ZN(t,e,o)}var jr={};function T(t=1){WI(at(),se(),Ki()+t,!1)}function WI(t,e,n,r){if(!r)if((e[P]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Uc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Bc(e,o,0,n)}xr(n)}function C(t,e=B.Default){let n=se();if(n===null)return O(t,e);let r=Ye();return oI(r,n,We(t),e)}function zI(t,e,n,r,i,o){let s=K(null);try{let a=null;i&Hn.SignalBased&&(a=e[r][kn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Hn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):ME(e,a,r,o)}finally{K(s)}}function QN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)xr(~i);else{let o=i,s=n[++r],a=n[++r];CM(s,o);let c=e[o];a(2,c)}}}finally{xr(-1)}}function kl(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[it]=i,d[P]=r|4|128|8|64,(l!==null||t&&t[P]&2048)&&(d[P]|=2048),kE(d),d[Le]=d[Yi]=t,d[Pt]=n,d[Yt]=s||t&&t[Yt],d[pe]=a||t&&t[pe],d[ji]=c||t&&t[ji]||null,d[kt]=o,d[wl]=iN(),d[qt]=u,d[SE]=l,d[gt]=e.type==2?t[gt]:d,d}function ws(t,e,n,r,i){let o=t.data[e];if(o===null)o=JN(t,e,n,r,i),wM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=_M();o.injectorIndex=s===null?-1:s.injectorIndex}return Fr(o,!0),o}function JN(t,e,n,r,i){let o=UE(),s=Vh(),a=s?o:o&&o.parent,c=t.data[e]=iR(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function GI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qI(t,e,n,r,i){let o=Ki(),s=r&2;try{xr(-1),s&&e.length>Ge&&WI(t,e,Ge,!1),Wt(s?2:0,i),n(r,i)}finally{xr(o),Wt(s?3:1,i)}}function ip(t,e,n){if(Fh(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{K(r)}}}function op(t,e,n){jE()&&(dR(t,e,n,st(n,e)),(n.flags&64)===64&&QI(t,e,n))}function sp(t,e,n=st){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function YI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ap(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ap(t,e,n,r,i,o,s,a,c,l,u){let d=Ge+r,f=d+i,h=XN(d,f),p=typeof l=="function"?l():l;return h[H]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function XN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:jr);return n}function eR(t,e,n,r){let o=r.get(AI,SI)||n===Gt.ShadowDom,s=t.selectRootElement(e,o);return tR(s),s}function tR(t){KI(t)}var KI=()=>null;function nR(t){pI(t)?BI(t):_N(t)}function rR(){KI=nR}function iR(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _s()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function V_(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Hn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?j_(r,n,l,a,c):j_(r,n,l,a)}return r}function j_(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function oR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=V_(0,d.inputs,u,c,h),l=V_(1,d.outputs,u,l,p);let w=c!==null&&s!==null&&!Ph(e)?wR(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function sR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function aR(t,e,n,r,i,o,s,a){let c=st(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(lp(t,n,u,r,i),ys(e)&&cR(n,e.index)):e.type&3?(r=sR(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function cR(t,e){let n=Zn(e,t);n[P]&16||(n[P]|=64)}function cp(t,e,n,r){if(jE()){let i=r===null?null:{"":-1},o=hR(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&ZI(t,e,n,s,i,a),i&&pR(n,r,i)}n.mergedAttrs=ls(n.mergedAttrs,n.attrs)}function ZI(t,e,n,r,i,o){for(let l=0;l<r.length;l++)th(tl(n,e),t,r[l].type);gR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=GI(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=ls(n.mergedAttrs,u.hostAttrs),vR(t,n,e,c,u),mR(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}oR(t,n,o)}function lR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;uR(s)!=a&&s.push(a),s.push(n,r,o)}}function uR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function dR(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ys(n)&&yR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||tl(n,e),zn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Hi(e,t,a,n);if(zn(l,e),s!==null&&IR(e,a-i,l,c,n,s),Wn(c)){let u=Zn(n.index,e);u[Pt]=Hi(e,t,a,n)}}}function QI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=DM();try{xr(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Jf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&fR(c,l)}}finally{xr(-1),Jf(s)}}function fR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function hR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(LA(e,s.selectors,!1))if(r||(r=[]),Wn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;hh(t,e,c)}else r.unshift(s),hh(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function hh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function pR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new b(-301,!1);r.push(e[i],o)}}}function mR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Wn(e)&&(n[""]=t)}}function gR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Fi(i.type,!0)),s=new Pr(o,Wn(i),C);t.blueprint[r]=s,n[r]=s,lR(t,e,r,GI(t,n,i.hostVars,jr),i)}function yR(t,e,n){let r=st(e,t),i=YI(n),o=t[Yt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Fl(t,kl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function _R(t,e,n,r,i,o){let s=st(t,e);ER(e[pe],s,o,t.value,n,r,i)}function ER(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?_l(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function IR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];zI(r,n,c,l,u,d)}}function wR(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function JI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function XI(t,e){let n=t.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];HE(o),a.contentQueries(2,e[s],s)}}}finally{K(r)}}}function Fl(t,e){return t[ds]?t[C_][Rt]=e:t[ds]=e,t[C_]=e,e}function ph(t,e,n){HE(0);let r=K(null);try{e(t,n)}finally{K(r)}}function CR(t){return t[Yc]??=[]}function DR(t){return t.cleanup??=[]}function ew(t,e){let n=t[ji],r=n?n.get(mn,null):null;r&&r.handleError(e)}function lp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];zI(u,l,r,a,c,i)}}function bR(t,e,n){let r=PE(e,t);ON(t[pe],r,n)}function TR(t,e){let n=Zn(e,t),r=n[H];SR(r,n);let i=n[it];i!==null&&n[qt]===null&&(n[qt]=Zh(i,n[ji])),up(r,n,n[Pt])}function SR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function up(t,e,n){Bh(e);try{let r=t.viewQuery;r!==null&&ph(1,r,n);let i=t.template;i!==null&&qI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Bi]?.finishViewCreation(t),t.staticContentQueries&&XI(t,e),t.staticViewQueries&&ph(2,t.viewQuery,n);let o=t.components;o!==null&&AR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,$h()}}function AR(t,e){for(let n=0;n<e.length;n++)TR(t,e[n])}function MR(t,e,n,r){let i=K(null);try{let o=e.tView,a=t[P]&4096?4096:16,c=kl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ui]=l;let u=t[Bi];return u!==null&&(c[Bi]=u.createEmbeddedView(o)),up(o,c,n),c}finally{K(i)}}function U_(t,e){return!e||e.firstChild===null||il(t)}function NR(t,e,n,r=!0){let i=e[H];if(VN(i,e,t,n),r){let s=fh(n,t),a=e[pe],c=jI(a,t[pn]);c!==null&&FN(i,t[kt],a,e,c,s)}let o=e[qt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function cl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Ot(o)),Zt(o)&&RR(o,r);let s=n.type;if(s&8)cl(t,e,n.child,r);else if(s&32){let a=Xh(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=UI(e,n);if(Array.isArray(a))r.push(...a);else{let c=Rr(e[gt]);cl(c[H],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function RR(t,e){for(let n=rt;n<t.length;n++){let r=t[n],i=r[H].firstChild;i!==null&&cl(r[H],r,i,e)}t[pn]!==t[it]&&e.push(t[pn])}var tw=[];function xR(t){return t[pt]??PR(t)}function PR(t){let e=tw.pop()??Object.create(kR);return e.lView=t,e}function OR(t){t.lView[pt]!==t&&(t.lView=null,tw.push(t))}var kR=q(E({},Xo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{bl(t.lView)},consumerOnSignalRead(){this.lView[pt]=this}});function FR(t){let e=t[pt]??Object.create(LR);return e.lView=t,e}var LR=q(E({},Xo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Rr(t.lView);for(;e&&!nw(e[H]);)e=Rr(e);e&&FE(e)},consumerOnSignalRead(){this.lView[pt]=this}});function nw(t){return t.type!==2}var VR=100;function rw(t,e=!0,n=0){let r=t[Yt],i=r.rendererFactory,o=!1;o||i.begin?.();try{jR(t,n)}catch(s){throw e&&ew(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function jR(t,e){let n=$E();try{b_(!0),mh(t,e);let r=0;for(;Dl(t);){if(r===VR)throw new b(103,!1);r++,mh(t,1)}}finally{b_(n)}}function UR(t,e,n,r){let i=e[P];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Yt].inlineEffectRunner?.flush(),Bh(e);let a=!0,c=null,l=null;o||(nw(t)?(l=xR(e),c=tc(l)):Sy()===null?(a=!1,l=FR(e),c=tc(l)):e[pt]&&(rf(e[pt]),e[pt]=null));try{kE(e),EM(t.bindingStartIndex),n!==null&&qI(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&Uc(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Bc(e,h,0,null),Nf(e,0)}if(s||BR(e),iw(e,0),t.contentQueries!==null&&XI(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&Uc(e,h)}else{let h=t.contentHooks;h!==null&&Bc(e,h,1),Nf(e,1)}QN(t,e);let d=t.components;d!==null&&sw(e,d,0);let f=t.viewQuery;if(f!==null&&ph(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&Uc(e,h)}else{let h=t.viewHooks;h!==null&&Bc(e,h,2),Nf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Mf]){for(let h of e[Mf])h();e[Mf]=null}o||(e[P]&=-73)}catch(u){throw o||bl(e),u}finally{l!==null&&(tf(l,c),a&&OR(l)),$h()}}function iw(t,e){for(let n=gI(t);n!==null;n=vI(n))for(let r=rt;r<n.length;r++){let i=n[r];ow(i,e)}}function BR(t){for(let e=gI(t);e!==null;e=vI(e)){if(!(e[P]&Qc.HasTransplantedViews))continue;let n=e[Zc];for(let r=0;r<n.length;r++){let i=n[r];FE(i)}}}function $R(t,e,n){let r=Zn(e,t);ow(r,n)}function ow(t,e){Lh(t)&&mh(t,e)}function mh(t,e){let r=t[H],i=t[P],o=t[pt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&nf(o)),s||=!1,o&&(o.dirty=!1),t[P]&=-9217,s)UR(r,t,r.template,t[Pt]);else if(i&8192){iw(t,1);let a=r.components;a!==null&&sw(t,a,1)}}function sw(t,e,n){for(let r=0;r<e.length;r++)$R(t,e[r],n)}function dp(t,e){let n=$E()?64:1088;for(t[Yt].changeDetectionScheduler?.notify(e);t;){t[P]|=n;let r=Rr(t);if(Jc(t)&&!r)return t;t=r}return null}var Or=class{get rootNodes(){let e=this._lView,n=e[H];return cl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pt]}set context(e){this._lView[Pt]=e}get destroyed(){return(this._lView[P]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Le];if(Zt(e)){let n=e[Kc],r=n?n.indexOf(this):-1;r>-1&&(dh(e,r),Gc(n,r))}this._attachedToViewContainer=!1}LI(this._lView[H],this._lView)}onDestroy(e){LE(this._lView,e)}markForCheck(){dp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){Qf(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,rw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Jc(this._lView),n=this._lView[Ui];n!==null&&!e&&tp(n,this._lView),kI(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e;let n=Jc(this._lView),r=this._lView[Ui];r!==null&&!n&&FI(r,this._lView),Qf(this._lView)}},Cs=(()=>{class t{static{this.__NG_ELEMENT_ID__=zR}}return t})(),HR=Cs,WR=class extends HR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=MR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Or(i)}};function zR(){return GR(Ye(),se())}function GR(t,e){return t.type&4?new WR(e,t,Al(t,e)):null}var qR=new RegExp(`^(\\d+)*(${II}|${EI})*(.*)`);function YR(t){let e=t.match(qR),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function KR(t){return!t.prev&&t.parent?.type===8}function Ff(t){return t.index-Ge}function ZR(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Ll(t,e,n,r){let i=Ff(r),o=ZR(t,i);if(o===void 0){let s=t.data[fN];if(s?.[i])o=JR(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(KR(r)){let l=Ff(r.parent);o=uh(t,l)}else{let l=st(c,n);if(a)o=l.firstChild;else{let u=Ff(c),d=uh(t,u);if(c.type===2&&d){let h=Qh(t,u)+1;o=Vl(h,d)}else o=l.nextSibling}}}}return o}function Vl(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function QR(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case lh.FirstChild:n=n.firstChild;break;case lh.NextSibling:n=n.nextSibling;break}}return n}function JR(t,e){let[n,...r]=YR(t),i;if(n===EI)i=e[gt][it];else if(n===II)i=xN(e[gt][it]);else{let o=Number(n);i=Ot(e[o+Ge])}return QR(i,r)}var XR=!1;function ex(t){XR=t}function tx(t){let e=t[qt];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[pe];for(let o of r.values())nx(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function nx(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Ge);i&&np(t,i,!1)}}function aw(t){let e=t[fs]??[],r=t[Le][pe];for(let i of e)rx(i,r);t[fs]=nt}function rx(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[ol];for(;n<i;){let o=r.nextSibling;np(e,r,!1),r=o,n++}}}function cw(t){aw(t);let e=t[it];xt(e)&&ll(e);for(let n=rt;n<t.length;n++)ll(t[n])}function ll(t){tx(t);let e=t[H];for(let n=Ge;n<e.bindingStartIndex;n++)if(Zt(t[n])){let r=t[n];cw(r)}else xt(t[n])&&ll(t[n])}function ix(t){let e=t._views;for(let n of e){let r=vN(n);r!==null&&r[it]!==null&&(xt(r)?ll(r):cw(r))}}function ox(t,e){let n=[];for(let r of e)for(let i=0;i<(r[wI]??1);i++){let o={data:r,firstChild:null};r[ol]>0&&(o.firstChild=t,t=Vl(r[ol],t)),n.push(o)}return[t,n]}var lw=()=>null;function sx(t,e){let n=t[fs];return!e||n===null||n.length===0?null:n[0].data[dN]===e?n.shift():(aw(t),null)}function ax(){lw=sx}function B_(t,e){return lw(t,e)}var Wi=class{},jl=new D("",{providedIn:"root",factory:()=>!1});var uw=new D(""),dw=new D(""),gh=class{},ul=class{};function cx(t){let e=Error(`No component factory found for ${ze(t)}.`);return e[lx]=t,e}var lx="ngComponent";var vh=class{resolveComponentFactory(e){throw cx(e)}},zi=class{static{this.NULL=new vh}},Gi=class{},Qt=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>ux()}}return t})();function ux(){let t=se(),e=Ye(),n=Zn(e.index,t);return(xt(n)?n:t)[pe]}var dx=(()=>{class t{static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>null})}}return t})();function dl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=h_(i,a);else if(o==2){let c=a,l=e[++s];r=h_(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var fl=class extends zi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Nr(e);return new hs(n,this.ngModule)}};function $_(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Hn.None;e?n.push({propName:s,templateName:r,isSignal:(a&Hn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function fx(t){let e=t.toLowerCase();return e==="svg"?cM:e==="math"?lM:null}var hs=class extends ul{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=$_(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return $_(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=BA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=K(null);try{i=i||this.ngModule;let s=i instanceof mt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Xf(e,s):e,c=a.get(Gi,null);if(c===null)throw new b(407,!1);let l=a.get(dx,null),u=a.get(Wi,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},f=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?eR(f,r,this.componentDef.encapsulation,a):ep(f,h,fx(h)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let M=null;p!==null&&(M=Zh(p,a,!0));let k=ap(0,null,null,1,0,null,null,null,null,null,null),le=kl(null,k,null,w,null,null,d,f,a,null,M);Bh(le);let ue,Ee,St=null;try{let Ne=this.componentDef,fn,Zo=null;Ne.findHostDirectiveDefs?(fn=[],Zo=new Map,Ne.findHostDirectiveDefs(Ne,fn,Zo),fn.push(Ne)):fn=[Ne];let Qo=hx(le,p);St=px(Qo,p,Ne,fn,le,d,f),Ee=OE(k,Ge),p&&vx(f,Ne,p,r),n!==void 0&&yx(Ee,this.ngContentSelectors,n),ue=gx(St,Ne,fn,Zo,le,[_x]),up(k,le,null)}catch(Ne){throw St!==null&&ah(St),ah(le),Ne}finally{$h()}return new yh(this.componentType,ue,Al(Ee,le),le,Ee)}finally{K(o)}}},yh=class extends gh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Or(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;lp(o[H],o,i,e,n),this.previousInputValues.set(e,n);let s=Zn(this._tNode.index,o);dp(s,1)}}get injector(){return new Ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hx(t,e){let n=t[H],r=Ge;return t[r]=e,ws(n,r,2,"#host",null)}function px(t,e,n,r,i,o,s){let a=i[H];mx(r,t,e,s);let c=null;e!==null&&(c=Zh(e,i[ji]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=kl(i,YI(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&hh(a,t,r.length-1),Fl(i,d),i[t.index]=d}function mx(t,e,n,r){for(let i of t)e.mergedAttrs=ls(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(dl(e,e.mergedAttrs,!0),n!==null&&HI(r,n,e))}function gx(t,e,n,r,i,o){let s=Ye(),a=i[H],c=st(s,i);ZI(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=Hi(i,a,d,s);zn(f,i)}QI(a,i,s),c&&zn(c,i);let l=Hi(i,a,s.directiveStart+s.componentOffset,s);if(t[Pt]=i[Pt]=l,o!==null)for(let u of o)u(l,e);return ip(a,s,i),l}function vx(t,e,n,r){if(r)Gf(t,n,["ng-version","18.2.10"]);else{let{attrs:i,classes:o}=$A(e.selectors[0]);i&&Gf(t,n,i),o&&o.length>0&&$I(t,n,o.join(" "))}}function yx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function _x(){let t=Ye();Sl(se()[H],t)}var Ur=(()=>{class t{static{this.__NG_ELEMENT_ID__=Ex}}return t})();function Ex(){let t=Ye();return wx(t,se())}var Ix=Ur,fw=class extends Ix{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Al(this._hostTNode,this._hostLView)}get injector(){return new Ar(this._hostTNode,this._hostLView)}get parentInjector(){let e=Hh(this._hostTNode,this._hostLView);if(XE(e)){let n=el(e,this._hostLView),r=Xc(e),i=n[H].data[r+8];return new Ar(i,n)}else return new Ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=H_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-rt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=B_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,U_(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!iM(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?e:new hs(Nr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(mt,null);w&&(o=w)}let u=Nr(c.componentType??{}),d=B_(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,U_(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(uM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Le],l=new fw(c,c[kt],c[Le]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return NR(s,i,o,r),e.attachToViewContainerRef(),dE(Lf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=H_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=dh(this._lContainer,n);r&&(Gc(Lf(this._lContainer),n),LI(r[H],r))}detach(e){let n=this._adjustIndex(e,-1),r=dh(this._lContainer,n);return r&&Gc(Lf(this._lContainer),n)!=null?new Or(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function H_(t){return t[Kc]}function Lf(t){return t[Kc]||(t[Kc]=[])}function wx(t,e){let n,r=e[t.index];return Zt(r)?n=r:(n=JI(r,e,null,t),e[t.index]=n,Fl(e,n)),hw(n,e,t,r),new fw(n,t,e)}function Cx(t,e){let n=t[pe],r=n.createComment(""),i=st(e,t),o=jI(n,i);return al(n,o,r,HN(n,i),!1),r}var hw=pw,fp=()=>!1;function Dx(t,e,n){return fp(t,e,n)}function pw(t,e,n,r){if(t[pn])return;let i;n.type&8?i=Ot(r):i=Cx(e,n),t[pn]=i}function bx(t,e,n){if(t[pn]&&t[fs])return!0;let r=n[qt],i=e.index-Ge;if(!r||nN(e)||Es(r,i))return!1;let s=uh(r,i),a=r.data[Kh]?.[i],[c,l]=ox(s,a);return t[pn]=c,t[fs]=l,!0}function Tx(t,e,n,r){fp(t,n,e)||pw(t,e,n,r)}function Sx(){hw=Tx,fp=bx}var W_=new Set;function Jn(t){W_.has(t)||(W_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ds(t,e){Jn("NgSignals");let n=Vy(t),r=n[kn];return e?.equal&&(r.equal=e.equal),n.set=i=>of(r,i),n.update=i=>jy(r,i),n.asReadonly=Ax.bind(n),n}function Ax(){let t=this[kn];if(t.readonlyFn===void 0){let e=()=>this();e[kn]=t,t.readonlyFn=e}return t.readonlyFn}function Mx(t){return Object.getPrototypeOf(t.prototype).constructor}function Jt(t){let e=Mx(t.type),n=!0,r=[t];for(;e;){let i;if(Wn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=kc(t.inputs),s.inputTransforms=kc(t.inputTransforms),s.declaredInputs=kc(t.declaredInputs),s.outputs=kc(t.outputs);let a=i.hostBindings;a&&Ox(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&xx(t,c),l&&Px(t,l),Nx(t,i),lA(t.outputs,i.outputs),Wn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Jt&&(n=!1)}}e=Object.getPrototypeOf(e)}Rx(r)}function Nx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Rx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ls(i.hostAttrs,n=ls(n,i.hostAttrs))}}function kc(t){return t===Li?{}:t===nt?[]:t}function xx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Px(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function Ox(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function hp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Gn=class{},ps=class{};var _h=class extends Gn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fl(this);let o=EE(e);this._bootstrapComponents=xI(o.bootstrap),this._r3Injector=cI(e,n,[{provide:Gn,useValue:this},{provide:zi,useValue:this.componentFactoryResolver},...r],ze(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Eh=class extends ps{constructor(e){super(),this.moduleType=e}create(e){return new _h(this.moduleType,e,[])}};var hl=class extends Gn{constructor(e){super(),this.componentFactoryResolver=new fl(this),this.instance=null;let n=new us([...e.providers,{provide:Gn,useValue:this},{provide:zi,useValue:this.componentFactoryResolver}],e.parent||kh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function pp(t,e,n=null){return new hl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function mw(t){return Fx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function kx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Fx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function mp(t,e,n){return t[e]=n}function qn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function gw(t,e,n,r){let i=qn(t,e,n);return qn(t,e+1,r)||i}function Lx(t,e,n,r,i){let o=gw(t,e,n,r);return qn(t,e+2,i)||o}function bs(t){return(t.flags&32)===32}function Vx(t,e,n,r,i,o,s,a,c){let l=e.consts,u=ws(e,t,4,s||null,a||null);cp(e,n,u,$i(l,c)),Sl(e,u);let d=u.tView=ap(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function jx(t,e,n,r,i,o,s,a,c,l){let u=n+Ge,d=e.firstCreatePass?Vx(u,e,t,r,i,o,s,a,c):e.data[u];Fr(d,!1);let f=vw(e,t,d,n);Tl()&&Pl(e,t,f,d),zn(f,t);let h=JI(f,t,f,d);return t[u]=h,Fl(t,h),Dx(h,d,t),Cl(d)&&op(e,t,d),c!=null&&sp(t,d,l),d}function fe(t,e,n,r,i,o,s,a){let c=se(),l=at(),u=$i(l.consts,o);return jx(c,l,t,e,n,r,i,u,s,a),fe}var vw=yw;function yw(t,e,n,r){return Qn(!0),e[pe].createComment("")}function Ux(t,e,n,r){let i=e[qt],o=!i||_s()||bs(n)||Es(i,r);if(Qn(o),o)return yw(t,e,n,r);let s=i.data[uN]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Ll(i,t,e,n);Rl(i,r,a);let c=Qh(i,r);return Vl(c,a)}function Bx(){vw=Ux}var ss=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ss||{}),$x=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}}return t})(),z_=class t{constructor(){this.ngZone=_(te),this.scheduler=_(Wi),this.errorHandler=_(mn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ss.EarlyRead,ss.Write,ss.MixedReadWrite,ss.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}};function Br(t,e,n,r){let i=se(),o=Uh();if(qn(i,o,e)){let s=at(),a=KE();_R(a,i,t,e,n,r)}return Br}function Hx(t,e,n,r){return qn(t,Uh(),n)?e+_l(n)+r:jr}function Fc(t,e){return t<<17|e<<2}function kr(t){return t>>17&32767}function Wx(t){return(t&2)==2}function zx(t,e){return t&131071|e<<17}function Ih(t){return t|2}function qi(t){return(t&131068)>>2}function Vf(t,e){return t&-131069|e<<2}function Gx(t){return(t&1)===1}function wh(t){return t|1}function qx(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=kr(s),c=qi(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||vs(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=kr(t[a+1]);t[r+1]=Fc(f,a),f!==0&&(t[f+1]=Vf(t[f+1],r)),t[a+1]=zx(t[a+1],r)}else t[r+1]=Fc(a,0),a!==0&&(t[a+1]=Vf(t[a+1],r)),a=r;else t[r+1]=Fc(c,0),a===0?a=r:t[c+1]=Vf(t[c+1],r),c=r;l&&(t[r+1]=Ih(t[r+1])),G_(t,u,r,!0),G_(t,u,r,!1),Yx(e,u,t,r,o),s=Fc(a,c),o?e.classBindings=s:e.styleBindings=s}function Yx(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&vs(o,e)>=0&&(n[r+1]=wh(n[r+1]))}function G_(t,e,n,r){let i=t[n+1],o=e===null,s=r?kr(i):qi(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];Kx(c,e)&&(a=!0,t[s+1]=r?wh(l):Ih(l)),s=r?kr(l):qi(l)}a&&(t[n+1]=r?Ih(i):wh(i))}function Kx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?vs(t,e)>=0:!1}function S(t,e,n){let r=se(),i=Uh();if(qn(r,i,e)){let o=at(),s=KE();aR(o,s,r,t,e,r[pe],n,!1)}return S}function q_(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";lp(t,n,o[s],s,r)}function Ul(t,e){return Zx(t,e,null,!0),Ul}function Zx(t,e,n,r){let i=se(),o=at(),s=IM(2);if(o.firstUpdatePass&&Jx(o,t,s,r),e!==jr&&qn(i,s,e)){let a=o.data[Ki()];rP(o,a,i,i[pe],t,i[s+1]=iP(e,n),r,s)}}function Qx(t,e){return e>=t.expandoStartIndex}function Jx(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ki()],s=Qx(t,n);oP(o,r)&&e===null&&!s&&(e=!1),e=Xx(i,o,e,r),qx(i,o,e,n,s,r)}}function Xx(t,e,n,r){let i=bM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=jf(null,t,e,n,r),n=ms(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=jf(i,t,e,n,r),o===null){let c=eP(t,e,r);c!==void 0&&Array.isArray(c)&&(c=jf(null,t,e,c[1],r),c=ms(c,e.attrs,r),tP(t,e,r,c))}else o=nP(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function eP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(qi(r)!==0)return t[kr(r)]}function tP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[kr(i)]=r}function nP(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ms(r,s,n)}return ms(r,e.attrs,n)}function jf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ms(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ms(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),MA(t,s,n?!0:e[++o]))}return t===void 0?null:t}function rP(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=Gx(l)?Y_(c,e,n,i,qi(l),s):void 0;if(!pl(u)){pl(o)||Wx(l)&&(o=Y_(c,null,n,i,a,s));let d=PE(Ki(),n);KN(r,s,d,i,o)}}function Y_(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===jr&&(f=d?nt:void 0);let h=d?Sf(f,r):u===r?f:void 0;if(l&&!pl(h)&&(h=Sf(c,r)),pl(h)&&(a=h,s))return a;let p=t[i+1];i=s?kr(p):qi(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Sf(c,r))}return a}function pl(t){return t!==void 0}function iP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ze(Is(t)))),t}function oP(t,e){return(t.flags&(e?8:16))!==0}function sP(t,e,n,r,i,o){let s=e.consts,a=$i(s,i),c=ws(e,t,2,r,a);return cp(e,n,c,$i(s,o)),c.attrs!==null&&dl(c,c.attrs,!1),c.mergedAttrs!==null&&dl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function v(t,e,n,r){let i=se(),o=at(),s=Ge+t,a=i[pe],c=o.firstCreatePass?sP(s,o,i,e,n,r):o.data[s],l=_w(o,i,c,a,e,t);i[s]=l;let u=Cl(c);return Fr(c,!0),HI(a,l,c),!bs(c)&&Tl()&&Pl(o,i,l,c),hM()===0&&zn(l,i),pM(),u&&(op(o,i,c),ip(o,c,i)),r!==null&&sp(i,c),v}function g(){let t=Ye();Vh()?BE():(t=t.parent,Fr(t,!1));let e=t;gM(e)&&yM(),mM();let n=at();return n.firstCreatePass&&(Sl(n,t),Fh(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&RM(e)&&q_(n,e,se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xM(e)&&q_(n,e,se(),e.stylesWithoutHost,!1),g}function Z(t,e,n,r){return v(t,e,n,r),g(),Z}var _w=(t,e,n,r,i,o)=>(Qn(!0),ep(r,i,ZE()));function aP(t,e,n,r,i,o){let s=e[qt],a=!s||_s()||bs(n)||Es(s,o);if(Qn(a),a)return ep(r,i,ZE());let c=Ll(s,t,e,n);return TI(s,o)&&Rl(s,o,c.nextSibling),s&&(hI(n)||pI(c))&&ys(n)&&(vM(n),BI(c)),c}function cP(){_w=aP}function lP(t,e,n,r,i){let o=e.consts,s=$i(o,r),a=ws(e,t,8,"ng-container",s);s!==null&&dl(a,s,!0);let c=$i(o,i);return cp(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function $r(t,e,n){let r=se(),i=at(),o=t+Ge,s=i.firstCreatePass?lP(o,i,r,e,n):i.data[o];Fr(s,!0);let a=Ew(i,r,s,t);return r[o]=a,Tl()&&Pl(i,r,a,s),zn(a,r),Cl(s)&&(op(i,r,s),ip(i,s,r)),n!=null&&sp(r,s),$r}function Hr(){let t=Ye(),e=at();return Vh()?BE():(t=t.parent,Fr(t,!1)),e.firstCreatePass&&(Sl(e,t),Fh(t)&&e.queries.elementEnd(t)),Hr}var Ew=(t,e,n,r)=>(Qn(!0),OI(e[pe],""));function uP(t,e,n,r){let i,o=e[qt],s=!o||_s()||Es(o,r)||bs(n);if(Qn(s),s)return OI(e[pe],"");let a=Ll(o,t,e,n),c=EN(o,r);return Rl(o,r,a),i=Vl(c,a),i}function dP(){Ew=uP}function Xt(){return se()}var ml="en-US";var fP=ml;function hP(t){typeof t=="string"&&(fP=t.toLowerCase().replace(/_/g,"-"))}var pP=(t,e,n)=>{};function ae(t,e,n,r){let i=se(),o=at(),s=Ye();return gP(o,i,i[pe],s,t,e,r),ae}function mP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Yc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function gP(t,e,n,r,i,o,s){let a=Cl(r),l=t.firstCreatePass&&DR(t),u=e[Pt],d=CR(e),f=!0;if(r.type&3||s){let w=st(r,e),M=s?s(w):w,k=d.length,le=s?Ee=>s(Ot(Ee[r.index])):r.index,ue=null;if(!s&&a&&(ue=mP(t,e,i,r.index)),ue!==null){let Ee=ue.__ngLastListenerFn__||ue;Ee.__ngNextListenerFn__=o,ue.__ngLastListenerFn__=o,f=!1}else{o=Z_(r,e,u,o),pP(w,i,o);let Ee=n.listen(M,i,o);d.push(o,Ee),l&&l.push(i,le,k,k+1)}}else o=Z_(r,e,u,o);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let w=p.length;if(w)for(let M=0;M<w;M+=2){let k=p[M],le=p[M+1],St=e[k][le].subscribe(o),Ne=d.length;d.push(o,St),l&&l.push(i,r.index,Ne,-(Ne+1))}}}function K_(t,e,n,r){let i=K(null);try{return Wt(6,e,n),n(r)!==!1}catch(o){return ew(t,o),!1}finally{Wt(7,e,n),K(i)}}function Z_(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Zn(t.index,e):e;dp(s,5);let a=K_(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=K_(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function xe(t=1){return SM(t)}function I(t,e=""){let n=se(),r=at(),i=t+Ge,o=r.firstCreatePass?ws(r,i,1,e,null):r.data[i],s=Iw(r,n,o,e,t);n[i]=s,Tl()&&Pl(r,n,s,o),Fr(o,!1)}var Iw=(t,e,n,r,i)=>(Qn(!0),PI(e[pe],r));function vP(t,e,n,r,i){let o=e[qt],s=!o||_s()||bs(n)||Es(o,i);return Qn(s),s?PI(e[pe],r):Ll(o,t,e,n)}function yP(){Iw=vP}function Ts(t,e,n){let r=se(),i=Hx(r,t,e,n);return i!==jr&&bR(r,Ki(),i),Ts}function _P(t,e,n){let r=at();if(r.firstCreatePass){let i=Wn(t);Ch(n,r.data,r.blueprint,i,!0),Ch(e,r.data,r.blueprint,i,!1)}}function Ch(t,e,n,r,i){if(t=We(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ch(t[o],e,n,r,i);else{let o=at(),s=se(),a=Ye(),c=Vi(t)?t:We(t.provide),l=TE(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Vi(t)||!t.multi){let h=new Pr(l,i,C),p=Bf(c,e,i?u:u+f,d);p===-1?(th(tl(a,s),o,c),Uf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Bf(c,e,u+f,d),p=Bf(c,e,u,u+f),w=h>=0&&n[h],M=p>=0&&n[p];if(i&&!M||!i&&!w){th(tl(a,s),o,c);let k=wP(i?IP:EP,n.length,i,r,l);!i&&M&&(n[p].providerFactory=k),Uf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=ww(n[i?p:h],l,!i&&r);Uf(o,t,h>-1?h:p,k)}!i&&r&&M&&n[p].componentProviders++}}}function Uf(t,e,n,r){let i=Vi(e),o=ZA(e);if(i||o){let c=(o?We(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function ww(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Bf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function EP(t,e,n,r){return Dh(this.multi,[])}function IP(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Hi(n,n[H],this.providerFactory.index,r);o=a.slice(0,s),Dh(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Dh(i,o);return o}function Dh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function wP(t,e,n,r,i){let o=new Pr(t,n,C);return o.multi=[],o.index=e,o.componentProviders=0,ww(o,i,r&&!n),o}function Qi(t,e=[]){return n=>{n.providersResolver=(r,i)=>_P(r,i?i(t):t,e)}}var CP=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=CE(!1,n.type),i=r.length>0?pp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=A({token:t,providedIn:"environment",factory:()=>new t(O(mt))})}}return t})();function X(t){Jn("NgStandalone"),t.getStandaloneInjector=e=>e.get(CP).getOrCreateStandaloneInjector(t)}function gp(t,e,n,r){return DP(se(),jh(),t,e,n,r)}function En(t,e,n,r,i){return bP(se(),jh(),t,e,n,r,i)}function Cw(t,e,n,r,i,o){return TP(se(),jh(),t,e,n,r,i,o)}function vp(t,e){let n=t[e];return n===jr?void 0:n}function DP(t,e,n,r,i,o){let s=e+n;return qn(t,s,i)?mp(t,s+1,o?r.call(o,i):r(i)):vp(t,s+1)}function bP(t,e,n,r,i,o,s){let a=e+n;return gw(t,a,i,o)?mp(t,a+2,s?r.call(s,i,o):r(i,o)):vp(t,a+2)}function TP(t,e,n,r,i,o,s,a){let c=e+n;return Lx(t,c,i,o,s)?mp(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):vp(t,c+3)}var vn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Dw=new vn("18.2.10");var Bl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var bw=new D("");function Wr(t){return!!t&&typeof t.then=="function"}function Tw(t){return!!t&&typeof t.subscribe=="function"}var Sw=new D(""),Aw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=_(Sw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(Wr(o))n.push(o);else if(Tw(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ji=new D("");function SP(){Ly(()=>{throw new b(600,!1)})}function AP(t){return t.isBoundToModule}var MP=10;function NP(t,e,n){try{let r=n();return Wr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var en=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(JM),this.afterRenderManager=_($x),this.zonelessEnabled=_(jl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ae,this.afterTick=new Ae,this.componentTypes=[],this.components=[],this.isStable=_(Vr).hasPendingTasks.pipe(x(n=>!n)),this._injector=_(mt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof ul;if(!this._injector.get(Aw).done){let f=!i&&_E(n),h=!1;throw new b(405,h)}let s;i?s=n:s=this._injector.get(zi).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=AP(s)?void 0:this._injector.get(Gn),c=r||s.selector,l=s.create(Ve.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(bw,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),$c(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new b(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,K(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Gi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<MP;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)RP(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Dl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;$c(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Ji,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>$c(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $c(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Lc;function $l(t){Lc??=new WeakMap;let e=Lc.get(t);if(e)return e;let n=t.isStable.pipe(Mt(r=>r)).toPromise().then(()=>{});return Lc.set(t,n),t.onDestroy(()=>Lc?.delete(t)),n}function RP(t,e,n,r){if(!n&&!Dl(t))return;rw(t,e,n&&!r?0:1)}var bh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},yp=(()=>{class t{compileModuleSync(n){return new Eh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=EE(n),o=xI(i.declarations).reduce((s,a)=>{let c=Nr(a);return c&&s.push(new hs(c)),s},[]);return new bh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xP=(()=>{class t{constructor(){this.zone=_(te),this.changeDetectionScheduler=_(Wi),this.applicationRef=_(en)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),PP=new D("",{factory:()=>!1});function Mw({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new te(q(E({},Rw()),{scheduleInRootZone:n})),[{provide:te,useFactory:t},{provide:Mr,multi:!0,useFactory:()=>{let r=_(xP,{optional:!0});return()=>r.initialize()}},{provide:Mr,multi:!0,useFactory:()=>{let r=_(OP);return()=>{r.initialize()}}},e===!0?{provide:uw,useValue:!0}:[],{provide:dw,useValue:n??lI}]}function Nw(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Mw({ngZoneFactory:()=>{let i=Rw(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Jn("NgZone_CoalesceEvent"),new te(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return ot([{provide:PP,useValue:!0},{provide:jl,useValue:!1},r])}function Rw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var OP=(()=>{class t{constructor(){this.subscription=new he,this.initialized=!1,this.zone=_(te),this.pendingTasks=_(Vr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var kP=(()=>{class t{constructor(){this.appRef=_(en),this.taskService=_(Vr),this.ngZone=_(te),this.zonelessEnabled=_(jl),this.disableScheduling=_(uw,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new he,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(rl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(dw,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof sh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?R_:dI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(rl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,R_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function FP(){return typeof $localize<"u"&&$localize.locale||ml}var _p=new D("",{providedIn:"root",factory:()=>_(_p,B.Optional|B.SkipSelf)||FP()});var Th=new D("");function Vc(t){return!t.moduleRef}function LP(t){let e=Vc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(te);return n.run(()=>{Vc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(mn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Vc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Th);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Th);s.add(o),t.moduleRef.onDestroy(()=>{$c(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return NP(r,n,()=>{let o=e.get(Aw);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(_p,ml);if(hP(s||ml),Vc(t)){let a=e.get(en);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return VP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function VP(t,e){let n=t.injector.get(en);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new b(-403,!1);e.push(t)}var Hc=null;function jP(t=[],e){return Ve.create({name:e,providers:[{provide:Il,useValue:"platform"},{provide:Th,useValue:new Set([()=>Hc=null])},...t]})}function UP(t=[]){if(Hc)return Hc;let e=jP(t);return Hc=e,SP(),BP(e),e}function BP(t){t.get(qh,null)?.forEach(n=>n())}var Xi=(()=>{class t{static{this.__NG_ELEMENT_ID__=$P}}return t})();function $P(t){return HP(Ye(),se(),(t&16)===16)}function HP(t,e,n){if(ys(t)&&!n){let r=Zn(t.index,e);return new Or(r,r)}else if(t.type&175){let r=e[gt];return new Or(r,e)}return null}var Sh=class{constructor(){}supports(e){return mw(e)}create(e){return new Ah(e)}},WP=(t,e)=>e,Ah=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||WP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Q_(r,i,o)?n:r,a=Q_(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!mw(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,kx(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Mh(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new gl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new gl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Mh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Nh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},gl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Nh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Q_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function J_(){return new Ep([new Sh])}var Ep=(()=>{class t{static{this.\u0275prov=A({token:t,providedIn:"root",factory:J_})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||J_()),deps:[[t,new uE,new qe]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new b(901,!1)}}return t})();function xw(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=UP(r),o=[Mw({}),{provide:Wi,useExisting:kP},...n||[]],s=new hl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return LP({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var X_=!1;function zP(){X_||(X_=!0,gN(),cP(),yP(),dP(),Bx(),Sx(),ax(),rR())}function GP(t,e){return $l(t)}function Pw(){return ot([{provide:xc,useFactory:()=>{let t=!0;return Oc()&&(t=!!_(Zi,{optional:!0})?.get(DI,null)),t&&Jn("NgHydration"),t}},{provide:Mr,useValue:()=>{ex(!1),Oc()&&_(xc)&&(qP(),zP())},multi:!0},{provide:AI,useFactory:()=>Oc()&&_(xc)},{provide:Ji,useFactory:()=>{if(Oc()&&_(xc)){let t=_(en),e=_(Ve);return()=>{GP(t,e).then(()=>{ix(t)})}}return()=>{}},multi:!0}])}function qP(){let t=Ml(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===pN){e=n;break}if(!e)throw new b(-507,!1)}function eo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ss(t,e){Jn("NgSignals");let n=Oy(t);return e?.equal&&(n[kn].equal=e.equal),n}function In(t){let e=K(null);try{return t()}finally{K(e)}}var jw=null;function wn(){return jw}function Uw(t){jw??=t}var Hl=class{};var ct=new D(""),Bw=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>_(YP),providedIn:"platform"})}}return t})();var YP=(()=>{class t extends Bw{constructor(){super(),this._doc=_(ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wn().getBaseHref(this._doc)}onPopState(n){let r=wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=wn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function $w(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Ow(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function zr(t){return t&&t[0]!=="?"?"?"+t:t}var to=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>_(Hw),providedIn:"root"})}}return t})(),KP=new D(""),Hw=(()=>{class t extends to{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return $w(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+zr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+zr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+zr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(O(Bw),O(KP,8))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var As=(()=>{class t{constructor(n){this._subject=new Ie,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=JP(Ow(kw(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+zr(r))}normalize(n){return t.stripTrailingSlash(QP(this._basePath,kw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=zr}static{this.joinWithSlash=$w}static{this.stripTrailingSlash=Ow}static{this.\u0275fac=function(r){return new(r||t)(O(to))}}static{this.\u0275prov=A({token:t,factory:()=>ZP(),providedIn:"root"})}}return t})();function ZP(){return new As(O(to))}function QP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function kw(t){return t.replace(/\/index.html$/,"")}function JP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function bp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ip=/\s+/,Fw=[],Xn=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Fw,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Ip):Fw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Ip):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Ip).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(C(Ft),C(Qt))}}static{this.\u0275dir=me({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var wp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ww=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new wp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Lw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Lw(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(C(Ur),C(Cs),C(Ep))}}static{this.\u0275dir=me({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function Lw(t,e){t.context.$implicit=e.item}var tn=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Cp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Vw("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Vw("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(C(Ur),C(Cs))}}static{this.\u0275dir=me({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Cp=class{constructor(){this.$implicit=null,this.ngIf=null}};function Vw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ze(e)}'.`)}var Dp=class{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Tp=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=me({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return t})(),zw=(()=>{class t{constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new Dp(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(r){return new(r||t)(C(Ur),C(Cs),C(Tp,9))}}static{this.\u0275dir=me({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return t})();var Te=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_n({type:t})}static{this.\u0275inj=yn({})}}return t})(),Gw="browser",XP="server";function Ms(t){return t===XP}var Wl=class{};var Gl=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var eC=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(eC||{}),Sp=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Gl,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var ql=class t extends Sp{constructor(e={}){super(e),this.type=eC.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var eO=new D("");var tO=new D(""),qw="b",Yw="h",Kw="s",Zw="st",Qw="u",Jw="rt",zl=new D(""),nO=["GET","HEAD"];function rO(t,e){let h=_(zl),{isCacheActive:n}=h,r=by(h,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!nO.includes(o)||!r.includeRequestsWithAuthHeaders&&iO(t)||r.filter?.(t)===!1)return e(t);let s=_(Zi),a=_(tO,{optional:!0}),c=Ms(_(_t));if(a&&!c)throw new b(2803,!1);let l=c&&a?cO(t.url,a):t.url,u=sO(t,l),d=s.get(u,null),f=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(f=i.includeHeaders),d){let{[qw]:p,[Jw]:w,[Yw]:M,[Kw]:k,[Zw]:le,[Qw]:ue}=d,Ee=p;switch(w){case"arraybuffer":Ee=new TextEncoder().encode(p).buffer;break;case"blob":Ee=new Blob([p]);break}let St=new Gl(M);return N(new ql({body:Ee,headers:St,status:k,statusText:le,url:ue}))}return e(t).pipe(_e(p=>{p instanceof ql&&c&&s.set(u,{[qw]:p.body,[Yw]:oO(p.headers,f),[Kw]:p.status,[Zw]:p.statusText,[Qw]:l,[Jw]:t.responseType})}))}function iO(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function oO(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function Xw(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function sO(t,e){let{params:n,method:r,responseType:i}=t,o=Xw(n),s=t.serializeBody();s instanceof URLSearchParams?s=Xw(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),c=aO(a);return c}function aO(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function tC(t){return[{provide:zl,useFactory:()=>(Jn("NgHttpTransferCache"),E({isCacheActive:!0},t))},{provide:eO,useValue:rO,multi:!0,deps:[Zi,zl]},{provide:Ji,multi:!0,useFactory:()=>{let e=_(en),n=_(zl);return()=>{$l(e).then(()=>{n.isCacheActive=!1})}}}]}function cO(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var Np=class extends Hl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Rp=class t extends Np{static makeCurrent(){Uw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=lO();return n==null?null:uO(n)}resetBaseElement(){Ns=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bp(document.cookie,e)}},Ns=null;function lO(){return Ns=Ns||document.querySelector("base"),Ns?Ns.getAttribute("href"):null}function uO(t){return new URL(t,document.baseURI).pathname}var dO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),xp=new D(""),oC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(O(xp),O(te))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Yl=class{constructor(e){this._doc=e}},Ap="ng-app-id",sC=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ms(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Ap}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Ap),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ap,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(O(ct),O(Nl),O(Yh,8),O(_t))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Mp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kp=/%COMP%/g,aC="%COMP%",fO=`_nghost-${aC}`,hO=`_ngcontent-${aC}`,pO=!0,mO=new D("",{providedIn:"root",factory:()=>pO});function gO(t){return hO.replace(kp,t)}function vO(t){return fO.replace(kp,t)}function cC(t,e){return e.map(n=>n.replace(kp,t))}var nC=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ms(a),this.defaultRenderer=new Rs(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Gt.ShadowDom&&(r=q(E({},r),{encapsulation:Gt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Kl?i.applyToHost(n):i instanceof xs&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Gt.Emulated:o=new Kl(c,l,r,this.appId,u,s,a,d);break;case Gt.ShadowDom:return new Pp(c,l,n,r,s,a,this.nonce,d);default:o=new xs(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(O(oC),O(sC),O(Nl),O(mO),O(ct),O(_t),O(te),O(Yh))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Rs=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Mp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Mp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Mp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(gn.DashCase|gn.Important)?e.style.setProperty(n,r,i&gn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&gn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=wn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function rC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Pp=class extends Rs{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=cC(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xs=class extends Rs{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?cC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Kl=class extends xs{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=gO(l),this.hostAttr=vO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},yO=(()=>{class t extends Yl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(O(ct))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),iC=["alt","control","meta","shift"],_O={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},IO=(()=>{class t extends Yl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wn().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),iC.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=_O[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),iC.forEach(s=>{if(s!==i){let a=EO[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(O(ct))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})();function lC(t,e){return xw(E({rootComponent:t},wO(e)))}function wO(t){return{appProviders:[...SO,...t?.providers??[]],platformProviders:TO}}function CO(){Rp.makeCurrent()}function DO(){return new mn}function bO(){return _I(document),document}var TO=[{provide:_t,useValue:Gw},{provide:qh,useValue:CO,multi:!0},{provide:ct,useFactory:bO,deps:[]}];var SO=[{provide:Il,useValue:"root"},{provide:mn,useFactory:DO,deps:[]},{provide:xp,useClass:yO,multi:!0,deps:[ct,te,_t]},{provide:xp,useClass:IO,multi:!0,deps:[ct]},nC,sC,oC,{provide:Gi,useExisting:nC},{provide:Wl,useClass:dO,deps:[]},[]];var uC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(O(ct))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Op=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(Op||{});function dC(...t){let e=[],n=new Set,r=n.has(Op.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return ot([[],Pw(),n.has(Op.NoHttpTransferCache)||r?[]:tC({}),e])}var j="primary",Ys=Symbol("RouteTitle"),Up=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ao(t){return new Up(t)}function MO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function NO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!nn(t[n],e[n]))return!1;return!0}function nn(t,e){let n=t?Bp(t):void 0,r=e?Bp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!_C(t[i],e[i]))return!1;return!0}function Bp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function _C(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function EC(t){return t.length>0?t[t.length-1]:null}function tr(t){return yf(t)?t:Wr(t)?ie(Promise.resolve(t)):N(t)}var RO={exact:wC,subset:CC},IC={exact:xO,subset:PO,ignored:()=>!0};function fC(t,e,n){return RO[n.paths](t.root,e.root,n.matrixParams)&&IC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function xO(t,e){return nn(t,e)}function wC(t,e,n){if(!Yr(t.segments,e.segments)||!Jl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!wC(t.children[r],e.children[r],n))return!1;return!0}function PO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>_C(t[n],e[n]))}function CC(t,e,n){return DC(t,e,e.segments,n)}function DC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Yr(i,n)||e.hasChildren()||!Jl(i,n,r))}else if(t.segments.length===n.length){if(!Yr(t.segments,n)||!Jl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!CC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Yr(t.segments,i)||!Jl(t.segments,i,r)||!t.children[j]?!1:DC(t.children[j],e,o,r)}}function Jl(t,e,n){return e.every((r,i)=>IC[n](t[i].parameters,r.parameters))}var Dn=class{constructor(e=new ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ao(this.queryParams),this._queryParamMap}toString(){return FO.serialize(this)}},ee=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xl(this)}},qr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ao(this.parameters),this._parameterMap}toString(){return TC(this)}};function OO(t,e){return Yr(t,e)&&t.every((n,r)=>nn(n.parameters,e[r].parameters))}function Yr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function kO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===j&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==j&&(n=n.concat(e(i,r)))}),n}var hm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>new js,providedIn:"root"})}}return t})(),js=class{parse(e){let n=new Hp(e);return new Dn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ps(e.root,!0)}`,r=jO(e.queryParams),i=typeof e.fragment=="string"?`#${LO(e.fragment)}`:"";return`${n}${r}${i}`}},FO=new js;function Xl(t){return t.segments.map(e=>TC(e)).join("/")}function Ps(t,e){if(!t.hasChildren())return Xl(t);if(e){let n=t.children[j]?Ps(t.children[j],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==j&&r.push(`${i}:${Ps(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=kO(t,(r,i)=>i===j?[Ps(t.children[j],!1)]:[`${i}:${Ps(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[j]!=null?`${Xl(t)}/${n[0]}`:`${Xl(t)}/(${n.join("//")})`}}function bC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zl(t){return bC(t).replace(/%3B/gi,";")}function LO(t){return encodeURI(t)}function $p(t){return bC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eu(t){return decodeURIComponent(t)}function hC(t){return eu(t.replace(/\+/g,"%20"))}function TC(t){return`${$p(t.path)}${VO(t.parameters)}`}function VO(t){return Object.entries(t).map(([e,n])=>`;${$p(e)}=${$p(n)}`).join("")}function jO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Zl(n)}=${Zl(i)}`).join("&"):`${Zl(n)}=${Zl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var UO=/^[^\/()?;#]+/;function Fp(t){let e=t.match(UO);return e?e[0]:""}var BO=/^[^\/()?;=#]+/;function $O(t){let e=t.match(BO);return e?e[0]:""}var HO=/^[^=?&#]+/;function WO(t){let e=t.match(HO);return e?e[0]:""}var zO=/^[^&#]+/;function GO(t){let e=t.match(zO);return e?e[0]:""}var Hp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[j]=new ee(e,n)),r}parseSegment(){let e=Fp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new qr(eu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=$O(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Fp(this.remaining);i&&(r=i,this.capture(r))}e[eu(n)]=eu(r)}parseQueryParam(e){let n=WO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=GO(this.remaining);s&&(r=s,this.capture(r))}let i=hC(n),o=hC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Fp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=j);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[j]:new ee([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}};function SC(t){return t.segments.length>0?new ee([],{[j]:t}):t}function AC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=AC(i);if(r===j&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ee(t.segments,e);return qO(n)}function qO(t){if(t.numberOfChildren===1&&t.children[j]){let e=t.children[j];return new ee(t.segments.concat(e.segments),e.children)}return t}function Kr(t){return t instanceof Dn}function YO(t,e,n=null,r=null){let i=MC(t);return NC(i,e,n,r)}function MC(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ee(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=SC(r);return e??i}function NC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Lp(i,i,i,n,r);let o=KO(e);if(o.toRoot())return Lp(i,i,new ee([],{}),n,r);let s=ZO(o,i,t),a=s.processChildren?Fs(s.segmentGroup,s.index,o.commands):xC(s.segmentGroup,s.index,o.commands);return Lp(i,s.segmentGroup,a,n,r)}function tu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Us(t){return typeof t=="object"&&t!=null&&t.outlets}function Lp(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=RC(t,e,n);let a=SC(AC(s));return new Dn(a,o,i)}function RC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=RC(o,e,n)}),new ee(t.segments,r)}var nu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&tu(r[0]))throw new b(4003,!1);let i=r.find(Us);if(i&&i!==EC(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function KO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new nu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new nu(n,e,r)}var io=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ZO(t,e,n){if(t.isAbsolute)return new io(e,!0,0);if(!n)return new io(e,!1,NaN);if(n.parent===null)return new io(n,!0,0);let r=tu(t.commands[0])?0:1,i=n.segments.length-1+r;return QO(n,i,t.numberOfDoubleDots)}function QO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new io(r,!1,i-o)}function JO(t){return Us(t[0])?t[0].outlets:{[j]:t}}function xC(t,e,n){if(t??=new ee([],{}),t.segments.length===0&&t.hasChildren())return Fs(t,e,n);let r=XO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ee(t.segments.slice(0,r.pathIndex),{});return o.children[j]=new ee(t.segments.slice(r.pathIndex),t.children),Fs(o,0,i)}else return r.match&&i.length===0?new ee(t.segments,{}):r.match&&!t.hasChildren()?Wp(t,e,n):r.match?Fs(t,0,i):Wp(t,e,n)}function Fs(t,e,n){if(n.length===0)return new ee(t.segments,{});{let r=JO(n),i={};if(Object.keys(r).some(o=>o!==j)&&t.children[j]&&t.numberOfChildren===1&&t.children[j].segments.length===0){let o=Fs(t.children[j],e,n);return new ee(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=xC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ee(t.segments,i)}}function XO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Us(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!mC(c,l,s))return o;r+=2}else{if(!mC(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Wp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Us(o)){let c=ek(o.outlets);return new ee(r,c)}if(i===0&&tu(n[0])){let c=t.segments[e];r.push(new qr(c.path,pC(n[0]))),i++;continue}let s=Us(o)?o.outlets[j]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&tu(a)?(r.push(new qr(s,pC(a))),i+=2):(r.push(new qr(s,{})),i++)}return new ee(r,{})}function ek(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Wp(new ee([],{}),0,r))}),e}function pC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function mC(t,e,n){return t==n.path&&nn(e,n.parameters)}var Ls="imperative",Pe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Pe||{}),Et=class{constructor(e,n){this.id=e,this.url=n}},Bs=class extends Et{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Pe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},er=class extends Et{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Pe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ut=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ut||{}),zp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(zp||{}),Cn=class extends Et{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zr=class extends Et{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationSkipped}},$s=class extends Et{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Pe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ru=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gp=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qp=class extends Et{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Pe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yp=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kp=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zp=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qp=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jp=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xp=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},em=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tm=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Hs=class{},co=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function tk(t,e){return t.providers&&!t._injector&&(t._injector=pp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Lt(t){return t.outlet||j}function nk(t,e){let n=t.filter(r=>Lt(r)===e);return n.push(...t.filter(r=>Lt(r)!==e)),n}function Ks(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var nm=class{get injector(){return Ks(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new uu(this.rootInjector),this.attachRef=null}},uu=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new nm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(O(mt))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=rm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=rm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=im(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return im(e,this._root).map(n=>n.value)}};function rm(t,e){if(t===e.value)return e;for(let n of e.children){let r=rm(t,n);if(r)return r}return null}function im(t,e){if(t===e.value)return[e];for(let n of e.children){let r=im(t,n);if(r.length)return r.unshift(e),r}return[]}var lt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ro(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ou=class extends iu{constructor(e,n){super(e),this.snapshot=n,pm(this,e)}toString(){return this.snapshot.toString()}};function PC(t){let e=rk(t),n=new Re([new qr("",{})]),r=new Re({}),i=new Re({}),o=new Re({}),s=new Re(""),a=new bn(n,r,o,s,i,j,t,e.root);return a.snapshot=e.root,new ou(new lt(a,[]),e)}function rk(t){let e={},n={},r={},i="",o=new oo([],e,r,i,n,j,t,null,{});return new au("",new lt(o,[]))}var bn=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(x(l=>l[Ys]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(x(e=>ao(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(x(e=>ao(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function su(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&kC(i)&&(r.resolve[Ys]=i.title),r}var oo=class{get title(){return this.data?.[Ys]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ao(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ao(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},au=class extends iu{constructor(e,n){super(n),this.url=e,pm(this,n)}toString(){return OC(this._root)}};function pm(t,e){e.value._routerState=t,e.children.forEach(n=>pm(t,n))}function OC(t){let e=t.children.length>0?` { ${t.children.map(OC).join(", ")} } `:"";return`${t.value}${e}`}function Vp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,nn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),nn(e.params,n.params)||t.paramsSubject.next(n.params),NO(e.url,n.url)||t.urlSubject.next(n.url),nn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function om(t,e){let n=nn(t.params,e.params)&&OO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||om(t.parent,e.parent))}function kC(t){return typeof t.title=="string"||t.title===null}var Zs=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=j,this.activateEvents=new Ie,this.deactivateEvents=new Ie,this.attachEvents=new Ie,this.detachEvents=new Ie,this.parentContexts=_(uu),this.location=_(Ur),this.changeDetector=_(Xi),this.inputBinder=_(mm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new sm(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=me({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kn]})}}return t})(),sm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===bn?this.route:e===uu?this.childContexts:this.parent.get(e,n)}},mm=new D("");function ik(t,e,n){let r=Ws(t,e._root,n?n._root:void 0);return new ou(r,e)}function Ws(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=ok(t,e,n);return new lt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ws(t,a)),s}}let r=sk(e.value),i=e.children.map(o=>Ws(t,o));return new lt(r,i)}}function ok(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ws(t,r,i);return Ws(t,r)})}function sk(t){return new bn(new Re(t.url),new Re(t.params),new Re(t.queryParams),new Re(t.fragment),new Re(t.data),t.outlet,t.component,t)}var zs=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},FC="ngNavigationCancelingError";function cu(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Kr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=LC(!1,ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function LC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[FC]=!0,n.cancellationCode=e,n}function ak(t){return VC(t)&&Kr(t.url)}function VC(t){return!!t&&t[FC]}var ck=(t,e,n,r)=>x(i=>(new am(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),am=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Vp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ro(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ro(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ro(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ro(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new tm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Xp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Vp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Vp(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},lu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},so=class{constructor(e,n){this.component=e,this.route=n}};function lk(t,e,n){let r=t._root,i=e?e._root:null;return Os(r,i,n,[r.value])}function uk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function uo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!rE(t)?t:e.get(t):r}function Os(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ro(e);return t.children.forEach(s=>{dk(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Vs(a,n.getContext(s),i)),i}function dk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=fk(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new lu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Os(t,e,a?a.children:null,r,i):Os(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new so(a.outlet.component,s))}else s&&Vs(e,a,i),i.canActivateChecks.push(new lu(r)),o.component?Os(t,null,a?a.children:null,r,i):Os(t,null,n,r,i);return i}function fk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Yr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yr(t.url,e.url)||!nn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!om(t,e)||!nn(t.queryParams,e.queryParams);case"paramsChange":default:return!om(t,e)}}function Vs(t,e,n){let r=ro(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Vs(s,e.children.getContext(o),n):Vs(s,null,n):Vs(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new so(e.outlet.component,i)):n.canDeactivateChecks.push(new so(null,i)):n.canDeactivateChecks.push(new so(null,i))}function Qs(t){return typeof t=="function"}function hk(t){return typeof t=="boolean"}function pk(t){return t&&Qs(t.canLoad)}function mk(t){return t&&Qs(t.canActivate)}function gk(t){return t&&Qs(t.canActivateChild)}function vk(t){return t&&Qs(t.canDeactivate)}function yk(t){return t&&Qs(t.canMatch)}function jC(t){return t instanceof hn||t?.name==="EmptyError"}var Ql=Symbol("INITIAL_VALUE");function lo(){return He(t=>Ac(t.map(e=>e.pipe(Je(1),bf(Ql)))).pipe(x(e=>{for(let n of e)if(n!==!0){if(n===Ql)return Ql;if(n===!1||_k(n))return n}return!0}),ft(e=>e!==Ql),Je(1)))}function _k(t){return Kr(t)||t instanceof zs}function Ek(t,e){return ye(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?N(q(E({},n),{guardsResult:!0})):Ik(s,r,i,t).pipe(ye(a=>a&&hk(a)?wk(r,o,t,e):N(a)),x(a=>q(E({},n),{guardsResult:a})))})}function Ik(t,e,n,r){return ie(t).pipe(ye(i=>Sk(i.component,i.route,n,e,r)),Mt(i=>i!==!0,!0))}function wk(t,e,n,r){return ie(e).pipe(Sr(i=>Vn(Dk(i.route.parent,r),Ck(i.route,r),Tk(t,i.path,n),bk(t,i.route,n))),Mt(i=>i!==!0,!0))}function Ck(t,e){return t!==null&&e&&e(new em(t)),N(!0)}function Dk(t,e){return t!==null&&e&&e(new Jp(t)),N(!0)}function bk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(o=>Mc(()=>{let s=Ks(e)??n,a=uo(o,s),c=mk(a)?a.canActivate(e,t):Kt(s,()=>a(e,t));return tr(c).pipe(Mt())}));return N(i).pipe(lo())}function Tk(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>uk(s)).filter(s=>s!==null).map(s=>Mc(()=>{let a=s.guards.map(c=>{let l=Ks(s.node)??n,u=uo(c,l),d=gk(u)?u.canActivateChild(r,t):Kt(l,()=>u(r,t));return tr(d).pipe(Mt())});return N(a).pipe(lo())}));return N(o).pipe(lo())}function Sk(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return N(!0);let s=o.map(a=>{let c=Ks(e)??i,l=uo(a,c),u=vk(l)?l.canDeactivate(t,e,n,r):Kt(c,()=>l(t,e,n,r));return tr(u).pipe(Mt())});return N(s).pipe(lo())}function Ak(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let o=i.map(s=>{let a=uo(s,t),c=pk(a)?a.canLoad(e,n):Kt(t,()=>a(e,n));return tr(c)});return N(o).pipe(lo(),UC(r))}function UC(t){return es(_e(e=>{if(typeof e!="boolean")throw cu(t,e)}),x(e=>e===!0))}function Mk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let o=i.map(s=>{let a=uo(s,t),c=yk(a)?a.canMatch(e,n):Kt(t,()=>a(e,n));return tr(c)});return N(o).pipe(lo(),UC(r))}var Gs=class{constructor(e){this.segmentGroup=e||null}},qs=class extends Error{constructor(e){super(),this.urlTree=e}};function no(t){return Ai(new Gs(t))}function Nk(t){return Ai(new b(4e3,!1))}function Rk(t){return Ai(LC(!1,ut.GuardRejected))}var cm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[j])return Nk(`${e.redirectTo}`);i=i.children[j]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:p,title:w}=i,M=Kt(o,()=>a({params:h,data:p,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:w}));if(M instanceof Dn)throw new qs(M);n=M}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new qs(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Dn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ee(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},lm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xk(t,e,n,r,i){let o=BC(t,e,n);return o.matched?(r=tk(e,r),Mk(r,e,n,i).pipe(x(s=>s===!0?o:E({},lm)))):N(o)}function BC(t,e,n){if(e.path==="**")return Pk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},lm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||MO)(n,t,e);if(!i)return E({},lm);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Pk(t){return{matched:!0,parameters:t.length>0?EC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function gC(t,e,n,r){return n.length>0&&Fk(t,n,r)?{segmentGroup:new ee(e,kk(r,new ee(n,t.children))),slicedSegments:[]}:n.length===0&&Lk(t,n,r)?{segmentGroup:new ee(t.segments,Ok(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ee(t.segments,t.children),slicedSegments:n}}function Ok(t,e,n,r){let i={};for(let o of n)if(du(t,e,o)&&!r[Lt(o)]){let s=new ee([],{});i[Lt(o)]=s}return E(E({},r),i)}function kk(t,e){let n={};n[j]=e;for(let r of t)if(r.path===""&&Lt(r)!==j){let i=new ee([],{});n[Lt(r)]=i}return n}function Fk(t,e,n){return n.some(r=>du(t,e,r)&&Lt(r)!==j)}function Lk(t,e,n){return n.some(r=>du(t,e,r))}function du(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Vk(t,e,n){return e.length===0&&!t.children[n]}var um=class{};function jk(t,e,n,r,i,o,s="emptyOnly"){return new dm(t,e,n,r,i,s,o).recognize()}var Uk=31,dm=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new cm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,`'${e.segmentGroup}'`)}recognize(){let e=gC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(x(({children:n,rootSnapshot:r})=>{let i=new lt(r,n),o=new au("",i),s=YO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new oo([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),j,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,j,n).pipe(x(r=>({children:r,rootSnapshot:n})),jn(r=>{if(r instanceof qs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Gs?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(x(s=>s instanceof lt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ie(o).pipe(Sr(s=>{let a=r.children[s],c=nk(n,s);return this.processSegmentGroup(e,c,a,s,i)}),is((s,a)=>(s.push(...a),s)),Un(null),Df(),ye(s=>{if(s===null)return no(r);let a=$C(s);return Bk(a),N(a)}))}processSegment(e,n,r,i,o,s,a){return ie(n).pipe(Sr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(jn(l=>{if(l instanceof Gs)return N(null);throw l}))),Mt(c=>!!c),jn(c=>{if(jC(c))return Vk(r,i,o)?N(new um):no(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return Lt(r)!==s&&(s===j||!du(i,o,r))?no(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):no(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=BC(n,i,o);if(!c)return no(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Uk&&(this.allowRedirects=!1));let h=new oo(o,l,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,vC(i),Lt(i),i.component??i._loadedComponent??null,i,yC(i)),p=su(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(ye(M=>this.processSegment(e,r,n,M.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=xk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(He(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(He(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new oo(f,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,vC(r),Lt(r),r.component??r._loadedComponent??null,r,yC(r)),w=su(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(w.params),p.data=Object.freeze(w.data);let{segmentGroup:M,slicedSegments:k}=gC(n,f,h,l);if(k.length===0&&M.hasChildren())return this.processChildren(u,l,M,p).pipe(x(ue=>new lt(p,ue)));if(l.length===0&&k.length===0)return N(new lt(p,[]));let le=Lt(r)===o;return this.processSegment(u,l,M,k,le?j:o,!0,p).pipe(x(ue=>new lt(p,ue instanceof lt?[ue]:[])))}))):no(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):Ak(e,n,r,this.urlSerializer).pipe(ye(i=>i?this.configLoader.loadChildren(e,n).pipe(_e(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Rk(n))):N({routes:[],injector:e})}};function Bk(t){t.sort((e,n)=>e.value.outlet===j?-1:n.value.outlet===j?1:e.value.outlet.localeCompare(n.value.outlet))}function $k(t){let e=t.value.routeConfig;return e&&e.path===""}function $C(t){let e=[],n=new Set;for(let r of t){if(!$k(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=$C(r.children);e.push(new lt(r.value,i))}return e.filter(r=>!n.has(r))}function vC(t){return t.data||{}}function yC(t){return t.resolve||{}}function Hk(t,e,n,r,i,o){return ye(s=>jk(t,e,n,r,s.extractedUrl,i,o).pipe(x(({state:a,tree:c})=>q(E({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Wk(t,e){return ye(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of HC(c))s.add(l);let a=0;return ie(s).pipe(Sr(c=>o.has(c)?zk(c,r,t,e):(c.data=su(c,c.parent,t).resolve,N(void 0))),_e(()=>a++),Ni(1),ye(c=>a===s.size?N(n):$e))})}function HC(t){let e=t.children.map(n=>HC(n)).flat();return[t,...e]}function zk(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!kC(i)&&(o[Ys]=i.title),Gk(o,t,e,r).pipe(x(s=>(t._resolvedData=s,t.data=su(t,t.parent,n).resolve,null)))}function Gk(t,e,n,r){let i=Bp(t);if(i.length===0)return N({});let o={};return ie(i).pipe(ye(s=>qk(t[s],e,n,r).pipe(Mt(),_e(a=>{if(a instanceof zs)throw cu(new js,a);o[s]=a}))),Ni(1),rs(o),jn(s=>jC(s)?$e:Ai(s)))}function qk(t,e,n,r){let i=Ks(e)??r,o=uo(t,i),s=o.resolve?o.resolve(e,n):Kt(i,()=>o(e,n));return tr(s)}function jp(t){return He(e=>{let n=t(e);return n?ie(n).pipe(x(()=>e)):N(e)})}var WC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===j);return r}getResolvedTitleForRoute(n){return n.data[Ys]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>_(Yk),providedIn:"root"})}}return t})(),Yk=(()=>{class t extends WC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(O(uC))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),gm=new D("",{providedIn:"root",factory:()=>({})}),Kk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=J({type:t,selectors:[["ng-component"]],standalone:!0,features:[X],decls:1,vars:0,template:function(r,i){r&1&&Z(0,"router-outlet")},dependencies:[Zs],encapsulation:2})}}return t})();function vm(t){let e=t.children&&t.children.map(vm),n=e?q(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=Kk),n}var ym=new D(""),Zk=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(yp)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return N(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=tr(n.loadComponent()).pipe(x(zC),_e(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Mi(()=>{this.componentLoaders.delete(n)})),i=new Ci(r,()=>new Ae).pipe(wi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Qk(r,this.compiler,n,this.onLoadEndListener).pipe(Mi(()=>{this.childrenLoaders.delete(r)})),s=new Ci(o,()=>new Ae).pipe(wi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Qk(t,e,n,r){return tr(t.loadChildren()).pipe(x(zC),ye(i=>i instanceof ps||Array.isArray(i)?N(i):ie(e.compileModuleAsync(i))),x(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ym,[],{optional:!0,self:!0}).flat()),{routes:s.map(vm),injector:o}}))}function Jk(t){return t&&typeof t=="object"&&"default"in t}function zC(t){return Jk(t)?t.default:t}var _m=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>_(Xk),providedIn:"root"})}}return t})(),Xk=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),eF=new D("");var tF=new D(""),nF=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ae,this.transitionAbortSubject=new Ae,this.configLoader=_(Zk),this.environmentInjector=_(mt),this.urlSerializer=_(hm),this.rootContexts=_(uu),this.location=_(As),this.inputBindingEnabled=_(mm,{optional:!0})!==null,this.titleStrategy=_(WC),this.options=_(gm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(_m),this.createViewTransition=_(eF,{optional:!0}),this.navigationErrorHandler=_(tF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Zp(i)),r=i=>this.events.next(new Qp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(q(E(E({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Re({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ls,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ft(o=>o.id!==0),x(o=>q(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),He(o=>{let s=!1,a=!1;return N(o).pipe(He(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ut.SupersededByNewNavigation),$e;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?q(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Zr(c.id,this.urlSerializer.serialize(c.rawUrl),d,zp.IgnoredSameUrlNavigation)),c.resolve(!1),$e}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return N(c).pipe(He(d=>{let f=this.transitions?.getValue();return this.events.next(new Bs(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?$e:Promise.resolve(d)}),Hk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),_e(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=q(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new ru(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:p,extras:w}=c,M=new Bs(d,this.urlSerializer.serialize(f),h,p);this.events.next(M);let k=PC(this.rootComponentType).snapshot;return this.currentTransition=o=q(E({},c),{targetSnapshot:k,urlAfterRedirects:f,extras:q(E({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,N(o)}else{let d="";return this.events.next(new Zr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,zp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),$e}}),_e(c=>{let l=new Gp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),x(c=>(this.currentTransition=o=q(E({},c),{guards:lk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Ek(this.environmentInjector,c=>this.events.next(c)),_e(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw cu(this.urlSerializer,c.guardsResult);let l=new qp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),ft(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ut.GuardRejected),!1)),jp(c=>{if(c.guards.canActivateChecks.length)return N(c).pipe(_e(l=>{let u=new Yp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),He(l=>{let u=!1;return N(l).pipe(Wk(this.paramsInheritanceStrategy,this.environmentInjector),_e({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",ut.NoDataFromResolver)}}))}),_e(l=>{let u=new Kp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),jp(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(_e(f=>{u.component=f}),x(()=>{})));for(let f of u.children)d.push(...l(f));return d};return Ac(l(c.targetSnapshot.root)).pipe(Un(null),Je(1))}),jp(()=>this.afterPreactivation()),He(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?ie(u).pipe(x(()=>o)):N(o)}),x(c=>{let l=ik(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=q(E({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),_e(()=>{this.events.next(new Hs)}),ck(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Je(1),_e({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new er(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Tf(this.transitionAbortSubject.pipe(_e(c=>{throw c}))),Mi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),jn(c=>{if(a=!0,VC(c))this.events.next(new Cn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),ak(c)?this.events.next(new co(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new $s(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=Kt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof zs){let{message:d,cancellationCode:f}=cu(this.urlSerializer,u);this.events.next(new Cn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new co(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=n.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return $e}))}))}cancelNavigationTransition(n,r,i){let o=new Cn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rF(t){return t!==Ls}var iF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>_(oF),providedIn:"root"})}}return t})(),fm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},oF=(()=>{class t extends fm{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Lr(t)))(i||t)}})()}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),GC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:()=>_(sF),providedIn:"root"})}}return t})(),sF=(()=>{class t extends GC{constructor(){super(...arguments),this.location=_(As),this.urlSerializer=_(hm),this.options=_(gm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(_m),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=PC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Bs)this.stateMemento=this.createStateMemento();else if(n instanceof Zr)this.rawUrlTree=r.initialUrl;else if(n instanceof ru){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Hs?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Cn&&(n.code===ut.GuardRejected||n.code===ut.NoDataFromResolver)?this.restoreHistory(r):n instanceof $s?this.restoreHistory(r,!0):n instanceof er&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Dn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Lr(t)))(i||t)}})()}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ks=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ks||{});function aF(t,e){t.events.pipe(ft(n=>n instanceof er||n instanceof Cn||n instanceof $s||n instanceof Zr),x(n=>n instanceof er||n instanceof Zr?ks.COMPLETE:(n instanceof Cn?n.code===ut.Redirect||n.code===ut.SupersededByNewNavigation:!1)?ks.REDIRECTING:ks.FAILED),ft(n=>n!==ks.REDIRECTING),Je(1)).subscribe(()=>{e()})}function cF(t){throw t}var lF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ke=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=_(Bl),this.stateManager=_(GC),this.options=_(gm,{optional:!0})||{},this.pendingTasks=_(Vr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(nF),this.urlSerializer=_(hm),this.location=_(As),this.urlHandlingStrategy=_(_m),this._events=new Ae,this.errorHandler=this.options.errorHandler||cF,this.navigated=!1,this.routeReuseStrategy=_(iF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(ym,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(mm,{optional:!0}),this.eventsSubscription=new he,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Cn&&r.code!==ut.Redirect&&r.code!==ut.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof er)this.navigated=!0;else if(r instanceof co){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||rF(i.source)},s);this.scheduleNavigation(a,Ls,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}fF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ls,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=E({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(vm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=MC(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return NC(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Kr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ls,null,r)}navigate(n,r={skipLocationChange:!1}){return dF(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=E({},lF):r===!1?i=E({},uF):i=r,Kr(n))return fC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return fC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return aF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function dF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new b(4008,!1)}function fF(t){return!(t instanceof Hs)&&!(t instanceof co)}var fo=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Ae,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof er&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Kr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:NI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Kr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(C(Ke),C(bn),Wh("tabindex"),C(Qt),C(Ft),C(to))}}static{this.\u0275dir=me({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ae("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Br("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",eo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",eo],replaceUrl:[2,"replaceUrl","replaceUrl",eo],routerLink:"routerLink"},standalone:!0,features:[hp,Kn]})}}return t})();var hF=new D("");function qC(t,...e){return ot([{provide:ym,multi:!0,useValue:t},[],{provide:bn,useFactory:pF,deps:[Ke]},{provide:Ji,multi:!0,useFactory:mF},e.map(n=>n.\u0275providers)])}function pF(t){return t.routerState.root}function mF(){let t=_(Ve);return e=>{let n=t.get(en);if(e!==n.components[0])return;let r=t.get(Ke),i=t.get(gF);t.get(vF)===1&&r.initialNavigation(),t.get(yF,null,B.Optional)?.setUpPreloading(),t.get(hF,null,B.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var gF=new D("",{factory:()=>new Ae}),vF=new D("",{providedIn:"root",factory:()=>1});var yF=new D("");var fu=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-stats"]],standalone:!0,features:[X],decls:2,vars:0,template:function(n,r){n&1&&(v(0,"p"),I(1,"stats works!"),g())}})};var hu=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-profile"]],standalone:!0,features:[X],decls:2,vars:0,template:function(n,r){n&1&&(v(0,"p"),I(1,"profile works!"),g())}})};var rD=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(C(Qt),C(Ft))}}static{this.\u0275dir=me({type:t})}}return t})(),bm=(()=>{class t extends rD{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Lr(t)))(i||t)}})()}static{this.\u0275dir=me({type:t,features:[Jt]})}}return t})(),Cu=new D("");var _F={provide:Cu,useExisting:Yn(()=>ir),multi:!0};function EF(){let t=wn()?wn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var IF=new D(""),ir=(()=>{class t extends rD{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!EF())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(C(Qt),C(Ft),C(IF,8))}}static{this.\u0275dir=me({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ae("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Qi([_F]),Jt]})}}return t})();function nr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function iD(t){return t!=null&&typeof t.length=="number"}var oD=new D(""),sD=new D(""),wF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,we=class{static min(e){return CF(e)}static max(e){return DF(e)}static required(e){return bF(e)}static requiredTrue(e){return TF(e)}static email(e){return SF(e)}static minLength(e){return AF(e)}static maxLength(e){return MF(e)}static pattern(e){return NF(e)}static nullValidator(e){return aD(e)}static compose(e){return hD(e)}static composeAsync(e){return mD(e)}};function CF(t){return e=>{if(nr(e.value)||nr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function DF(t){return e=>{if(nr(e.value)||nr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function bF(t){return nr(t.value)?{required:!0}:null}function TF(t){return t.value===!0?null:{required:!0}}function SF(t){return nr(t.value)||wF.test(t.value)?null:{email:!0}}function AF(t){return e=>nr(e.value)||!iD(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function MF(t){return e=>iD(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function NF(t){if(!t)return aD;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(nr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function aD(t){return null}function cD(t){return t!=null}function lD(t){return Wr(t)?ie(t):t}function uD(t){let e={};return t.forEach(n=>{e=n!=null?E(E({},e),n):e}),Object.keys(e).length===0?null:e}function dD(t,e){return e.map(n=>n(t))}function RF(t){return!t.validate}function fD(t){return t.map(e=>RF(e)?e:n=>e.validate(n))}function hD(t){if(!t)return null;let e=t.filter(cD);return e.length==0?null:function(n){return uD(dD(n,e))}}function pD(t){return t!=null?hD(fD(t)):null}function mD(t){if(!t)return null;let e=t.filter(cD);return e.length==0?null:function(n){let r=dD(n,e).map(lD);return _f(r).pipe(x(uD))}}function gD(t){return t!=null?mD(fD(t)):null}function YC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function vD(t){return t._rawValidators}function yD(t){return t._rawAsyncValidators}function Em(t){return t?Array.isArray(t)?t:[t]:[]}function gu(t,e){return Array.isArray(t)?t.includes(e):t===e}function KC(t,e){let n=Em(e);return Em(t).forEach(i=>{gu(n,i)||n.push(i)}),n}function ZC(t,e){return Em(e).filter(n=>!gu(t,n))}var vu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},go=class extends vu{get formDirective(){return null}get path(){return null}},na=class extends vu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},yu=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},xF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},m6=q(E({},xF),{"[class.ng-submitted]":"isSubmitted"}),yo=(()=>{class t extends yu{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(C(na,2))}}static{this.\u0275dir=me({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ul("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Jt]})}}return t})(),_o=(()=>{class t extends yu{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(C(go,10))}}static{this.\u0275dir=me({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ul("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Jt]})}}return t})();var Js="VALID",pu="INVALID",po="PENDING",Xs="DISABLED",rr=class{},_u=class extends rr{constructor(e,n){super(),this.value=e,this.source=n}},ea=class extends rr{constructor(e,n){super(),this.pristine=e,this.source=n}},ta=class extends rr{constructor(e,n){super(),this.touched=e,this.source=n}},mo=class extends rr{constructor(e,n){super(),this.status=e,this.source=n}},Im=class extends rr{constructor(e){super(),this.source=e}},wm=class extends rr{constructor(e){super(),this.source=e}};function Tm(t){return(Du(t)?t.validators:t)||null}function PF(t){return Array.isArray(t)?pD(t):t||null}function Sm(t,e){return(Du(e)?e.asyncValidators:t)||null}function OF(t){return Array.isArray(t)?gD(t):t||null}function Du(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function _D(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function ED(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var vo=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ss(()=>this.statusReactive()),this.statusReactive=Ds(void 0),this._pristine=Ss(()=>this.pristineReactive()),this.pristineReactive=Ds(!0),this._touched=Ss(()=>this.touchedReactive()),this.touchedReactive=Ds(!1),this._events=new Ae,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return In(this.statusReactive)}set status(e){In(()=>this.statusReactive.set(e))}get valid(){return this.status===Js}get invalid(){return this.status===pu}get pending(){return this.status==po}get disabled(){return this.status===Xs}get enabled(){return this.status!==Xs}get pristine(){return In(this.pristineReactive)}set pristine(e){In(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return In(this.touchedReactive)}set touched(e){In(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZC(e,this._rawAsyncValidators))}hasValidator(e){return gu(this._rawValidators,e)}hasAsyncValidator(e){return gu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(q(E({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ta(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ta(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(q(E({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ea(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ea(!0,r))}markAsPending(e={}){this.status=po;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(q(E({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xs,this.errors=null,this._forEachChild(i=>{i.disable(q(E({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _u(this.value,r)),this._events.next(new mo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(E({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Js,this._forEachChild(r=>{r.enable(q(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(q(E({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Js||this.status===po)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _u(this.value,n)),this._events.next(new mo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(q(E({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xs:Js}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=po,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=lD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new mo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ie,this.statusChanges=new Ie}_calculateStatus(){return this._allControlsDisabled()?Xs:this.errors?pu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(po)?po:this._anyControlsHaveStatus(pu)?pu:Js}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ea(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ta(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Du(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=PF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=OF(this._rawAsyncValidators)}},Eu=class extends vo{constructor(e,n,r){super(Tm(n),Sm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){ED(this,!0,e),Object.keys(e).forEach(r=>{_D(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Cm=class extends Eu{};var Am=new D("CallSetDisabledState",{providedIn:"root",factory:()=>bu}),bu="always";function kF(t,e){return[...e.path,t]}function QC(t,e,n=bu){Mm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),LF(t,e),jF(t,e),VF(t,e),FF(t,e)}function JC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),wu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Iu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function FF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Mm(t,e){let n=vD(t);e.validator!==null?t.setValidators(YC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=yD(t);e.asyncValidator!==null?t.setAsyncValidators(YC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Iu(e._rawValidators,i),Iu(e._rawAsyncValidators,i)}function wu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=vD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=yD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Iu(e._rawValidators,r),Iu(e._rawAsyncValidators,r),n}function LF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ID(t,e)})}function VF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ID(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ID(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function jF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function UF(t,e){t==null,Mm(t,e)}function BF(t,e){return wu(t,e)}function $F(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function HF(t){return Object.getPrototypeOf(t.constructor)===bm}function WF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function zF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ir?n=o:HF(o)?r=o:i=o}),i||r||n||null}function GF(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function XC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function eD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var mu=class extends vo{constructor(e=null,n,r){super(Tm(n),Sm(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Du(n)&&(n.nonNullable||n.initialValueIsDefault)&&(eD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){eD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var qF=t=>t instanceof mu;var Eo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=me({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var wD=new D("");var YF={provide:go,useExisting:Yn(()=>Qr)},Qr=(()=>{class t extends go{get submitted(){return In(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ss(()=>this._submittedReactive()),this._submittedReactive=Ds(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ie,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return QC(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){JC(n.control||null,n,!1),GF(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),WF(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Im(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new wm(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(JC(r||null,n),qF(i)&&(QC(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);UF(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&BF(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mm(this.form,this),this._oldForm&&wu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(C(oD,10),C(sD,10),C(Am,8))}}static{this.\u0275dir=me({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ae("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qi([YF]),Jt,Kn]})}}return t})();var KF={provide:na,useExisting:Yn(()=>Jr)},Jr=(()=>{class t extends na{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ie,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=zF(this,o)}ngOnChanges(n){this._added||this._setUpControl(),$F(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return kF(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(C(go,13),C(oD,10),C(sD,10),C(Cu,10),C(wD,8))}}static{this.\u0275dir=me({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Qi([KF]),Jt,Kn]})}}return t})(),ZF={provide:Cu,useExisting:Yn(()=>Tu),multi:!0};function CD(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function QF(t){return t.split(":")[0]}var Tu=(()=>{class t extends bm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=CD(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=QF(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Lr(t)))(i||t)}})()}static{this.\u0275dir=me({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ae("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qi([ZF]),Jt]})}}return t})(),DD=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(CD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(C(Ft),C(Qt),C(Tu,9))}}static{this.\u0275dir=me({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),JF={provide:Cu,useExisting:Yn(()=>bD),multi:!0};function tD(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function XF(t){return t.split(":")[0]}var bD=(()=>{class t extends bm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=XF(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Lr(t)))(i||t)}})()}static{this.\u0275dir=me({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ae("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qi([JF]),Jt]})}}return t})(),TD=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(tD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(tD(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(C(Ft),C(Qt),C(bD,9))}}static{this.\u0275dir=me({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var SD=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_n({type:t})}static{this.\u0275inj=yn({})}}return t})(),Dm=class extends vo{constructor(e,n,r){super(Tm(n),Sm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){ED(this,!1,e),e.forEach((r,i)=>{_D(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function nD(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Io=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return nD(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Eu(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Cm(i,r)}control(n,r,i){let o={};return this.useNonNullable?(nD(r)?o=r:(o.validators=r,o.asyncValidators=i),new mu(n,q(E({},o),{nonNullable:!0}))):new mu(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Dm(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof mu)return n;if(n instanceof vo)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var AD=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Am,useValue:n.callSetDisabledState??bu}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_n({type:t})}static{this.\u0275inj=yn({imports:[SD]})}}return t})(),wo=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:wD,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Am,useValue:n.callSetDisabledState??bu}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_n({type:t})}static{this.\u0275inj=yn({imports:[SD]})}}return t})();var xm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var y=function(t,e){if(!t)throw Xr(e)},Xr=function(t){return new Error("Firebase Database ("+xm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var ND=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},e1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Au={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ND(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Pm;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Pm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},km=function(t){let e=ND(t);return Au.encodeByteArray(e,!0)},ra=function(t){return km(t).replace(/\./g,"")},ia=function(t){try{return Au.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function RD(t){return xD(void 0,t)}function xD(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!t1(n)||(t[n]=xD(t[n],e[n]));return t}function t1(t){return t!=="__proto__"}function n1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var r1=()=>n1().__FIREBASE_DEFAULTS__,i1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},o1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ia(t[1]);return e&&JSON.parse(e)},Fm=()=>{try{return r1()||i1()||o1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Lm=t=>{var e,n;return(n=(e=Fm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PD=t=>{let e=Lm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Vm=()=>{var t;return(t=Fm())===null||t===void 0?void 0:t.config},jm=t=>{var e;return(e=Fm())===null||e===void 0?void 0:e[`_${t}`]};var or=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function OD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ra(JSON.stringify(n)),ra(JSON.stringify(s)),""].join(".")}function je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oa(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function kD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Mu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LD(){let t=je();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rn(){return xm.NODE_CLIENT===!0||xm.NODE_ADMIN===!0}function VD(){try{return typeof indexedDB=="object"}catch{return!1}}function jD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var s1="FirebaseError",Vt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=s1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tn.prototype.create)}},Tn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?a1(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Vt(i,a,r)}};function a1(t,e){return t.replace(c1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var c1=/\{\$([^}]+)}/g;function Co(t){return JSON.parse(t)}function Ce(t){return JSON.stringify(t)}var UD=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=Co(ia(o[0])||""),n=Co(ia(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var BD=function(t){let e=UD(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},$D=function(t){let e=UD(t).claims;return typeof e=="object"&&e.admin===!0};function on(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ei(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function sa(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function aa(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Do(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(MD(o)&&MD(s)){if(!Do(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function MD(t){return t!==null&&typeof t=="object"}function sr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function To(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Su=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function HD(t,e){let n=new Om(t,e);return n.subscribe.bind(n)}var Om=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");l1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rm),i.error===void 0&&(i.error=Rm),i.complete===void 0&&(i.complete=Rm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function l1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rm(){}function Nu(t,e){return`${t} failed: ${e} argument `}var WD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,y(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ca=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var y6=4*60*60*1e3;function Oe(t){return t&&t._delegate?t._delegate:t}var It=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ti="[DEFAULT]";var Ru=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new or;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d1(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function u1(t){return t===ti?void 0:t}function d1(t){return t.instantiationMode==="EAGER"}var la=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ru(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var f1=[],ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ne||{}),h1={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},p1=ne.INFO,m1={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},g1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=m1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ar=class{constructor(e){this.name=e,this._logLevel=p1,this._logHandler=g1,this._userLogHandler=null,f1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var v1=(t,e)=>e.some(n=>t instanceof n),zD,GD;function y1(){return zD||(zD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _1(){return GD||(GD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var qD=new WeakMap,Bm=new WeakMap,YD=new WeakMap,Um=new WeakMap,Hm=new WeakMap;function E1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(sn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&qD.set(n,t)}).catch(()=>{}),Hm.set(e,t),e}function I1(t){if(Bm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Bm.set(t,e)}var $m={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KD(t){$m=t($m)}function w1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(xu(this),e,...n);return YD.set(r,e.sort?e.sort():[e]),sn(r)}:_1().includes(t)?function(...e){return t.apply(xu(this),e),sn(qD.get(this))}:function(...e){return sn(t.apply(xu(this),e))}}function C1(t){return typeof t=="function"?w1(t):(t instanceof IDBTransaction&&I1(t),v1(t,y1())?new Proxy(t,$m):t)}function sn(t){if(t instanceof IDBRequest)return E1(t);if(Um.has(t))return Um.get(t);let e=C1(t);return e!==t&&(Um.set(t,e),Hm.set(e,t)),e}var xu=t=>Hm.get(t);function QD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=sn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(sn(s.result),c.oldVersion,c.newVersion,sn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var D1=["get","getKey","getAll","getAllKeys","count"],b1=["put","add","delete","clear"],Wm=new Map;function ZD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=b1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||D1.includes(n)))return;let o=function(s,...a){return m(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Wm.set(e,o),o}KD(t=>q(E({},t),{get:(e,n,r)=>ZD(e,n)||t.get(e,n,r),has:(e,n)=>!!ZD(e,n)||t.has(e,n)}));var Gm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(T1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function T1(t){let e=t.getComponent();return e?.type==="VERSION"}var qm="@firebase/app",JD="0.10.13";var Sn=new ar("@firebase/app"),S1="@firebase/app-compat",A1="@firebase/analytics-compat",M1="@firebase/analytics",N1="@firebase/app-check-compat",R1="@firebase/app-check",x1="@firebase/auth",P1="@firebase/auth-compat",O1="@firebase/database",k1="@firebase/data-connect",F1="@firebase/database-compat",L1="@firebase/functions",V1="@firebase/functions-compat",j1="@firebase/installations",U1="@firebase/installations-compat",B1="@firebase/messaging",$1="@firebase/messaging-compat",H1="@firebase/performance",W1="@firebase/performance-compat",z1="@firebase/remote-config",G1="@firebase/remote-config-compat",q1="@firebase/storage",Y1="@firebase/storage-compat",K1="@firebase/firestore",Z1="@firebase/vertexai-preview",Q1="@firebase/firestore-compat",J1="firebase",X1="10.14.1";var Ym="[DEFAULT]",eL={[qm]:"fire-core",[S1]:"fire-core-compat",[M1]:"fire-analytics",[A1]:"fire-analytics-compat",[R1]:"fire-app-check",[N1]:"fire-app-check-compat",[x1]:"fire-auth",[P1]:"fire-auth-compat",[O1]:"fire-rtdb",[k1]:"fire-data-connect",[F1]:"fire-rtdb-compat",[L1]:"fire-fn",[V1]:"fire-fn-compat",[j1]:"fire-iid",[U1]:"fire-iid-compat",[B1]:"fire-fcm",[$1]:"fire-fcm-compat",[H1]:"fire-perf",[W1]:"fire-perf-compat",[z1]:"fire-rc",[G1]:"fire-rc-compat",[q1]:"fire-gcs",[Y1]:"fire-gcs-compat",[K1]:"fire-fst",[Q1]:"fire-fst-compat",[Z1]:"fire-vertex","fire-js":"fire-js",[J1]:"fire-js-all"};var ua=new Map,tL=new Map,Km=new Map;function XD(t,e){try{t.container.addComponent(e)}catch(n){Sn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lr(t){let e=t.name;if(Km.has(e))return Sn.debug(`There were multiple attempts to register component ${e}.`),!1;Km.set(e,t);for(let n of ua.values())XD(n,t);for(let n of tL.values())XD(n,t);return!0}function fa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wt(t){return t.settings!==void 0}var nL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Tn("app","Firebase",nL);var Zm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new It("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}};var ur=X1;function Xm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ym,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cr.create("bad-app-name",{appName:String(i)});if(n||(n=Vm()),!n)throw cr.create("no-options");let o=ua.get(i);if(o){if(Do(n,o.options)&&Do(r,o.config))return o;throw cr.create("duplicate-app",{appName:i})}let s=new la(i);for(let c of Km.values())s.addComponent(c);let a=new Zm(n,r,s);return ua.set(i,a),a}function So(t=Ym){let e=ua.get(t);if(!e&&t===Ym&&Vm())return Xm();if(!e)throw cr.create("no-app",{appName:t});return e}function Pu(){return Array.from(ua.values())}function De(t,e,n){var r;let i=(r=eL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sn.warn(a.join(" "));return}lr(new It(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var rL="firebase-heartbeat-database",iL=1,da="firebase-heartbeat-store",zm=null;function rb(){return zm||(zm=QD(rL,iL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(da)}catch(n){console.warn(n)}}}}).catch(t=>{throw cr.create("idb-open",{originalErrorMessage:t.message})})),zm}function oL(t){return m(this,null,function*(){try{let n=(yield rb()).transaction(da),r=yield n.objectStore(da).get(ib(t));return yield n.done,r}catch(e){if(e instanceof Vt)Sn.warn(e.message);else{let n=cr.create("idb-get",{originalErrorMessage:e?.message});Sn.warn(n.message)}}})}function eb(t,e){return m(this,null,function*(){try{let r=(yield rb()).transaction(da,"readwrite");yield r.objectStore(da).put(e,ib(t)),yield r.done}catch(n){if(n instanceof Vt)Sn.warn(n.message);else{let r=cr.create("idb-set",{originalErrorMessage:n?.message});Sn.warn(r.message)}}})}function ib(t){return`${t.name}!${t.options.appId}`}var sL=1024,aL=30*24*60*60*1e3,Qm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Jm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=aL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Sn.warn(r)}})}getHeartbeatsHeader(){return m(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=tb(),{heartbeatsToSend:r,unsentEntries:i}=cL(this._heartbeatsCache.heartbeats),o=ra(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Sn.warn(n),""}})}};function tb(){return new Date().toISOString().substring(0,10)}function cL(t,e=sL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),nb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Jm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return VD()?jD().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield oL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return eb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return eb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function nb(t){return ra(JSON.stringify({version:2,heartbeats:t})).length}function lL(t){lr(new It("platform-logger",e=>new Gm(e),"PRIVATE")),lr(new It("heartbeat",e=>new Qm(e),"PRIVATE")),De(qm,JD,t),De(qm,JD,"esm2017"),De("fire-js","")}lL("");var uL="firebase",dL="10.14.1";De(uL,dL,"app");var ri=new vn("ANGULARFIRE2_VERSION");function ku(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ha=(t,e)=>{let n=e?[e]:Pu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Mo=class{constructor(){return ha(fL)}},fL="app-check";function Ao(){}var Ou=class{zone;delegate;constructor(e,n=gf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},eg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ao,{},Ao,Ao)),n.pipe(_e({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},No=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ou(Zone.current)),this.insideAngular=n.run(()=>new Ou(Zone.current,Si)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(O(te))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Fu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function hL(t){return Fu().ngZone.runOutsideAngular(()=>t())}function ni(t){return Fu().ngZone.run(()=>t())}function pL(t){return mL(Fu())(t)}function mL(t){return function(n){return n=n.lift(new eg(t.ngZone)),n.pipe(Ln(t.outsideAngular),Fn(t.insideAngular))}}var gL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ni(()=>t.apply(void 0,r))},ke=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ni(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ao,{},Ao,Ao))),r[o]=gL(r[o],n));let i=hL(()=>t.apply(this,r));if(!e)if(i instanceof V){let o=Fu();return i.pipe(Ln(o.outsideAngular),Fn(o.insideAngular))}else return ni(()=>i);return i instanceof V?i.pipe(pL):i instanceof Promise?ni(()=>new Promise((o,s)=>i.then(a=>ni(()=>o(a)),a=>ni(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ni(()=>i)};var An=class{constructor(e){return e}},ii=class{constructor(){return Pu()}};function vL(t){return t&&t.length===1?t[0]:new An(So())}var tg=new D("angularfire2._apps"),yL={provide:An,useFactory:vL,deps:[[new qe,tg]]},_L={provide:ii,deps:[[new qe,tg]]};function EL(t){return(e,n)=>{let r=n.get(_t);De("angularfire",ri.full,"core"),De("angularfire",ri.full,"app"),De("angular",Dw.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new An(i)}}function ob(t,...e){return ot([yL,_L,{provide:tg,useFactory:EL(t),multi:!0,deps:[te,Ve,No,...e]}])}var sb=ke(Xm,!0);function Cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Db=Cb,bb=new Tn("auth","Firebase",Cb());var $u=new ar("@firebase/auth");function IL(t,...e){$u.logLevel<=ne.WARN&&$u.warn(`Auth (${ur}): ${t}`,...e)}function Vu(t,...e){$u.logLevel<=ne.ERROR&&$u.error(`Auth (${ur}): ${t}`,...e)}function Ct(t,...e){throw wg(t,...e)}function jt(t,...e){return wg(t,...e)}function Ig(t,e,n){let r=Object.assign(Object.assign({},Db()),{[e]:n});return new Tn("auth","Firebase",r).create(e,{appName:t.name})}function Rn(t){return Ig(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wL(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ct(t,"argument-error"),Ig(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bb.create(t,...e)}function R(t,e,...n){if(!t)throw wg(e,...n)}function Mn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function xn(t,e){t||Mn(e)}function ig(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CL(){return ab()==="http:"||ab()==="https:"}function ab(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function DL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CL()||FD()||"connection"in navigator)?navigator.onLine:!0}function bL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var oi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,xn(n>e,"Short delay should be less than long delay!"),this.isMobile=oa()||Mu()}get(){return DL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Cg(t,e){xn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Hu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var TL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var SL=new oi(3e4,6e4);function fr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function hr(o,s,a,c){return m(this,arguments,function*(t,e,n,r,i={}){return Tb(t,i,()=>m(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=sr(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},l);return kD()||(h.referrerPolicy="no-referrer"),Hu.fetch()(Sb(t,t.config.apiHost,n,d),h)}))})}function Tb(t,e,n){return m(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},TL),e);try{let i=new og(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Lu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lu(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Lu(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Lu(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Ig(t,u,l);Ct(t,u)}}catch(i){if(i instanceof Vt)throw i;Ct(t,"network-request-failed",{message:String(i)})}})}function Ia(o,s,a,c){return m(this,arguments,function*(t,e,n,r,i={}){let l=yield hr(t,e,n,r,i);return"mfaPendingCredential"in l&&Ct(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Sb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Cg(t.config,i):`${t.config.apiScheme}://${i}`}function AL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var og=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jt(this.auth,"network-request-failed")),SL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Lu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=jt(t,e,r);return i.customData._tokenResponse=n,i}function cb(t){return t!==void 0&&t.enterprise!==void 0}var sg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function ML(t,e){return m(this,null,function*(){return hr(t,"GET","/v2/recaptchaConfig",fr(t,e))})}function NL(t,e){return m(this,null,function*(){return hr(t,"POST","/v1/accounts:delete",e)})}function Ab(t,e){return m(this,null,function*(){return hr(t,"POST","/v1/accounts:lookup",e)})}function pa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Dg(t,e=!1){return m(this,null,function*(){let n=Oe(t),r=yield n.getIdToken(e),i=bg(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:pa(ng(i.auth_time)),issuedAtTime:pa(ng(i.iat)),expirationTime:pa(ng(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ng(t){return Number(t)*1e3}function bg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{let i=ia(n);return i?JSON.parse(i):(Vu("Failed to decode base64 JWT payload"),null)}catch(i){return Vu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lb(t){let e=bg(t);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ga(t,e,n=!1){return m(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Vt&&RL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function RL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ag=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var va=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pa(this.lastLoginAt),this.creationTime=pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Wu(t){return m(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ga(t,Ab(n,{idToken:r}));R(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Mb(o.providerUserInfo):[],a=xL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new va(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Tg(t){return m(this,null,function*(){let e=Oe(t);yield Wu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function xL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Mb(t){return t.map(e=>{var{providerId:n}=e,r=pc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function PL(t,e){return m(this,null,function*(){let n=yield Tb(t,{},()=>m(this,null,function*(){let r=sr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Sb(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Hu.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function OL(t,e){return m(this,null,function*(){return hr(t,"POST","/v2/accounts:revokeToken",fr(t,e))})}var ma=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){R(e.length!==0,"internal-error");let n=lb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return m(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(R(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield PL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(R(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(R(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(R(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Mn("not implemented")}};function dr(t,e){R(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var xo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=pc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ag(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new va(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return m(this,null,function*(){let n=yield ga(this,this.stsTokenManager.getToken(this.auth,e));return R(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Dg(this,e)}reload(){return Tg(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return m(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Wu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(wt(this.auth.app))return Promise.reject(Rn(this.auth));let e=yield this.getIdToken();return yield ga(this,NL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,le=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:ue,emailVerified:Ee,isAnonymous:St,providerData:Ne,stsTokenManager:fn}=n;R(ue&&fn,e,"internal-error");let Zo=ma.fromJSON(this.name,fn);R(typeof ue=="string",e,"internal-error"),dr(d,e.name),dr(f,e.name),R(typeof Ee=="boolean",e,"internal-error"),R(typeof St=="boolean",e,"internal-error"),dr(h,e.name),dr(p,e.name),dr(w,e.name),dr(M,e.name),dr(k,e.name),dr(le,e.name);let Qo=new t({uid:ue,auth:e,email:f,emailVerified:Ee,displayName:d,isAnonymous:St,photoURL:p,phoneNumber:h,tenantId:w,stsTokenManager:Zo,createdAt:k,lastLoginAt:le});return Ne&&Array.isArray(Ne)&&(Qo.providerData=Ne.map(AS=>Object.assign({},AS))),M&&(Qo._redirectEventId=M),Qo}static _fromIdTokenResponse(e,n,r=!1){return m(this,null,function*(){let i=new ma;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Wu(o),o})}static _fromGetAccountInfoResponse(e,n,r){return m(this,null,function*(){let i=n.users[0];R(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Mb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ma;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new va(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var ub=new Map;function Nn(t){xn(t instanceof Function,"Expected a class definition");let e=ub.get(t);return e?(xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ub.set(t,e),e)}var kL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),cg=kL;function ju(t,e,n){return`firebase:${t}:${e}:${n}`}var zu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ju(this.userKey,i.apiKey,o),this.fullPersistenceKey=ju("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return m(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?xo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return m(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new t(Nn(cg),e,r);let i=(yield Promise.all(n.map(l=>m(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Nn(cg),s=ju(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=xo._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>m(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function db(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Nb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kb(e))return"Blackberry";if(Fb(e))return"Webos";if(Rb(e))return"Safari";if((e.includes("chrome/")||xb(e))&&!e.includes("edge/"))return"Chrome";if(Ob(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Nb(t=je()){return/firefox\//i.test(t)}function Rb(t=je()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xb(t=je()){return/crios\//i.test(t)}function Pb(t=je()){return/iemobile/i.test(t)}function Ob(t=je()){return/android/i.test(t)}function kb(t=je()){return/blackberry/i.test(t)}function Fb(t=je()){return/webos/i.test(t)}function Sg(t=je()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FL(t=je()){var e;return Sg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LL(){return LD()&&document.documentMode===10}function Lb(t=je()){return Sg(t)||Ob(t)||Fb(t)||kb(t)||/windows phone/i.test(t)||Pb(t)}function Vb(t,e=[]){let n;switch(t){case"Browser":n=db(je());break;case"Worker":n=`${db(je())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ur}/${r}`}var lg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return m(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function VL(n){return m(this,arguments,function*(t,e={}){return hr(t,"GET","/v2/passwordPolicy",fr(t,e))})}var jL=6,ug=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:jL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var dg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gu(this),this.idTokenSubscription=new Gu(this),this.beforeStateQueue=new lg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nn(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield zu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return m(this,null,function*(){try{let n=yield Ab(this,{idToken:e}),r=yield xo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return m(this,null,function*(){var n;if(wt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return R(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return m(this,null,function*(){try{yield Wu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=bL()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return m(this,null,function*(){if(wt(this.app))return Promise.reject(Rn(this));let n=e?Oe(e):null;return n&&R(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return m(this,null,function*(){if(!this._deleted)return e&&R(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return wt(this.app)?Promise.reject(Rn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return wt(this.app)?Promise.reject(Rn(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(Nn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let e=yield VL(this),n=new ug(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield OL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Nn(e)||this._popupRedirectResolver;R(n,this,"argument-error"),this.redirectPersistenceManager=yield zu.create(this,[Nn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return m(this,null,function*(){if(e===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return m(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&IL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function pr(t){return Oe(t)}var Gu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=HD(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var td={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UL(t){td=t}function jb(t){return td.loadJS(t)}function BL(){return td.recaptchaEnterpriseScript}function $L(){return td.gapiScript}function Ub(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var HL="recaptcha-enterprise",WL="NO_RECAPTCHA",fg=class{constructor(e){this.type=HL,this.auth=pr(e)}verify(e="verify",n=!1){return m(this,null,function*(){function r(o){return m(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>m(this,null,function*(){ML(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new sg(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;cb(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(WL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&cb(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=BL();c.length!==0&&(c+=a),jb(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function fb(t,e,n,r=!1){return m(this,null,function*(){let i=new fg(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function hg(t,e,n,r){return m(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield fb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>m(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield fb(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function Ag(t,e){let n=fa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Do(o,e??{}))return i;Ct(i,"already-initialized")}return n.initialize({options:e})}function zL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Nn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Mg(t,e,n){let r=pr(t);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=Bb(e),{host:s,port:a}=GL(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||qL()}function Bb(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GL(t){let e=Bb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:hb(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:hb(s)}}}function hb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function qL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Po=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mn("not implemented")}_getIdTokenResponse(e){return Mn("not implemented")}_linkToIdToken(e,n){return Mn("not implemented")}_getReauthenticationResolver(e){return Mn("not implemented")}};function YL(t,e){return m(this,null,function*(){return hr(t,"POST","/v1/accounts:signUp",e)})}function KL(t,e){return m(this,null,function*(){return Ia(t,"POST","/v1/accounts:signInWithPassword",fr(t,e))})}function ZL(t,e){return m(this,null,function*(){return Ia(t,"POST","/v1/accounts:signInWithEmailLink",fr(t,e))})}function QL(t,e){return m(this,null,function*(){return Ia(t,"POST","/v1/accounts:signInWithEmailLink",fr(t,e))})}var ya=class t extends Po{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return m(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,n,"signInWithPassword",KL);case"emailLink":return ZL(e,{email:this._email,oobCode:this._password});default:Ct(e,"internal-error")}})}_linkToIdToken(e,n){return m(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,r,"signUpPassword",YL);case"emailLink":return QL(e,{idToken:n,email:this._email,oobCode:this._password});default:Ct(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ro(t,e){return m(this,null,function*(){return Ia(t,"POST","/v1/accounts:signInWithIdp",fr(t,e))})}var JL="http://localhost",qu=class t extends Po{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ct("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=pc(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return Ro(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Ro(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Ro(e,n)}buildRequest(){let e={requestUri:JL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sr(n)}return e}};function XL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eV(t){let e=bo(To(t)).link,n=e?bo(To(e)).deep_link_id:null,r=bo(To(t)).deep_link_id;return(r?bo(To(r)).link:null)||r||n||e||t}var Yu=class t{constructor(e){var n,r,i,o,s,a;let c=bo(To(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=XL((i=c.mode)!==null&&i!==void 0?i:null);R(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=eV(e);try{return new t(n)}catch{return null}}};var $b=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ya._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Yu.parseLink(r);return R(i,"argument-error"),ya._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),_a=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ku=class extends _a{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ng=(()=>{class t extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return qu._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function tV(t,e){return m(this,null,function*(){return Ia(t,"POST","/v1/accounts:signUp",fr(t,e))})}var Oo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(this,null,function*(){let o=yield xo._fromIdTokenResponse(e,r,i),s=pb(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return m(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=pb(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function pb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var pg=class t extends Vt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function Hb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?pg._fromErrorAndOperation(t,o,e,r):o})}function nV(t,e,n=!1){return m(this,null,function*(){let r=yield ga(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Oo._forOperation(t,"link",r)})}function rV(t,e,n=!1){return m(this,null,function*(){let{auth:r}=t;if(wt(r.app))return Promise.reject(Rn(r));let i="reauthenticate";try{let o=yield ga(t,Hb(r,i,e,t),n);R(o.idToken,r,"internal-error");let s=bg(o.idToken);R(s,r,"internal-error");let{sub:a}=s;return R(t.uid===a,r,"user-mismatch"),Oo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ct(r,"user-mismatch"),o}})}function Wb(t,e,n=!1){return m(this,null,function*(){if(wt(t.app))return Promise.reject(Rn(t));let r="signIn",i=yield Hb(t,r,e),o=yield Oo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Rg(t,e){return m(this,null,function*(){return Wb(pr(t),e)})}function zb(t){return m(this,null,function*(){let e=pr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function xg(t,e,n){return m(this,null,function*(){if(wt(t.app))return Promise.reject(Rn(t));let r=pr(t),s=yield hg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tV).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&zb(t),c}),a=yield Oo._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Pg(t,e,n){return wt(t.app)?Promise.reject(Rn(t)):Rg(Oe(t),$b.credential(e,n)).catch(r=>m(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&zb(t),r}))}function wa(t,e,n,r){return Oe(t).onIdTokenChanged(e,n,r)}function Og(t,e,n){return Oe(t).beforeAuthStateChanged(e,n)}function kg(t){return Oe(t).signOut()}var Zu="__sak";var Qu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zu,"1"),this.storage.removeItem(Zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var iV=1e3,oV=10,sV=(()=>{class t extends Qu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lb(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);LL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,oV):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},iV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return m(this,null,function*(){yield Ir(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return m(this,null,function*(){let r=yield Ir(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return m(this,null,function*(){yield Ir(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Gb=sV;var aV=(()=>{class t extends Qu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Fg=aV;function cV(t){return Promise.all(t.map(e=>m(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var lV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return m(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>m(this,null,function*(){return u(r.origin,s)})),l=yield cV(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Lg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var mg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return m(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=Lg("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function an(){return window}function uV(t){an().location.href=t}function qb(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}function dV(){return m(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function fV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hV(){return qb()?self:null}var Yb="firebaseLocalStorageDb",pV=1,Ju="firebaseLocalStorage",Kb="fbase_key",si=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function nd(t,e){return t.transaction([Ju],e?"readwrite":"readonly").objectStore(Ju)}function mV(){let t=indexedDB.deleteDatabase(Yb);return new si(t).toPromise()}function gg(){let t=indexedDB.open(Yb,pV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ju,{keyPath:Kb})}catch(i){n(i)}}),t.addEventListener("success",()=>m(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ju)?e(r):(r.close(),yield mV(),e(yield gg()))}))})}function mb(t,e,n){return m(this,null,function*(){let r=nd(t,!0).put({[Kb]:e,value:n});return new si(r).toPromise()})}function gV(t,e){return m(this,null,function*(){let n=nd(t,!1).get(e),r=yield new si(n).toPromise();return r===void 0?null:r.value})}function gb(t,e){let n=nd(t,!0).delete(e);return new si(n).toPromise()}var vV=800,yV=3,_V=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return m(this,null,function*(){return this.db?this.db:(this.db=yield gg(),this.db)})}_withRetries(n){return m(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>yV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return m(this,null,function*(){return qb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return m(this,null,function*(){this.receiver=lV._getInstance(hV()),this.receiver._subscribe("keyChanged",(n,r)=>m(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>m(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return m(this,null,function*(){var n,r;if(this.activeServiceWorker=yield dV(),!this.activeServiceWorker)return;this.sender=new mg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return m(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||fV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return m(this,null,function*(){try{if(!indexedDB)return!1;let n=yield gg();return yield mb(n,Zu,"1"),yield gb(n,Zu),!0}catch{}return!1})}_withPendingWrite(n){return m(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(i=>mb(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return m(this,null,function*(){let r=yield this._withRetries(i=>gV(i,n));return this.localCache[n]=r,r})}_remove(n){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(r=>gb(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return m(this,null,function*(){let n=yield this._withRetries(o=>{let s=nd(o,!1).getAll();return new si(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>m(this,null,function*(){return this._poll()}),vV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Zb=_V;var d5=Ub("rcb"),f5=new oi(3e4,6e4);function Qb(t,e){return e?Nn(e):(R(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ea=class extends Po{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function EV(t){return Wb(t.auth,new Ea(t),t.bypassAuthState)}function IV(t){let{auth:e,user:n}=t;return R(n,e,"internal-error"),rV(n,new Ea(t),t.bypassAuthState)}function wV(t){return m(this,null,function*(){let{auth:e,user:n}=t;return R(n,e,"internal-error"),nV(n,new Ea(t),t.bypassAuthState)})}var Xu=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>m(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return m(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EV;case"linkViaPopup":case"linkViaRedirect":return wV;case"reauthViaPopup":case"reauthViaRedirect":return IV;default:Ct(this.auth,"internal-error")}}resolve(e){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var CV=new oi(2e3,1e4);function Vg(t,e,n){return m(this,null,function*(){if(wt(t.app))return Promise.reject(jt(t,"operation-not-supported-in-this-environment"));let r=pr(t);wL(t,e,_a);let i=Qb(r,n);return new DV(r,"signInViaPopup",e,i).executeNotNull()})}var DV=(()=>{class t extends Xu{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return m(this,null,function*(){let n=yield this.execute();return R(n,this.auth,"internal-error"),n})}onExecution(){return m(this,null,function*(){xn(this.filter.length===1,"Popup operations only handle one event");let n=Lg();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,CV.get())};n()}}t.currentPopupAction=null;return t})(),bV="pendingRedirect",Uu=new Map,vg=class t extends Xu{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return m(this,null,function*(){let e=Uu.get(this.auth._key());if(!e){try{let r=(yield TV(this.resolver,this.auth))?yield Ir(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uu.set(this.auth._key(),e)}return this.bypassAuthState||Uu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return m(this,null,function*(){if(e.type==="signInViaRedirect")return Ir(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ir(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return m(this,null,function*(){})}cleanUp(){}};function TV(t,e){return m(this,null,function*(){let n=MV(e),r=AV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function SV(t,e){Uu.set(t._key(),e)}function AV(t){return Nn(t._redirectPersistence)}function MV(t){return ju(bV,t.config.apiKey,t.name)}function NV(t,e,n=!1){return m(this,null,function*(){if(wt(t.app))return Promise.reject(Rn(t));let r=pr(t),i=Qb(r,e),s=yield new vg(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var RV=10*60*1e3,yg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Jb(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RV&&this.cachedEventUids.clear(),this.cachedEventUids.has(vb(e))}saveEventToCache(e){this.cachedEventUids.add(vb(e)),this.lastProcessedEventTime=Date.now()}};function vb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Jb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jb(t);default:return!1}}function PV(n){return m(this,arguments,function*(t,e={}){return hr(t,"GET","/v1/projects",e)})}var OV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kV=/^https?/;function FV(t){return m(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield PV(t);for(let n of e)try{if(LV(n))return}catch{}Ct(t,"unauthorized-domain")})}function LV(t){let e=ig(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!kV.test(n))return!1;if(OV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var VV=new oi(3e4,6e4);function yb(){let t=an().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jV(t){return new Promise((e,n)=>{var r,i,o;function s(){yb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yb(),n(jt(t,"network-request-failed"))},timeout:VV.get()})}if(!((i=(r=an().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=an().gapi)===null||o===void 0)&&o.load)s();else{let a=Ub("iframefcb");return an()[a]=()=>{gapi.load?s():n(jt(t,"network-request-failed"))},jb(`${$L()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Bu=null,e})}var Bu=null;function UV(t){return Bu=Bu||jV(t),Bu}var BV=new oi(5e3,15e3),$V="__/auth/iframe",HV="emulator/auth/iframe",WV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GV(t){let e=t.config;R(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Cg(e,HV):`https://${t.config.authDomain}/${$V}`,r={apiKey:e.apiKey,appName:t.name,v:ur},i=zV.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${sr(r).slice(1)}`}function qV(t){return m(this,null,function*(){let e=yield UV(t),n=an().gapi;return R(n,t,"internal-error"),e.open({where:document.body,url:GV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WV,dontclear:!0},r=>new Promise((i,o)=>m(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=jt(t,"network-request-failed"),a=an().setTimeout(()=>{o(s)},BV.get());function c(){an().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var YV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KV=500,ZV=600,QV="_blank",JV="http://localhost",ed=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function XV(t,e,n,r=KV,i=ZV){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},YV),{width:r.toString(),height:i.toString(),top:o,left:s}),l=je().toLowerCase();n&&(a=xb(l)?QV:n),Nb(l)&&(e=e||JV,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(FL(l)&&a!=="_self")return ej(e||"",a),new ed(null);let d=window.open(e||"",a,u);R(d,t,"popup-blocked");try{d.focus()}catch{}return new ed(d)}function ej(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var tj="__/auth/handler",nj="emulator/auth/handler",rj=encodeURIComponent("fac");function _b(t,e,n,r,i,o){return m(this,null,function*(){R(t.config.authDomain,t,"auth-domain-config-required"),R(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ur,eventId:i};if(e instanceof _a){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",sa(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Ku){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${rj}=${encodeURIComponent(c)}`:"";return`${ij(t)}?${sr(a).slice(1)}${l}`})}function ij({config:t}){return t.emulator?Cg(t,nj):`https://${t.authDomain}/${tj}`}var rg="webStorageSupport",_g=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fg,this._completeRedirectFn=NV,this._overrideRedirectResult=SV}_openPopup(e,n,r,i){return m(this,null,function*(){var o;xn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield _b(e,n,r,ig(),i);return XV(e,s,Lg())})}_openRedirect(e,n,r,i){return m(this,null,function*(){yield this._originValidation(e);let o=yield _b(e,n,r,ig(),i);return uV(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(xn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return m(this,null,function*(){let n=yield qV(e),r=new yg(e);return n.register("authEvent",i=>(R(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rg,{type:rg},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[rg];s!==void 0&&n(!!s),Ct(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lb()||Rb()||Sg()}},Xb=_g;var Eb="@firebase/auth",Ib="1.7.9";var Eg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function oj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sj(t){lr(new It("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;R(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vb(t)},l=new dg(r,i,o,c);return zL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lr(new It("auth-internal",e=>{let n=pr(e.getProvider("auth").getImmediate());return(r=>new Eg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),De(Eb,Ib,oj(t)),De(Eb,Ib,"esm2017")}var aj=5*60,cj=jm("authIdTokenMaxAge")||aj,wb=null,lj=t=>e=>m(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cj)return;let i=n?.token;wb!==i&&(wb=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function jg(t=So()){let e=fa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Ag(t,{popupRedirectResolver:Xb,persistence:[Zb,Gb,Fg]}),r=jm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=lj(o.toString());Og(n,s,()=>s(n.currentUser)),wa(n,a=>s(a))}}let i=Lm("auth");return i&&Mg(n,`http://${i}`),n}function uj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=jt("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",uj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sj("Browser");function n0(t){return new V(function(e){var n=wa(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var r0="auth",Pn=class{constructor(e){return e}},Ca=class{constructor(){return ha(r0)}};var Ug=new D("angularfire2.auth-instances");function Qj(t,e){let n=ku(r0,t,e);return n&&new Pn(n)}function Jj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pn(r)}}var Xj={provide:Ca,deps:[[new qe,Ug]]},eU={provide:Pn,useFactory:Qj,deps:[[new qe,Ug],An]};function i0(t,...e){return De("angularfire",ri.full,"auth"),ot([eU,Xj,{provide:Ug,useFactory:Jj(t),multi:!0,deps:[te,Ve,No,ii,[new qe,Mo],...e]}])}var o0=ke(n0,!0);var s0=ke(xg,!0);var a0=ke(jg,!0);var c0=ke(Pg,!0);var l0=ke(Vg,!0);var u0=ke(kg,!0);var mr=class t{constructor(e){this.auth=e;e.onAuthStateChanged(n=>{this.isAuthenticated=!!n})}isAuthenticated=!1;register({email:e,password:n}){return s0(this.auth,e,n)}login({email:e,password:n}){return c0(this.auth,e,n)}loginWithGoogle(){return l0(this.auth,new Ng)}logout(){return u0(this.auth)}static \u0275fac=function(n){return new(n||t)(O(Pn))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};function tU(t,e){t&1&&(v(0,"li",9)(1,"a",10),I(2,"Inicio"),g()())}function nU(t,e){t&1&&(v(0,"li",9)(1,"a",11),I(2,"Tareas"),g()())}function rU(t,e){t&1&&(v(0,"ul",15)(1,"li")(2,"a",16),I(3,"Stats"),g()(),v(4,"li")(5,"a",17),I(6,"Profile"),g()()())}function iU(t,e){if(t&1&&(v(0,"li",12)(1,"a",13),I(2," dashboard "),g(),fe(3,rU,7,0,"ul",14),g()),t&2){let n=xe();T(3),S("ngIf",n.isAuthenticated)}}function oU(t,e){t&1&&(v(0,"li",9)(1,"a",18),I(2,"Login"),g()())}function sU(t,e){t&1&&(v(0,"li",9)(1,"a",19),I(2,"Register"),g()())}function aU(t,e){if(t&1){let n=Xt();v(0,"li",9)(1,"button",20),ae("click",function(){vt(n);let i=xe();return yt(i.singout())}),I(2,"Singout"),g()()}}var Dt=class t{constructor(e,n){this.router=e;this.authService=n}isAuthenticated=!1;ngOnInit(){this.isAuthenticated=this.authService.isAuthenticated}singout(){this.authService.logout().then(e=>{console.log(e),this.router.navigate(["/login"])}).catch(e=>console.log(e))}static \u0275fac=function(n){return new(n||t)(C(Ke),C(mr))};static \u0275cmp=J({type:t,selectors:[["app-nav-bar"]],standalone:!0,features:[X],decls:14,vars:6,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["class","nav-item",4,"ngIf"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item"],["aria-current","page","routerLink","/",1,"nav-link","active"],["routerLink","/tasks",1,"nav-link"],[1,"nav-item","dropdown"],["routerLink","/dashboard","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["class","dropdown-menu",4,"ngIf"],[1,"dropdown-menu"],["routerLink","/dashboard/stats",1,"dropdown-item"],["routerLink","/dashboard/profile",1,"dropdown-item"],["routerLink","/login",1,"nav-link"],["routerLink","/singin",1,"nav-link"],[1,"btn","btn-primary",3,"click"]],template:function(n,r){n&1&&(v(0,"nav",0)(1,"div",1)(2,"a",2),I(3,"TaskManager"),g(),v(4,"button",3),Z(5,"span",4),g(),v(6,"div",5)(7,"ul",6),fe(8,tU,3,0,"li",7)(9,nU,3,0,"li",7)(10,iU,4,1,"li",8)(11,oU,3,0,"li",7)(12,sU,3,0,"li",7)(13,aU,3,0,"li",7),g()()()()),n&2&&(T(8),S("ngIf",r.isAuthenticated),T(),S("ngIf",r.isAuthenticated),T(),S("ngIf",r.isAuthenticated),T(),S("ngIf",!r.isAuthenticated),T(),S("ngIf",!r.isAuthenticated),T(),S("ngIf",r.isAuthenticated))},dependencies:[fo,Te,tn]})};var bt=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-footer"]],standalone:!0,features:[X],decls:19,vars:0,consts:[[1,"py-3","my-4"],[1,"nav","justify-content-center","border-bottom","pb-3","mb-3"],[1,"nav-item"],["href","#",1,"nav-link","px-2","text-body-secondary"],[1,"text-center","text-body-secondary"]],template:function(n,r){n&1&&(v(0,"footer",0)(1,"ul",1)(2,"li",2)(3,"a",3),I(4,"Home"),g()(),v(5,"li",2)(6,"a",3),I(7,"Features"),g()(),v(8,"li",2)(9,"a",3),I(10,"Pricing"),g()(),v(11,"li",2)(12,"a",3),I(13,"FAQs"),g()(),v(14,"li",2)(15,"a",3),I(16,"About"),g()()(),v(17,"p",4),I(18,"\xA9 2024 Company, Inc"),g()())}})};var f0=t=>({"is-valid":t});function cU(t,e){t&1&&(v(0,"small",16),I(1,"Las credenciales son incorrectas"),g())}var rd=class t{constructor(e,n,r){this.serviveAuth=n;this.router=r;this.formLogin=e.group({email:["",[we.required,we.email]],password:["",[we.required,we.minLength(6)]]})}formLogin;isInvalid=!1;OnSubmit(){this.formLogin.valid?(console.log("El login es valido"),this.serviveAuth.login(this.formLogin.value).then(e=>this.router.navigate(["/home"])).catch(()=>this.isInvalid=!0)):console.log("El login es invalido")}loginGoogle(){this.serviveAuth.loginWithGoogle().then(e=>this.router.navigate(["/home"])).catch(e=>console.log(e))}static \u0275fac=function(n){return new(n||t)(C(Io),C(mr),C(Ke))};static \u0275cmp=J({type:t,selectors:[["app-login"]],standalone:!0,features:[X],decls:29,vars:8,consts:[[1,"body"],[1,"container","justify-content-center"],[1,"row"],[1,"col-md-12","d-flex","justify-content-center"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","exampleInputEmail1"],["formControlName","email","type","text","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","gmail",1,"form-control",3,"ngClass"],["for","exampleInputPassword1"],["formControlName","password","type","password","id","exampleInputPassword1","placeholder","Password",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","mb-1","mt-1"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"bi","bi-google","m-1"],[1,"mt-3","d-flex","justify-content-center"],["routerLink","/singin"],[1,"text-danger"]],template:function(n,r){if(n&1&&(Z(0,"app-nav-bar"),v(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),I(6,"Login"),g()(),v(7,"div",3)(8,"form",4),ae("ngSubmit",function(){return r.OnSubmit()}),v(9,"div",5)(10,"label",6),I(11,"gmail"),g(),Z(12,"input",7),g(),v(13,"div",5)(14,"label",8),I(15,"Password"),g(),Z(16,"input",9),fe(17,cU,2,0,"small",10),g(),v(18,"button",11),I(19,"Enviar"),g(),v(20,"button",12),ae("click",function(){return r.loginGoogle()}),Z(21,"i",13),I(22,"Login "),g()()(),v(23,"p",14),I(24,"\xBFNo tienes cuenta?"),v(25,"span")(26,"a",15),I(27,"Registrate aqu\xED"),g()()()()()(),Z(28,"app-footer")),n&2){let i,o;T(8),S("formGroup",r.formLogin),T(4),S("ngClass",gp(4,f0,(i=r.formLogin.get("email"))==null?null:i.valid)),T(4),S("ngClass",gp(6,f0,(o=r.formLogin.get("password"))==null?null:o.valid)),T(),S("ngIf",r.isInvalid)}},dependencies:[Te,Xn,tn,wo,Eo,ir,yo,_o,Qr,Jr,Dt,bt,fo],styles:[".body[_ngcontent-%COMP%]{background:linear-gradient(to right,#4facfe,#00f2fe);height:100vh;display:flex;align-items:center;justify-content:center;font-family:Arial,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:10px;box-shadow:0 4px 6px #0000001a}h1[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-bottom:1rem;text-align:center}.btn-primary[_ngcontent-%COMP%]{width:100%;background-color:#4facfe;border:none;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#00c6ff}.form-control[_ngcontent-%COMP%]{border-radius:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600}"]})};function h0(){return t=>{let e=t.get("password")?.value,n=t.get("repeatPassword")?.value;return e===n?null:{passwordsMismatch:!0}}}var $g=(t,e)=>({"is-valid":t,"is-invalid":e});function lU(t,e){t&1&&(v(0,"div",14),I(1," Las contrase\xF1as no coinciden. "),g())}var id=class t{constructor(e,n,r){this.serviceAuth=n;this.router=r;this.formSingIn=e.group({email:["",[we.required,we.email]],password:["",[we.required,we.minLength(6)]],repeatPassword:["",[we.required]]},{validators:h0()})}formSingIn;onSubmit(){this.formSingIn.valid&&(console.log("Formulario Valido"),this.serviceAuth.register(this.formSingIn.value).then(e=>{console.log(e),this.router.navigate(["/login"])}).catch(e=>console.log(e)))}static \u0275fac=function(n){return new(n||t)(C(Io),C(mr),C(Ke))};static \u0275cmp=J({type:t,selectors:[["app-sigin"]],standalone:!0,features:[X],decls:25,vars:14,consts:[[1,"body"],[1,"container"],[1,"row"],[1,"col-md-12","d-flex","justify-content-center"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","exampleInputEmail"],["formControlName","email","type","email","id","exampleInputEmail","placeholder","Email",1,"form-control",3,"ngClass"],["for","exampleInputPassword"],["formControlName","password","type","password","id","exampleInputPassword","placeholder","Password",1,"form-control",3,"ngClass"],["for","exampleInputPasswordRepeat"],["formControlName","repeatPassword","type","password","id","exampleInputPasswordRepeat","placeholder","Repeat Password",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","mt-2"],[1,"text-danger"]],template:function(n,r){if(n&1&&(Z(0,"app-nav-bar"),v(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),I(6,"Registro"),g()(),v(7,"div",3)(8,"form",4),ae("ngSubmit",function(){return r.onSubmit()}),v(9,"div",5)(10,"label",6),I(11,"Email"),g(),Z(12,"input",7),g(),v(13,"div",5)(14,"label",8),I(15,"Password"),g(),Z(16,"input",9),g(),v(17,"div",5)(18,"label",10),I(19,"Repeat Password"),g(),Z(20,"input",11),g(),fe(21,lU,2,0,"div",12),v(22,"button",13),I(23,"Enviar"),g()()()()()(),Z(24,"app-footer")),n&2){let i,o,s;T(8),S("formGroup",r.formSingIn),T(4),S("ngClass",En(5,$g,(i=r.formSingIn.get("email"))==null?null:i.valid,((i=r.formSingIn.get("email"))==null?null:i.invalid)&&((i=r.formSingIn.get("email"))==null?null:i.touched))),T(4),S("ngClass",En(8,$g,(o=r.formSingIn.get("password"))==null?null:o.valid,((o=r.formSingIn.get("password"))==null?null:o.invalid)&&((o=r.formSingIn.get("password"))==null?null:o.touched))),T(4),S("ngClass",En(11,$g,((s=r.formSingIn.get("repeatPassword"))==null?null:s.valid)&&!r.formSingIn.hasError("passwordsMismatch"),r.formSingIn.hasError("passwordsMismatch")&&((s=r.formSingIn.get("repeatPassword"))==null?null:s.touched))),T(),S("ngIf",r.formSingIn.hasError("passwordsMismatch"))}},dependencies:[Te,Xn,tn,wo,Eo,ir,yo,_o,Qr,Jr,Dt,bt],styles:[".body[_ngcontent-%COMP%]{background:linear-gradient(to right,#4facfe,#00f2fe);height:100vh;display:flex;align-items:center;justify-content:center;font-family:Arial,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:10px;box-shadow:0 4px 6px #0000001a}h1[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-bottom:1rem;text-align:center}.btn-primary[_ngcontent-%COMP%]{width:100%;background-color:#4facfe;border:none;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#00c6ff}.form-control[_ngcontent-%COMP%]{border-radius:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600}"]})};var od=class{id;name;description;priority;status;creationDate;expirationDate;isDelete;constructor(e,n,r,i,o,s,a,c){this.id=e,this.name=n,this.description=r,this.priority=i,this.status=o,this.creationDate=s,this.expirationDate=a,this.isDelete=c}getStatusText(){let e="";switch(this.status){case"IP":e="En proceso";break;case"C":e="Realizada";break;case"P":e="Pendiente";break}return e}getPriorityText(){switch(this.priority){case"H":return"Alta";case"M":return"Media";case"L":return"Baja";default:return""}}raisePriority(){switch(this.priority){case"L":this.priority="M";break;case"M":this.priority="H";break}}lowerPriority(){switch(this.priority){case"M":this.priority="L";break;case"H":this.priority="M";break}}changeStatus(){switch(this.status){case"C":this.status="IP";break;case"IP":this.status="C";break;case"P":this.status="IP";break}}getPriorityColor(){switch(this.priority){case"H":return"yellow";case"M":return"red";case"L":return"black";default:return""}}};var p0="@firebase/database",m0="1.0.8";var Hv="";function uU(t){Hv=t}var Zg=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ce(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Co(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Qg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return on(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var q0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Zg(e)}}catch{}return new Qg},ci=q0("localStorage"),Jg=q0("sessionStorage");var Lo=new ar("@firebase/database"),dU=function(){let t=1;return function(){return t++}}(),Y0=function(t){let e=WD(t),n=new Su;n.update(e);let r=n.digest();return Au.encodeByteArray(r)},Ha=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ha.apply(null,r):typeof r=="object"?e+=Ce(r):e+=r,e+=" "}return e},ui=null,g0=!0,fU=function(t,e){y(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Lo.logLevel=ne.VERBOSE,ui=Lo.log.bind(Lo),e&&Jg.set("logging_enabled",!0)):typeof t=="function"?ui=t:(ui=null,Jg.remove("logging_enabled"))},Ue=function(...t){if(g0===!0&&(g0=!1,ui===null&&Jg.get("logging_enabled")===!0&&fU(!0)),ui){let e=Ha.apply(null,t);ui(e)}},Wa=function(t){return function(...e){Ue(t,...e)}},Xg=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ha(...t);Lo.error(e)},On=function(...t){let e=`FIREBASE FATAL ERROR: ${Ha(...t)}`;throw Lo.error(e),new Error(e)},Xe=function(...t){let e="FIREBASE WARNING: "+Ha(...t);Lo.warn(e)},hU=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},K0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},pU=function(t){if(rn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},jo="[MIN_NAME]",di="[MAX_NAME]",Go=function(t,e){if(t===e)return 0;if(t===jo||e===di)return-1;if(e===jo||t===di)return 1;{let n=v0(t),r=v0(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},mU=function(t,e){return t===e?0:t<e?-1:1},Da=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ce(e))},Wv=function(t){if(typeof t!="object"||t===null)return Ce(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ce(e[r]),n+=":",n+=Wv(t[e[r]]);return n+="}",n},Z0=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function et(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var Q0=function(t){y(!K0(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},gU=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vU=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function yU(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var _U=new RegExp("^-?(0*)\\d{1,10}$"),EU=-2147483648,IU=2147483647,v0=function(t){if(_U.test(t)){let e=Number(t);if(e>=EU&&e<=IU)return e}return null},qo=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Xe("Exception was thrown by user callback.",n),e},Math.floor(0))}},wU=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ma=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var ev=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Xe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var tv=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xe(e)}},Na=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),ad="5",J0="v",X0="s",eT="r",tT="f",nT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rT="ls",iT="p",nv="ac",oT="websocket",sT="long_polling";var cd=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ci.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ci.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function CU(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function aT(t,e,n){y(typeof e=="string","typeof type must == string"),y(typeof n=="object","typeof params must == object");let r;if(e===oT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===sT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);CU(t)&&(n.ns=t.namespace);let i=[];return et(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var rv=class{constructor(){this.counters_={}}incrementCounter(e,n=1){on(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return RD(this.counters_)}};var Hg={},Wg={};function zv(t){let e=t.toString();return Hg[e]||(Hg[e]=new rv),Hg[e]}function DU(t,e){let n=t.toString();return Wg[n]||(Wg[n]=e()),Wg[n]}var iv=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&qo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var y0="start",bU="close",TU="pLPCommand",SU="pRTLPCB",cT="id",lT="pw",uT="ser",AU="cb",MU="seg",NU="ts",RU="d",xU="dframe",dT=1870,fT=30,PU=dT-fT,OU=25e3,kU=3e4,ov=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wa(e),this.stats_=zv(n),this.urlFn=c=>(this.appCheckToken&&(c[nv]=this.appCheckToken),aT(n,sT,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new iv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kU)),pU(()=>{if(this.isClosed_)return;this.scriptTagHolder=new sv((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===y0)this.id=a,this.password=c;else if(s===bU)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[y0]="t",r[uT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[AU]=this.scriptTagHolder.uniqueCallbackIdentifier),r[J0]=ad,this.transportSessionId&&(r[X0]=this.transportSessionId),this.lastSessionId&&(r[rT]=this.lastSessionId),this.applicationId&&(r[iT]=this.applicationId),this.appCheckToken&&(r[nv]=this.appCheckToken),typeof location<"u"&&location.hostname&&nT.test(location.hostname)&&(r[eT]=tT);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return rn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gU()&&!vU()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Ce(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=km(n),i=Z0(r,PU);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(rn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[xU]="t",r[cT]=e,r[lT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Ce(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},sv=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,rn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=dU(),window[TU+this.uniqueCallbackIdentifier]=e,window[SU+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ue("frame writing exception"),a.stack&&Ue(a.stack),Ue(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ue("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[cT]=this.myID,e[lT]=this.myPW,e[uT]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fT+r.length<=dT;){let s=this.pendingSegs.shift();r=r+"&"+MU+i+"="+s.seg+"&"+NU+i+"="+s.ts+"&"+RU+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(OU)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){rn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ue("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var FU=16384,LU=45e3,ld=null;typeof MozWebSocket<"u"?ld=MozWebSocket:typeof WebSocket<"u"&&(ld=WebSocket);var ba=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wa(this.connId),this.stats_=zv(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[J0]=ad,!rn()&&typeof location<"u"&&location.hostname&&nT.test(location.hostname)&&(a[eT]=tT),r&&(a[X0]=r),i&&(a[rT]=i),o&&(a[nv]=o),s&&(a[iT]=s),aT(n,oT,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ci.set("previous_websocket_failure",!0);try{let i;if(rn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${ad}/${Hv}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new ld(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&ld!==null&&!t.forceDisallow_}static previouslyFailed(){return ci.isInMemoryStorage||ci.get("previous_websocket_failure")===!0}markConnectionHealthy(){ci.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Co(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(y(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Ce(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=Z0(r,FU);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(LU))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),VU=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[ov,ba]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=ba&&ba.isAvailable(),i=r&&!ba.previouslyFailed();if(n.webSocketOnly&&(r||Xe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ba];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),jU=6e4,UU=5e3,BU=10*1024,$U=100*1024,zg="t",_0="d",HU="s",E0="r",WU="e",I0="o",w0="a",C0="n",D0="p",zU="h",av=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wa("c:"+this.id+":"),this.transportManager_=new VU(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ma(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$U?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(zg in e){let n=e[zg];n===w0?this.upgradeIfSecondaryHealthy_():n===E0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===I0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Da("t",e),r=Da("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:D0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:w0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:C0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Da("t",e),r=Da("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Da(zg,e);if(_0 in e){let r=e[_0];if(n===zU){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===C0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===HU?this.onConnectionShutdown_(r):n===E0?this.onReset_(r):n===WU?Xg("Server Error: "+r):n===I0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ad!==r&&Xe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ma(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jU))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ma(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(UU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:D0,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ci.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var ud=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var dd=class{constructor(e){this.allowedEvents_=e,this.listeners_={},y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var fd=class t extends dd{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!oa()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var b0=32,T0=768,re=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Q(){return new re("")}function z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function yr(t){return t.pieces_.length-t.pieceNum_}function ce(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new re(t.pieces_,e)}function hT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function GU(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function pT(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mT(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new re(e,0)}function Se(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof re)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new re(n,0)}function Y(t){return t.pieceNum_>=t.pieces_.length}function Ze(t,e){let n=z(t),r=z(e);if(n===null)return e;if(n===r)return Ze(ce(t),ce(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Gv(t,e){if(yr(t)!==yr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Bt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(yr(t)>yr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var cv=class{constructor(e,n){this.errorPrefix_=n,this.parts_=pT(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ca(this.parts_[r]);gT(this)}};function qU(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ca(e),gT(t)}function YU(t){let e=t.parts_.pop();t.byteLength_-=ca(e),t.parts_.length>0&&(t.byteLength_-=1)}function gT(t){if(t.byteLength_>T0)throw new Error(t.errorPrefix_+"has a key path longer than "+T0+" bytes ("+t.byteLength_+").");if(t.parts_.length>b0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+b0+") or object contains a cycle "+ai(t))}function ai(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var lv=class t extends dd{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return y(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ta=1e3,KU=60*5*1e3,S0=30*1e3,ZU=1.3,QU=3e4,JU="server_kill",A0=3,qv=(()=>{class t extends ud{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Wa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ta,this.maxReconnectDelay_=KU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!rn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lv.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&fd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Ce(s)),y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new or,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),y(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&on(n,"w")){let i=ei(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Xe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||$D(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=S0)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=BD(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ce(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Xg("Unrecognized action received from server: "+Ce(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>QU&&(this.reconnectDelay_=Ta),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ZU)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){y(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new av(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{Xe(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(JU)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Xe(f),l())}}})}interrupt(n){Ue("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ue("Resuming connection for reason: "+n),delete this.interruptReasons_[n],sa(this.interruptReasons_)&&(this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Wv(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new re(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ue("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=A0&&(this.reconnectDelay_=S0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ue("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=A0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";rn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Hv.replace(/\./g,"-")]=1,oa()?n["framework.cordova"]=1:Mu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=fd.getInstance().currentlyOnline();return sa(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),G=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Uo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new G(jo,e),i=new G(jo,n);return this.compare(r,i)!==0}minPost(){return G.MIN}};var sd,hd=class extends Uo{static get __EMPTY_NODE(){return sd}static set __EMPTY_NODE(e){sd=e}compare(e,n){return Go(e.name,n.name)}isDefinedOn(e){throw Xr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return G.MIN}maxPost(){return new G(di,sd)}makePost(e,n){return y(typeof e=="string","KeyIndex indexValue must always be a string."),new G(e,sd)}toString(){return".key"}},Vo=new hd;var Fo=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Ut=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Tt.EMPTY_NODE,this.right=s??Tt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Tt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Tt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),uv=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Ut(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Tt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ut.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ut.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fo(this.root_,null,this.comparator_,!0,e)}};Tt.EMPTY_NODE=new uv;function XU(t,e){return Go(t.name,e.name)}function Yv(t,e){return Go(t,e)}var dv;function eB(t){dv=t}var vT=function(t){return typeof t=="number"?"number:"+Q0(t):"string:"+t},yT=function(t){if(t.isLeafNode()){let e=t.val();y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&on(e,".sv"),"Priority must be a string or number.")}else y(t===dv||t.isEmpty(),"priority of unexpected type.");y(t===dv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var M0,Bo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),yT(this.priorityNode_)}static set __childrenNodeConstructor(n){M0=n}static get __childrenNodeConstructor(){return M0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Y(n)?this:z(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=z(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(y(i!==".priority"||yr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ce(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+vT(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=Q0(this.value_):n+=this.value_,this.lazyHash_=Y0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(y(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return y(o>=0,"Unknown leaf type: "+r),y(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),_T,ET;function tB(t){_T=t}function nB(t){ET=t}var fv=class extends Uo{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Go(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return G.MIN}maxPost(){return new G(di,new Bo("[PRIORITY-POST]",ET))}makePost(e,n){let r=_T(e);return new G(n,new Bo("[PRIORITY-POST]",r))}toString(){return".priority"}},ve=new fv;var rB=Math.log(2),hv=class{constructor(e){let n=o=>parseInt(Math.log(o)/rB,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},pd=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new Ut(f,d.node,Ut.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),w=i(h+1,l);return d=t[h],f=n?n(d):d,new Ut(f,d.node,Ut.BLACK,p,w)}},o=function(c){let l=null,u=null,d=t.length,f=function(p,w){let M=d-p,k=d;d-=p;let le=i(M+1,k),ue=t[M],Ee=n?n(ue):ue;h(new Ut(Ee,ue.node,w,null,le))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let w=c.nextBitIsOne(),M=Math.pow(2,c.count-(p+1));w?f(M,Ut.BLACK):(f(M,Ut.BLACK),f(M,Ut.RED))}return u},s=new hv(t.length),a=o(s);return new Tt(r||e,a)};var Gg,ko={},$o=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return y(ko&&ve,"ChildrenNode.ts has not been loaded"),Gg=Gg||new t({".priority":ko},{".priority":ve}),Gg}get(e){let n=ei(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Tt?n:null}hasIndex(e){return on(this.indexSet_,e.toString())}addIndex(e,n){y(e!==Vo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(G.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=pd(r,e.getCompare()):a=ko;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=aa(this.indexes_,(i,o)=>{let s=ei(this.indexSet_,o);if(y(s,"Missing index implementation for "+o),i===ko)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(G.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),pd(a,s.getCompare())}else return ko;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new G(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=aa(this.indexes_,i=>{if(i===ko)return i;{let o=n.get(e.name);return o?i.remove(new G(e.name,o)):i}});return new t(r,this.indexSet_)}};var Sa,L=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&yT(this.priorityNode_),this.children_.isEmpty()&&y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Sa||(Sa=new t(new Tt(Yv),null,$o.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sa}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Sa:r}}getChild(n){let r=z(n);return r===null?this:this.getImmediateChild(r).getChild(ce(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(y(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new G(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Sa:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=z(n);if(i===null)return r;{y(z(n)!==".priority"||yr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ce(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(ve,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+vT(this.getPriority().val())+":"),this.forEachChild(ve,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":Y0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new G(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new G(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new G(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,G.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,G.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===za?-1:0}withIndex(n){if(n===Vo||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Vo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ve),o=r.getIterator(ve),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Vo?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),pv=class extends L{constructor(){super(new Tt(Yv),L.EMPTY_NODE,$o.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return L.EMPTY_NODE}isEmpty(){return!1}},za=new pv;Object.defineProperties(G,{MIN:{value:new G(jo,L.EMPTY_NODE)},MAX:{value:new G(di,za)}});hd.__EMPTY_NODE=L.EMPTY_NODE;Bo.__childrenNodeConstructor=L;eB(za);nB(za);var iB=!0;function Me(t,e=null){if(t===null)return L.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Bo(n,Me(e))}if(!(t instanceof Array)&&iB){let n=[],r=!1;if(et(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=Me(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new G(s,c)))}}),n.length===0)return L.EMPTY_NODE;let o=pd(n,XU,s=>s.name,Yv);if(r){let s=pd(n,ve.getCompare());return new L(o,Me(e),new $o({".priority":s},{".priority":ve}))}else return new L(o,Me(e),$o.Default)}else{let n=L.EMPTY_NODE;return et(t,(r,i)=>{if(on(t,r)&&r.substring(0,1)!=="."){let o=Me(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Me(e))}}tB(Me);var mv=class extends Uo{constructor(e){super(),this.indexPath_=e,y(!Y(e)&&z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Go(e.name,n.name):o}makePost(e,n){let r=Me(e),i=L.EMPTY_NODE.updateChild(this.indexPath_,r);return new G(n,i)}maxPost(){let e=L.EMPTY_NODE.updateChild(this.indexPath_,za);return new G(di,e)}toString(){return pT(this.indexPath_,0).join("/")}};var gv=class extends Uo{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Go(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return G.MIN}maxPost(){return G.MAX}makePost(e,n){let r=Me(e);return new G(n,r)}toString(){return".value"}},oB=new gv;function IT(t){return{type:"value",snapshotNode:t}}function Ho(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Oa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ka(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function sB(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Fa=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Oa(n,a)):y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Ho(n,r)):s.trackChildChange(ka(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ve,(i,o)=>{n.hasChild(i)||r.trackChildChange(Oa(i,o))}),n.isLeafNode()||n.forEachChild(ve,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(ka(i,o,s))}else r.trackChildChange(Ho(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?L.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var md=class t{constructor(e){this.indexedFilter_=new Fa(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new G(n,r))||(r=L.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=L.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(L.EMPTY_NODE);let o=this;return n.forEachChild(ve,(s,a)=>{o.matches(new G(s,a))||(i=i.updateImmediateChild(s,L.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var vv=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new md(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new G(n,r))||(r=L.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=L.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=L.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(L.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,L.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;y(a.numChildren()===this.limit_,"");let c=new G(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(ka(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Oa(n,d));let w=a.updateImmediateChild(n,L.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Ho(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(Oa(l.name,l.node)),o.trackChildChange(Ho(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,L.EMPTY_NODE)):e}};var yv=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jo}hasEnd(){return this.endSet_}getIndexEndValue(){return y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:di}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ve}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function aB(t){return t.loadsAllData()?new Fa(t.getIndex()):t.hasLimit()?new vv(t):new md(t)}function N0(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ve?n="$priority":t.index_===oB?n="$value":t.index_===Vo?n="$key":(y(t.index_ instanceof mv,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ce(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ce(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ce(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ce(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ce(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function R0(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ve&&(e.i=t.index_.toString()),e}var _v=class t extends ud{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Wa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=N0(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),ei(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=N0(e._queryParams),r=e._path.toString(),i=new or;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+sr(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Co(a.responseText)}catch{Xe("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Xe("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Ev=class{constructor(){this.rootNode_=L.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function gd(){return{value:null,children:new Map}}function wT(t,e,n){if(Y(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=z(e);t.children.has(r)||t.children.set(r,gd());let i=t.children.get(r);e=ce(e),wT(i,e,n)}}function Iv(t,e,n){t.value!==null?n(e,t.value):cB(t,(r,i)=>{let o=new re(e.toString()+"/"+r);Iv(i,o,n)})}function cB(t,e){t.children.forEach((n,r)=>{e(r,n)})}var wv=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&et(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var x0=10*1e3,lB=30*1e3,uB=5*60*1e3,Cv=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new wv(e);let r=x0+(lB-x0)*Math.random();Ma(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;et(e,(i,o)=>{o>0&&on(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ma(this.reportStats_.bind(this),Math.floor(Math.random()*2*uB))}};var cn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(cn||{});function CT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Kv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Zv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Dv=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=cn.ACK_USER_WRITE,this.source=CT()}operationForChild(e){if(Y(this.path)){if(this.affectedTree.value!=null)return y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new re(e));return new t(Q(),n,this.revert)}}else return y(z(this.path)===e,"operationForChild called for unrelated child."),new t(ce(this.path),this.affectedTree,this.revert)}};var vd=class t{constructor(e,n){this.source=e,this.path=n,this.type=cn.LISTEN_COMPLETE}operationForChild(e){return Y(this.path)?new t(this.source,Q()):new t(this.source,ce(this.path))}};var Wo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=cn.OVERWRITE}operationForChild(e){return Y(this.path)?new t(this.source,Q(),this.snap.getImmediateChild(e)):new t(this.source,ce(this.path),this.snap)}};var yd=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=cn.MERGE}operationForChild(e){if(Y(this.path)){let n=this.children.subtree(new re(e));return n.isEmpty()?null:n.value?new Wo(this.source,Q(),n.value):new t(this.source,Q(),n)}else return y(z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var ln=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Y(e))return this.isFullyInitialized()&&!this.filtered_;let n=z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var bv=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function dB(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(sB(s.childName,s.snapshotNode))}),Aa(t,i,"child_removed",e,r,n),Aa(t,i,"child_added",e,r,n),Aa(t,i,"child_moved",o,r,n),Aa(t,i,"child_changed",e,r,n),Aa(t,i,"value",e,r,n),i}function Aa(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>hB(t,a,c)),s.forEach(a=>{let c=fB(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function fB(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function hB(t,e,n){if(e.childName==null||n.childName==null)throw Xr("Should only compare child_ events.");let r=new G(e.childName,e.snapshotNode),i=new G(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Rd(t,e){return{eventCache:t,serverCache:e}}function Ra(t,e,n,r){return Rd(new ln(e,n,r),t.serverCache)}function DT(t,e,n,r){return Rd(t.eventCache,new ln(e,n,r))}function _d(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var qg,pB=()=>(qg||(qg=new Tt(mU)),qg),tt=class t{constructor(e,n=pB()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return et(e,(r,i)=>{n=n.set(new re(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Q(),value:this.value};if(Y(e))return null;{let r=z(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ce(e),n);return o!=null?{path:Se(new re(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Y(e))return this;{let n=z(e),r=this.children.get(n);return r!==null?r.subtree(ce(e)):new t(null)}}set(e,n){if(Y(e))return new t(n,this.children);{let r=z(e),o=(this.children.get(r)||new t(null)).set(ce(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(Y(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=z(e),r=this.children.get(n);if(r){let i=r.remove(ce(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(Y(e))return this.value;{let n=z(e),r=this.children.get(n);return r?r.get(ce(e)):null}}setTree(e,n){if(Y(e))return n;{let r=z(e),o=(this.children.get(r)||new t(null)).setTree(ce(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(Q(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Se(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Q(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Y(e))return null;{let o=z(e),s=this.children.get(o);return s?s.findOnPath_(ce(e),Se(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Q(),n)}foreachOnPath_(e,n,r){if(Y(e))return this;{this.value&&r(n,this.value);let i=z(e),o=this.children.get(i);return o?o.foreachOnPath_(ce(e),Se(n,i),r):new t(null)}}foreach(e){this.foreach_(Q(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Se(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var $t=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new tt(null))}};function xa(t,e,n){if(Y(e))return new $t(new tt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Ze(i,e);return o=o.updateChild(s,n),new $t(t.writeTree_.set(i,o))}else{let i=new tt(n),o=t.writeTree_.setTree(e,i);return new $t(o)}}}function P0(t,e,n){let r=t;return et(n,(i,o)=>{r=xa(r,Se(e,i),o)}),r}function O0(t,e){if(Y(e))return $t.empty();{let n=t.writeTree_.setTree(e,new tt(null));return new $t(n)}}function Tv(t,e){return pi(t,e)!=null}function pi(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ze(n.path,e)):null}function k0(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ve,(r,i)=>{e.push(new G(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new G(r,i.value))}),e}function gr(t,e){if(Y(e))return t;{let n=pi(t,e);return n!=null?new $t(new tt(n)):new $t(t.writeTree_.subtree(e))}}function Sv(t){return t.writeTree_.isEmpty()}function zo(t,e){return bT(Q(),t.writeTree_,e)}function bT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(y(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=bT(Se(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Se(t,".priority"),r)),n}}function xd(t,e){return MT(e,t)}function mB(t,e,n,r,i){y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=xa(t.visibleWrites,e,n)),t.lastWriteId=r}function gB(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function vB(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);y(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&yB(a,r.path)?i=!1:Bt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return _B(t),!0;if(r.snap)t.visibleWrites=O0(t.visibleWrites,r.path);else{let a=r.children;et(a,c=>{t.visibleWrites=O0(t.visibleWrites,Se(r.path,c))})}return!0}else return!1}function yB(t,e){if(t.snap)return Bt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Bt(Se(t.path,n),e))return!0;return!1}function _B(t){t.visibleWrites=TT(t.allWrites,EB,Q()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function EB(t){return t.visible}function TT(t,e,n){let r=$t.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Bt(n,s)?(a=Ze(n,s),r=xa(r,a,o.snap)):Bt(s,n)&&(a=Ze(s,n),r=xa(r,Q(),o.snap.getChild(a)));else if(o.children){if(Bt(n,s))a=Ze(n,s),r=P0(r,a,o.children);else if(Bt(s,n))if(a=Ze(s,n),Y(a))r=P0(r,Q(),o.children);else{let c=ei(o.children,z(a));if(c){let l=c.getChild(ce(a));r=xa(r,Q(),l)}}}else throw Xr("WriteRecord should have .snap or .children")}}return r}function ST(t,e,n,r,i){if(!r&&!i){let o=pi(t.visibleWrites,e);if(o!=null)return o;{let s=gr(t.visibleWrites,e);if(Sv(s))return n;if(n==null&&!Tv(s,Q()))return null;{let a=n||L.EMPTY_NODE;return zo(s,a)}}}else{let o=gr(t.visibleWrites,e);if(!i&&Sv(o))return n;if(!i&&n==null&&!Tv(o,Q()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Bt(l.path,e)||Bt(e,l.path))},a=TT(t.allWrites,s,e),c=n||L.EMPTY_NODE;return zo(a,c)}}}function IB(t,e,n){let r=L.EMPTY_NODE,i=pi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ve,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=gr(t.visibleWrites,e);return n.forEachChild(ve,(s,a)=>{let c=zo(gr(o,new re(s)),a);r=r.updateImmediateChild(s,c)}),k0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=gr(t.visibleWrites,e);return k0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function wB(t,e,n,r,i){y(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Se(e,n);if(Tv(t.visibleWrites,o))return null;{let s=gr(t.visibleWrites,o);return Sv(s)?i.getChild(n):zo(s,i.getChild(n))}}function CB(t,e,n,r){let i=Se(e,n),o=pi(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=gr(t.visibleWrites,i);return zo(s,r.getNode().getImmediateChild(n))}else return null}function DB(t,e){return pi(t.visibleWrites,e)}function bB(t,e,n,r,i,o,s){let a,c=gr(t.visibleWrites,e),l=pi(c,Q());if(l!=null)a=l;else if(n!=null)a=zo(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function TB(){return{visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1}}function Ed(t,e,n,r){return ST(t.writeTree,t.treePath,e,n,r)}function Qv(t,e){return IB(t.writeTree,t.treePath,e)}function F0(t,e,n,r){return wB(t.writeTree,t.treePath,e,n,r)}function Id(t,e){return DB(t.writeTree,Se(t.treePath,e))}function SB(t,e,n,r,i,o){return bB(t.writeTree,t.treePath,e,n,r,i,o)}function Jv(t,e,n){return CB(t.writeTree,t.treePath,e,n)}function AT(t,e){return MT(Se(t.treePath,e),t.writeTree)}function MT(t,e){return{treePath:t,writeTree:e}}var Av=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),y(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,ka(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Oa(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Ho(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,ka(r,e.snapshotNode,i.oldSnap));else throw Xr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Mv=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},NT=new Mv,La=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new ln(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jv(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fi(this.viewCache_),o=SB(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function AB(t){return{filter:t}}function MB(t,e){y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function NB(t,e,n,r,i){let o=new Av,s,a;if(n.type===cn.OVERWRITE){let l=n;l.source.fromUser?s=Nv(t,e,l.path,l.snap,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!Y(l.path),s=wd(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===cn.MERGE){let l=n;l.source.fromUser?s=xB(t,e,l.path,l.children,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Rv(t,e,l.path,l.children,r,i,a,o))}else if(n.type===cn.ACK_USER_WRITE){let l=n;l.revert?s=kB(t,e,l.path,r,i,o):s=PB(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===cn.LISTEN_COMPLETE)s=OB(t,e,n.path,r,o);else throw Xr("Unknown operation type: "+n.type);let c=o.getChanges();return RB(e,s,c),{viewCache:s,changes:c}}function RB(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=_d(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(IT(_d(e)))}}function RT(t,e,n,r,i,o){let s=e.eventCache;if(Id(r,n)!=null)return e;{let a,c;if(Y(n))if(y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=fi(e),u=l instanceof L?l:L.EMPTY_NODE,d=Qv(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Ed(r,fi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=z(n);if(l===".priority"){y(yr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=F0(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=ce(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=F0(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=Jv(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return Ra(e,a,s.isFullyInitialized()||Y(n),t.filter.filtersNodes())}}function wd(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(Y(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=z(n);if(!c.isCompleteForPath(n)&&yr(n)>1)return e;let p=ce(n),M=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),M):l=u.updateChild(c.getNode(),h,M,p,NT,null)}let d=DT(e,l,c.isFullyInitialized()||Y(n),u.filtersNodes()),f=new La(i,d,o);return RT(t,d,n,i,f,a)}function Nv(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new La(i,e,o);if(Y(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=Ra(e,l,!0,t.filter.filtersNodes());else{let d=z(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=Ra(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=ce(n),h=a.getNode().getImmediateChild(d),p;if(Y(f))p=r;else{let w=u.getCompleteChild(d);w!=null?hT(f)===".priority"&&w.getChild(mT(f)).isEmpty()?p=w:p=w.updateChild(f,r):p=L.EMPTY_NODE}if(h.equals(p))c=e;else{let w=t.filter.updateChild(a.getNode(),d,p,f,u,s);c=Ra(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function L0(t,e){return t.eventCache.isCompleteForChild(e)}function xB(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=Se(n,c);L0(e,z(u))&&(a=Nv(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Se(n,c);L0(e,z(u))||(a=Nv(t,a,u,l,i,o,s))}),a}function V0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Rv(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;Y(n)?l=r:l=new tt(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=V0(t,h,f);c=wd(t,c,new re(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),w=V0(t,p,f);c=wd(t,c,new re(d),w,i,o,s,a)}}),c}function PB(t,e,n,r,i,o,s){if(Id(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Y(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return wd(t,e,n,c.getNode().getChild(n),i,o,a,s);if(Y(n)){let l=new tt(null);return c.getNode().forEachChild(Vo,(u,d)=>{l=l.set(new re(u),d)}),Rv(t,e,n,l,i,o,a,s)}else return e}else{let l=new tt(null);return r.foreach((u,d)=>{let f=Se(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Rv(t,e,n,l,i,o,a,s)}}function OB(t,e,n,r,i){let o=e.serverCache,s=DT(e,o.getNode(),o.isFullyInitialized()||Y(n),o.isFiltered());return RT(t,s,n,r,NT,i)}function kB(t,e,n,r,i,o){let s;if(Id(r,n)!=null)return e;{let a=new La(r,e,i),c=e.eventCache.getNode(),l;if(Y(n)||z(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ed(r,fi(e));else{let d=e.serverCache.getNode();y(d instanceof L,"serverChildren would be complete if leaf node"),u=Qv(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=z(n),d=Jv(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,ce(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,L.EMPTY_NODE,ce(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Ed(r,fi(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||Id(r,Q())!=null,Ra(e,l,s,t.filter.filtersNodes())}}var xv=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Fa(r.getIndex()),o=aB(r);this.processor_=AB(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(L.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(L.EMPTY_NODE,a.getNode(),null),u=new ln(c,s.isFullyInitialized(),i.filtersNodes()),d=new ln(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Rd(d,u),this.eventGenerator_=new bv(this.query_)}get query(){return this.query_}};function FB(t){return t.viewCache_.serverCache.getNode()}function LB(t){return _d(t.viewCache_)}function VB(t,e){let n=fi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Y(e)&&!n.getImmediateChild(z(e)).isEmpty())?n.getChild(e):null}function j0(t){return t.eventRegistrations_.length===0}function jB(t,e){t.eventRegistrations_.push(e)}function U0(t,e,n){let r=[];if(n){y(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function B0(t,e,n,r){e.type===cn.MERGE&&e.source.queryId!==null&&(y(fi(t.viewCache_),"We should always have a full cache before handling merges"),y(_d(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=NB(t.processor_,i,e,n,r);return MB(t.processor_,o.viewCache),y(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,xT(t,o.changes,o.viewCache.eventCache.getNode(),null)}function UB(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ve,(o,s)=>{r.push(Ho(o,s))}),n.isFullyInitialized()&&r.push(IT(n.getNode())),xT(t,r,n.getNode(),e)}function xT(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return dB(t.eventGenerator_,e,n,i)}var Cd,Dd=class{constructor(){this.views=new Map}};function BB(t){y(!Cd,"__referenceConstructor has already been defined"),Cd=t}function $B(){return y(Cd,"Reference.ts has not been loaded"),Cd}function HB(t){return t.views.size===0}function Xv(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return y(o!=null,"SyncTree gave us an op for an invalid query."),B0(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(B0(s,e,n,r));return o}}function PT(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Ed(n,i?r:null),c=!1;a?c=!0:r instanceof L?(a=Qv(n,r),c=!1):(a=L.EMPTY_NODE,c=!1);let l=Rd(new ln(a,c,!1),new ln(r,i,!1));return new xv(e,l)}return s}function WB(t,e,n,r,i,o){let s=PT(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),jB(s,n),UB(s,n)}function zB(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=_r(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat(U0(l,n,r)),j0(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat(U0(c,n,r)),j0(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!_r(t)&&o.push(new($B())(e._repo,e._path)),{removed:o,events:s}}function OT(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function vr(t,e){let n=null;for(let r of t.views.values())n=n||VB(r,e);return n}function kT(t,e){if(e._queryParams.loadsAllData())return Pd(t);{let r=e._queryIdentifier;return t.views.get(r)}}function FT(t,e){return kT(t,e)!=null}function _r(t){return Pd(t)!=null}function Pd(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var bd;function GB(t){y(!bd,"__referenceConstructor has already been defined"),bd=t}function qB(){return y(bd,"Reference.ts has not been loaded"),bd}var YB=1,Td=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tt(null),this.pendingWriteTree_=TB(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function LT(t,e,n,r,i){return mB(t.pendingWriteTree_,e,n,r,i),i?qa(t,new Wo(CT(),e,n)):[]}function li(t,e,n=!1){let r=gB(t.pendingWriteTree_,e);if(vB(t.pendingWriteTree_,e)){let o=new tt(null);return r.snap!=null?o=o.set(Q(),!0):et(r.children,s=>{o=o.set(new re(s),!0)}),qa(t,new Dv(r.path,o,n))}else return[]}function Ga(t,e,n){return qa(t,new Wo(Kv(),e,n))}function KB(t,e,n){let r=tt.fromObject(n);return qa(t,new yd(Kv(),e,r))}function ZB(t,e){return qa(t,new vd(Kv(),e))}function QB(t,e,n){let r=ty(t,n);if(r){let i=ny(r),o=i.path,s=i.queryId,a=Ze(o,e),c=new vd(Zv(s),a);return ry(t,o,c)}else return[]}function Sd(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||FT(s,e))){let c=zB(s,e,n,r);HB(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>_r(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=e2(f);for(let p=0;p<h.length;++p){let w=h[p],M=w.query,k=BT(t,w);t.listenProvider_.startListening(Pa(M),Va(t,M),k.hashFn,k.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(Pa(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(Od(f));t.listenProvider_.stopListening(Pa(f),h)}))}t2(t,l)}return a}function VT(t,e,n,r){let i=ty(t,r);if(i!=null){let o=ny(i),s=o.path,a=o.queryId,c=Ze(s,e),l=new Wo(Zv(a),c,n);return ry(t,s,l)}else return[]}function JB(t,e,n,r){let i=ty(t,r);if(i){let o=ny(i),s=o.path,a=o.queryId,c=Ze(s,e),l=tt.fromObject(n),u=new yd(Zv(a),c,l);return ry(t,s,u)}else return[]}function Pv(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Ze(f,i);o=o||vr(h,p),s=s||_r(h)});let a=t.syncPointTree_.get(i);a?(s=s||_r(a),o=o||vr(a,Q())):(a=new Dd,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=L.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let w=vr(p,Q());w&&(o=o.updateImmediateChild(h,w))}));let l=FT(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=Od(e);y(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=n2();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=xd(t.pendingWriteTree_,i),d=WB(a,e,n,u,o,c);if(!l&&!s&&!r){let f=kT(a,e);d=d.concat(r2(t,e,f))}return d}function ey(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=Ze(s,e),l=vr(a,c);if(l)return l});return ST(i,e,o,n,!0)}function XB(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=Ze(l,n);r=r||vr(u,d)});let i=t.syncPointTree_.get(n);i?r=r||vr(i,Q()):(i=new Dd,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new ln(r,!0,!1):null,a=xd(t.pendingWriteTree_,e._path),c=PT(i,e,a,o?s.getNode():L.EMPTY_NODE,o);return LB(c)}function qa(t,e){return jT(e,t.syncPointTree_,null,xd(t.pendingWriteTree_,Q()))}function jT(t,e,n,r){if(Y(t.path))return UT(t,e,n,r);{let i=e.get(Q());n==null&&i!=null&&(n=vr(i,Q()));let o=[],s=z(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=AT(r,s);o=o.concat(jT(a,c,l,u))}return i&&(o=o.concat(Xv(i,t,r,n))),o}}function UT(t,e,n,r){let i=e.get(Q());n==null&&i!=null&&(n=vr(i,Q()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=AT(r,s),u=t.operationForChild(s);u&&(o=o.concat(UT(u,a,c,l)))}),i&&(o=o.concat(Xv(i,t,r,n))),o}function BT(t,e){let n=e.query,r=Va(t,n);return{hashFn:()=>(FB(e)||L.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?QB(t,n._path,r):ZB(t,n._path);{let o=yU(i,n);return Sd(t,n,null,o)}}}}function Va(t,e){let n=Od(e);return t.queryToTagMap.get(n)}function Od(t){return t._path.toString()+"$"+t._queryIdentifier}function ty(t,e){return t.tagToQueryMap.get(e)}function ny(t){let e=t.indexOf("$");return y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new re(t.substr(0,e))}}function ry(t,e,n){let r=t.syncPointTree_.get(e);y(r,"Missing sync point for query tag that we're tracking");let i=xd(t.pendingWriteTree_,e);return Xv(r,n,i,null)}function e2(t){return t.fold((e,n,r)=>{if(n&&_r(n))return[Pd(n)];{let i=[];return n&&(i=OT(n)),et(r,(o,s)=>{i=i.concat(s)}),i}})}function Pa(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(qB())(t._repo,t._path):t}function t2(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Od(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function n2(){return YB++}function r2(t,e,n){let r=e._path,i=Va(t,e),o=BT(t,n),s=t.listenProvider_.startListening(Pa(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)y(!_r(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!Y(l)&&u&&_r(u))return[Pd(u).query];{let f=[];return u&&(f=f.concat(OT(u).map(h=>h.query))),et(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(Pa(u),Va(t,u))}}return s}var Ov=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},kv=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Se(this.path_,e);return new t(this.syncTree_,n)}node(){return ey(this.syncTree_,this.path_)}},i2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},$0=function(t,e,n){if(!t||typeof t!="object")return t;if(y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return o2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return s2(t[".sv"],e);y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},o2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:y(!1,"Unexpected server value: "+t)}},s2=function(t,e,n){t.hasOwnProperty("increment")||y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&y(!1,"Unexpected increment value: "+r);let i=e.node();if(y(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},a2=function(t,e,n,r){return iy(e,new kv(n,t),r)},$T=function(t,e,n){return iy(t,new Ov(e),n)};function iy(t,e,n){let r=t.getPriority().val(),i=$0(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=$0(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Bo(a,Me(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Bo(i))),s.forEachChild(ve,(a,c)=>{let l=iy(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var ja=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function oy(t,e){let n=e instanceof re?e:new re(e),r=t,i=z(n);for(;i!==null;){let o=ei(r.node.children,i)||{children:{},childCount:0};r=new ja(i,r,o),n=ce(n),i=z(n)}return r}function Yo(t){return t.node.value}function HT(t,e){t.node.value=e,Fv(t)}function WT(t){return t.node.childCount>0}function c2(t){return Yo(t)===void 0&&!WT(t)}function kd(t,e){et(t.node.children,(n,r)=>{e(new ja(n,t,r))})}function zT(t,e,n,r){n&&!r&&e(t),kd(t,i=>{zT(i,e,!0,r)}),n&&r&&e(t)}function l2(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ya(t){return new re(t.parent===null?t.name:Ya(t.parent)+"/"+t.name)}function Fv(t){t.parent!==null&&u2(t.parent,t.name,t)}function u2(t,e,n){let r=c2(n),i=on(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Fv(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Fv(t))}var d2=/[\[\].#$\/\u0000-\u001F\u007F]/,f2=/[\[\].#$\u0000-\u001F\u007F]/,Yg=10*1024*1024,GT=function(t){return typeof t=="string"&&t.length!==0&&!d2.test(t)},qT=function(t){return typeof t=="string"&&t.length!==0&&!f2.test(t)},h2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qT(t)};var YT=function(t,e,n,r){r&&e===void 0||sy(Nu(t,"value"),e,n)},sy=function(t,e,n){let r=n instanceof re?new cv(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ai(r));if(typeof e=="function")throw new Error(t+"contains a function "+ai(r)+" with contents = "+e.toString());if(K0(e))throw new Error(t+"contains "+e.toString()+" "+ai(r));if(typeof e=="string"&&e.length>Yg/3&&ca(e)>Yg)throw new Error(t+"contains a string greater than "+Yg+" utf8 bytes "+ai(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(et(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!GT(s)))throw new Error(t+" contains an invalid key ("+s+") "+ai(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qU(r,s),sy(t,a,r),YU(r)}),i&&o)throw new Error(t+' contains ".value" child '+ai(r)+" in addition to actual children.")}};var KT=function(t,e,n,r){if(!(r&&n===void 0)&&!qT(n))throw new Error(Nu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},p2=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),KT(t,e,n,r)},ay=function(t,e){if(z(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},m2=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!GT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!h2(n))throw new Error(Nu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Lv=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function cy(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Gv(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ZT(t,e,n){cy(t,n),QT(t,r=>Gv(r,e))}function un(t,e,n){cy(t,n),QT(t,r=>Bt(r,e)||Bt(e,r))}function QT(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(g2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function g2(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();ui&&Ue("event: "+n.toString()),qo(r)}}}var v2="repo_interrupt",y2=25,Vv=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gd(),this.transactionQueueTree_=new ja,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function _2(t,e,n){if(t.stats_=zv(t.repoInfo_),t.forceRestClient_||wU())t.server_=new _v(t.repoInfo_,(r,i,o,s)=>{H0(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>W0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ce(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new qv(t.repoInfo_,e,(r,i,o,s)=>{H0(t,r,i,o,s)},r=>{W0(t,r)},r=>{E2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=DU(t.repoInfo_,()=>new Cv(t.stats_,t.server_)),t.infoData_=new Ev,t.infoSyncTree_=new Td({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Ga(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),uy(t,"connected",!1),t.serverSyncTree_=new Td({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);un(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function JT(t){let n=t.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ly(t){return i2({timestamp:JT(t)})}function H0(t,e,n,r,i){t.dataUpdateCount++;let o=new re(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=aa(n,l=>Me(l));s=JB(t.serverSyncTree_,o,c,i)}else{let c=Me(n);s=VT(t.serverSyncTree_,o,c,i)}else if(r){let c=aa(n,l=>Me(l));s=KB(t.serverSyncTree_,o,c)}else{let c=Me(n);s=Ga(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Ld(t,o)),un(t.eventQueue_,a,s)}function W0(t,e){uy(t,"connected",e),e===!1&&C2(t)}function E2(t,e){et(e,(n,r)=>{uy(t,n,r)})}function uy(t,e,n){let r=new re("/.info/"+e),i=Me(n);t.infoData_.updateSnapshot(r,i);let o=Ga(t.infoSyncTree_,r,i);un(t.eventQueue_,r,o)}function XT(t){return t.nextWriteId_++}function I2(t,e,n){let r=XB(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=Me(i).withIndex(e._queryParams.getIndex());Pv(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Ga(t.serverSyncTree_,e._path,o);else{let a=Va(t.serverSyncTree_,e);s=VT(t.serverSyncTree_,e._path,o,a)}return un(t.eventQueue_,e._path,s),Sd(t.serverSyncTree_,e,n,null,!0),o},i=>(Fd(t,"get for query "+Ce(e)+" failed: "+i),Promise.reject(new Error(i))))}function w2(t,e,n,r,i){Fd(t,"set",{path:e.toString(),value:n,priority:r});let o=ly(t),s=Me(n,r),a=ey(t.serverSyncTree_,e),c=$T(s,a,o),l=XT(t),u=LT(t.serverSyncTree_,e,c,l,!0);cy(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||Xe("set at "+e+" failed: "+f);let w=li(t.serverSyncTree_,l,!p);un(t.eventQueue_,e,w),T2(t,i,f,h)});let d=iS(t,e);Ld(t,d),un(t.eventQueue_,d,[])}function C2(t){Fd(t,"onDisconnectEvents");let e=ly(t),n=gd();Iv(t.onDisconnect_,Q(),(i,o)=>{let s=a2(i,o,t.serverSyncTree_,e);wT(n,i,s)});let r=[];Iv(n,Q(),(i,o)=>{r=r.concat(Ga(t.serverSyncTree_,i,o));let s=iS(t,i);Ld(t,s)}),t.onDisconnect_=gd(),un(t.eventQueue_,Q(),r)}function D2(t,e,n){let r;z(e._path)===".info"?r=Pv(t.infoSyncTree_,e,n):r=Pv(t.serverSyncTree_,e,n),ZT(t.eventQueue_,e._path,r)}function jv(t,e,n){let r;z(e._path)===".info"?r=Sd(t.infoSyncTree_,e,n):r=Sd(t.serverSyncTree_,e,n),ZT(t.eventQueue_,e._path,r)}function b2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(v2)}function Fd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ue(n,...e)}function T2(t,e,n,r){e&&qo(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function eS(t,e,n){return ey(t.serverSyncTree_,e,n)||L.EMPTY_NODE}function dy(t,e=t.transactionQueueTree_){if(e||Vd(t,e),Yo(e)){let n=nS(t,e);y(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&S2(t,Ya(e),n)}else WT(e)&&kd(e,n=>{dy(t,n)})}function S2(t,e,n){let r=n.map(l=>l.currentWriteId),i=eS(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ze(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{Fd(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(li(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Vd(t,oy(t.transactionQueueTree_,e)),dy(t,t.transactionQueueTree_),un(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)qo(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Xe("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Ld(t,e)}},s)}function Ld(t,e){let n=tS(t,e),r=Ya(n),i=nS(t,n);return A2(t,i,r),r}function A2(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Ze(n,c.path),u=!1,d;if(y(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(li(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=y2)u=!0,d="maxretry",i=i.concat(li(t.serverSyncTree_,c.currentWriteId,!0));else{let f=eS(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){sy("transaction failed: Data returned ",h,c.path);let p=Me(h);typeof h=="object"&&h!=null&&on(h,".priority")||(p=p.updatePriority(f.getPriority()));let M=c.currentWriteId,k=ly(t),le=$T(p,f,k);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=le,c.currentWriteId=XT(t),s.splice(s.indexOf(M),1),i=i.concat(LT(t.serverSyncTree_,c.path,le,c.currentWriteId,c.applyLocally)),i=i.concat(li(t.serverSyncTree_,M,!0))}else u=!0,d="nodata",i=i.concat(li(t.serverSyncTree_,c.currentWriteId,!0))}un(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Vd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)qo(r[a]);dy(t,t.transactionQueueTree_)}function tS(t,e){let n,r=t.transactionQueueTree_;for(n=z(e);n!==null&&Yo(r)===void 0;)r=oy(r,n),e=ce(e),n=z(e);return r}function nS(t,e){let n=[];return rS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function rS(t,e,n){let r=Yo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);kd(e,i=>{rS(t,i,n)})}function Vd(t,e){let n=Yo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,HT(e,n.length>0?n:void 0)}kd(e,r=>{Vd(t,r)})}function iS(t,e){let n=Ya(tS(t,e)),r=oy(t.transactionQueueTree_,e);return l2(r,i=>{Kg(t,i)}),Kg(t,r),zT(r,i=>{Kg(t,i)}),n}function Kg(t,e){let n=Yo(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(y(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(y(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(li(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?HT(e,void 0):n.length=o+1,un(t.eventQueue_,Ya(e),i);for(let s=0;s<r.length;s++)qo(r[s])}}function M2(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function N2(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Xe(`Invalid query segment '${n}' in query '${t}'`)}return e}var z0=function(t,e){let n=R2(t),r=n.namespace;n.domain==="firebase.com"&&On(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&On("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||hU();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new cd(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new re(n.pathString)}},R2=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=M2(t.substring(u,d)));let f=N2(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var G0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",x2=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=G0.charAt(n%64),n=Math.floor(n/64);y(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=G0.charAt(e[i]);return y(s.length===20,"nextPushId: Length should be 20."),s}}();var Ad=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ce(this.snapshot.exportVal())}},Md=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Ua=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Uv=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Y(this._path)?null:hT(this._path)}get ref(){return new dn(this._repo,this._path)}get _queryIdentifier(){let e=R0(this._queryParams),n=Wv(e);return n==="{}"?"default":n}get _queryObject(){return R0(this._queryParams)}isEqual(e){if(e=Oe(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Gv(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+GU(this._path)}};var dn=class t extends Uv{constructor(e,n){super(e,n,new yv,!1)}get parent(){let e=mT(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Ba=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new re(e),r=hi(this.ref,e);return new t(this._node.getChild(n),r,ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,hi(this.ref,r),ve)))}hasChild(e){let n=new re(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function oS(t,e){return t=Oe(t),t._checkNotDeleted("ref"),e!==void 0?hi(t._root,e):t._root}function hi(t,e){return t=Oe(t),z(t._path)===null?p2("child","path",e,!1):KT("child","path",e,!1),new dn(t._repo,Se(t._path,e))}function sS(t,e){t=Oe(t),ay("push",t._path),YT("push",e,t._path,!0);let n=JT(t._repo),r=x2(n),i=hi(t,r),o=hi(t,r),s;return e!=null?s=jd(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function aS(t){return ay("remove",t._path),jd(t,null)}function jd(t,e){t=Oe(t),ay("set",t._path),YT("set",e,t._path,!1);let n=new or;return w2(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ud(t){t=Oe(t);let e=new Ua(()=>{}),n=new $a(e);return I2(t._repo,t,n).then(r=>new Ba(r,new dn(t._repo,t._path),t._queryParams.getIndex()))}var $a=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Ad("value",this,new Ba(e.snapshotNode,new dn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Md(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Nd=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Md(this,e,n):null}createEvent(e,n){y(e.childName!=null,"Child events should have a childName.");let r=hi(new dn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Ad(e.type,this,new Ba(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Ka(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{jv(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new Ua(n,o||void 0),a=e==="value"?new $a(s):new Nd(e,s);return D2(t._repo,t,a),()=>jv(t._repo,t,a)}function fy(t,e,n,r){return Ka(t,"value",e,n,r)}function hy(t,e,n,r){return Ka(t,"child_added",e,n,r)}function py(t,e,n,r){return Ka(t,"child_changed",e,n,r)}function my(t,e,n,r){return Ka(t,"child_moved",e,n,r)}function gy(t,e,n,r){return Ka(t,"child_removed",e,n,r)}function vy(t,e,n){let r=null,i=n?new Ua(n):null;e==="value"?r=new $a(i):e&&(r=new Nd(e,i)),jv(t._repo,t,r)}BB(dn);GB(dn);var P2="FIREBASE_DATABASE_EMULATOR_HOST",Bv={},O2=!1;function k2(t,e,n,r){t.repoInfo_=new cd(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function F2(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||On("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=z0(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[P2]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=z0(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Na(Na.OWNER):new tv(t.name,t.options,e);m2("Invalid Firebase Database URL",s),Y(s.path)||On("Database URL must point to the root of a Firebase Database (not including a child path).");let d=V2(a,t,u,new ev(t.name,n));return new $v(d,t)}function L2(t,e){let n=Bv[e];(!n||n[t.key]!==t)&&On(`Database ${e}(${t.repoInfo_}) has already been deleted.`),b2(t),delete n[t.key]}function V2(t,e,n,r){let i=Bv[e.name];i||(i={},Bv[e.name]=i);let o=i[t.toURLString()];return o&&On("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Vv(t,O2,n,r),i[t.toURLString()]=o,o}var $v=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dn(this._repo,Q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(L2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&On("Cannot call "+e+" on a deleted database.")}};function cS(t=So(),e){let n=fa(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=PD("database");r&&lS(n,...r)}return n}function lS(t,e,n,r={}){t=Oe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&On("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&On('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Na(Na.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:OD(r.mockUserToken,t.app.options.projectId);o=new Na(s)}k2(i,e,n,o)}function j2(t){uU(ur),lr(new It("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return F2(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),De(p0,m0,t),De(p0,m0,"esm2017")}qv.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};qv.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};j2();var mi,Fe=function(t){return t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value",t}(Fe||{}),U2=Object.freeze((mi={},mi[Fe.added]=hy,mi[Fe.removed]=gy,mi[Fe.changed]=py,mi[Fe.moved]=my,mi[Fe.value]=fy,mi));function uS(t,e){return new V(function(n){var r=U2[e](t,function(i,o){n.next({snapshot:i,prevKey:o,event:e})},n.error.bind(n));return{unsubscribe:function(){vy(t,e,r)}}}).pipe(wf(0))}var Bd=function(){return Bd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Bd.apply(this,arguments)};function yy(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function B2(t){return(t==null||t.length===0)&&(t=[Fe.added,Fe.removed,Fe.changed,Fe.moved]),t}function dS(t,e){var n;e===void 0&&(e={});var r=t.snapshot.val();return!t.snapshot.exists()||typeof r!="object"?r:Bd(Bd({},r),e.keyField?(n={},n[e.keyField]=t.snapshot.key,n):null)}function $2(t){return ie(Ud(t)).pipe(x(function(e){var n=Fe.value;return{snapshot:e,prevKey:null,event:n}}))}function fS(t,e){e===void 0&&(e={});var n=B2(e.events);return $2(t).pipe(He(function(r){var i=[N(r)];return n.forEach(function(o){i.push(uS(t,o))}),Ef.apply(void 0,i).pipe(is(W2,[]))}),Cf())}function hS(t,e){return e===void 0&&(e={}),fS(t).pipe(x(function(n){return n.map(function(r){return dS(r,e)})}))}function pS(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].snapshot.key===e)return r;return-1}function H2(t,e){if(e==null)return 0;var n=pS(t,e);return n===-1?t.length:n+1}function W2(t,e){var n=e.snapshot,r=e.prevKey,i=e.event,o=n.key,s=pS(t,o),a=H2(t,r||void 0);switch(i){case Fe.value:if(e.snapshot&&e.snapshot.exists()){var c=null;e.snapshot.forEach(function(d){var f={snapshot:d,event:Fe.value,prevKey:c};return c=d.key,t=yy(yy([],t,!0),[f],!1),!1})}return t;case Fe.added:if(s>-1){var l=t[s-1];(l&&l.snapshot.key||null)!==r&&(t=t.filter(function(d){return d.snapshot.key!==n.key}),t.splice(a,0,e))}else{if(r==null)return yy([e],t,!0);t=t.slice(),t.splice(a,0,e)}return t;case Fe.removed:return t.filter(function(d){return d.snapshot.key!==n.key});case Fe.changed:return t.map(function(d){return d.snapshot.key===o?e:d});case Fe.moved:if(s>-1){var u=t.splice(s,1)[0];return t=t.slice(),t.splice(a,0,u),t}return t;default:return t}}var gi=class{constructor(e){return e}},mS="database",_y=class{constructor(){return ha(mS)}};var Ey=new D("angularfire2.database-instances");function z2(t,e){let n=ku(mS,t,e);return n&&new gi(n)}function G2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new gi(r)}}var q2={provide:_y,deps:[[new qe,Ey]]},Y2={provide:gi,useFactory:z2,deps:[[new qe,Ey],An]};function gS(t,...e){return De("angularfire",ri.full,"rtdb"),ot([Y2,q2,{provide:Ey,useFactory:G2(t),multi:!0,deps:[te,Ve,No,ii,[new qe,Ca],[new qe,Mo],...e]}])}var vS=ke(hS,!0);var yS=ke(Ud,!0),_S=ke(cS,!0);var ES=ke(sS,!0);var Ko=ke(oS,!0);var IS=ke(aS,!0);var wS=ke(jd,!0);var Er=class t{constructor(e){this.database=e}setStatus(e){console.log("set status",e),this.getTaskById(e).then(n=>{let r=n.val();console.log(n.val()),r.status=="C"?r.status="P":r.status=="IP"?r.status="C":r.status="IP",this.saveTask(r).catch(i=>{console.log(i)})})}lowerPriority(e){this.getTaskById(e).then(n=>{let r=n.val();r.priority=="H"?r.priority="M":r.priority=="M"&&(r.priority="L"),this.saveTask(r).catch(i=>{console.log(i)})})}raisePriority(e){this.getTaskById(e).then(n=>{let r=n.val();r.priority=="M"?r.priority="H":r.priority=="L"&&(r.priority="M"),this.saveTask(r).catch(i=>{console.log(i)})}).catch(n=>{console.log(n)})}saveTask(e){console.log(e);let n=Ko(this.database,`/Tareas/${e.id}`);if(!e.id){let r=Ko(this.database,"/Tareas/");n=ES(r),n.key!=null&&(e.id=n.key,e.status="P")}return wS(n,e)}getAllTasks(){let e=Ko(this.database,"/Tareas");return vS(e)}getTaskById(e){let n=Ko(this.database,"/Tareas/"+e);return yS(n)}removeTask(e){let n=Ko(this.database,`/Tareas/${e}`);return IS(n)}static \u0275fac=function(n){return new(n||t)(O(gi))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};var J2=(t,e,n)=>({"bg-danger":t,"bg-success":e,"bg-warning":n});function X2(t,e){t&1&&(v(0,"span"),I(1,"(Completa)"),g())}function e$(t,e){t&1&&(v(0,"span"),I(1,"(En proceso)"),g())}function t$(t,e){t&1&&(v(0,"span"),I(1,"(Pendiente)"),g())}function n$(t,e){if(t&1){let n=Xt();$r(0),v(1,"i",16),ae("click",function(){vt(n);let i=xe(3);return yt(i.lowerPriority(i.task.id))}),g(),Hr()}}function r$(t,e){if(t&1&&(v(0,"span"),fe(1,n$,2,0,"ng-container",15),I(2," Alta"),g()),t&2){let n=xe(2);T(),S("ngIf",n.task.status!="C")}}function i$(t,e){if(t&1){let n=Xt();$r(0),v(1,"i",17),ae("click",function(){vt(n);let i=xe(3);return yt(i.raisePriority(i.task.id))}),g(),v(2,"i",16),ae("click",function(){vt(n);let i=xe(3);return yt(i.lowerPriority(i.task.id))}),g(),Hr()}}function o$(t,e){if(t&1&&(v(0,"span"),fe(1,i$,3,0,"ng-container",15),I(2," Media"),g()),t&2){let n=xe(2);T(),S("ngIf",n.task.status!="C")}}function s$(t,e){if(t&1){let n=Xt();$r(0),v(1,"i",17),ae("click",function(){vt(n);let i=xe(3);return yt(i.raisePriority(i.task.id))}),g(),Hr()}}function a$(t,e){if(t&1&&(v(0,"span"),fe(1,s$,2,0,"ng-container",15),I(2," Baja"),g()),t&2){let n=xe(2);T(),S("ngIf",n.task.status!="C")}}function c$(t,e){if(t&1){let n=Xt();v(0,"span")(1,"i",18),ae("click",function(){vt(n);let i=xe(2);return yt(i.setStatus(i.task.id))}),g(),I(2,"Completada"),g()}}function l$(t,e){if(t&1){let n=Xt();v(0,"span")(1,"i",19),ae("click",function(){vt(n);let i=xe(2);return yt(i.setStatus(i.task.id))}),g(),I(2,"En proceso"),g()}}function u$(t,e){if(t&1){let n=Xt();v(0,"span")(1,"i",20),ae("click",function(){vt(n);let i=xe(2);return yt(i.setStatus(i.task.id))}),g(),I(2,"Pendiente"),g()}}function d$(t,e){if(t&1){let n=Xt();v(0,"div",1)(1,"div",2)(2,"h5",3),I(3),fe(4,X2,2,0,"span",4)(5,e$,2,0,"span",4)(6,t$,2,0,"span",4),g(),v(7,"div",5)(8,"div",6)(9,"h2",7)(10,"button",8),I(11),g()(),v(12,"div",9)(13,"div",10)(14,"p",11),I(15,"Prioridad: "),fe(16,r$,3,1,"span",4)(17,o$,3,1,"span",4)(18,a$,3,1,"span",4),g(),v(19,"p",11),I(20," Estado: "),fe(21,c$,3,0,"span",4)(22,l$,3,0,"span",4)(23,u$,3,0,"span",4),g(),v(24,"p",12),I(25),g(),v(26,"p",12),I(27,"Acciones:"),v(28,"i",13),ae("click",function(){vt(n);let i=xe();return yt(i.onEditTask(i.task.id))}),g(),v(29,"i",14),ae("click",function(){vt(n);let i=xe();return yt(i.deleteTask(i.task.id.toString()))}),g()()()()()()()()}if(t&2){let n=xe();S("ngClass",Cw(21,J2,n.task.priority=="H",n.task.priority=="L",n.task.priority=="M")),T(2),S("ngSwitch",n.task.status),T(),Ts(" ",n.task.name," "),T(),S("ngSwitchCase","C"),T(),S("ngSwitchCase","IP"),T(),S("ngSwitchCase","P"),T(),S("id","accordionExample"+n.task.id),T(3),Br("data-bs-target","#collapseOne"+n.task.id)("aria-controls","collapseOne"+n.task.id),T(),Ts(" Descripci\xF3n: ",n.task.description," "),T(),S("id","collapseOne"+n.task.id),Br("data-bs-parent","#accordionExample"+n.task.id),T(2),S("ngSwitch",n.task.priority),T(2),S("ngSwitchCase","H"),T(),S("ngSwitchCase","M"),T(),S("ngSwitchCase","L"),T(),S("ngSwitch",n.task.status),T(2),S("ngSwitchCase","C"),T(),S("ngSwitchCase","IP"),T(),S("ngSwitchCase","P"),T(2),Ts("Fecha de expiraci\xF3n: ",n.task.expirationDate,"")}}var $d=class t{constructor(e,n){this.taskService=e;this.router=n}task=new od("1","Tarea 1","Descripci\xF3n Tarea 1","L","P",new Date("11/1/2024"),new Date("11/18/2024"),!1);setStatus(e){this.taskService.setStatus(e)}deleteTask(e){this.taskService.removeTask(e.toString()).then(()=>console.log(`La tarea eliminada tiene el id: ${e}`)).catch(n=>{console.log("Error: ",n)})}lowerPriority(e){this.taskService.lowerPriority(e)}raisePriority(e){this.taskService.raisePriority(e)}onEditTask(e){this.router.navigate([`/formTaskEdit/${e}`])}static \u0275fac=function(n){return new(n||t)(C(Er),C(Ke))};static \u0275cmp=J({type:t,selectors:[["app-resume"]],inputs:{task:"task"},standalone:!0,features:[X],decls:1,vars:1,consts:[["class","card mb-3",3,"ngClass",4,"ngIf"],[1,"card","mb-3",3,"ngClass"],[1,"card-body"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"accordion",3,"id"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],[1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"card-text",3,"ngSwitch"],[1,"card-text"],[1,"bi","bi-pencil-square",3,"click"],[1,"bi","bi-trash",3,"click"],[4,"ngIf"],[1,"bi","bi-arrow-down-circle-fill",3,"click"],[1,"bi","bi-arrow-up-circle-fill",3,"click"],[1,"bi","bi-arrow-return-right",3,"click"],[1,"bi","bi-check-lg",3,"click"],[1,"bi","bi-play-fill",3,"click"]],template:function(n,r){n&1&&fe(0,d$,30,25,"div",0),n&2&&S("ngIf",!r.task.isDelete)},dependencies:[Te,Xn,tn,Tp,zw]})};function f$(t,e){if(t&1&&($r(0,4),Z(1,"app-resume",5),Hr()),t&2){let n=e.$implicit;T(),S("task",n)}}var Hd=class t{constructor(e){this.taskService=e}tasklist=[];ngOnInit(){this.taskService.getAllTasks().subscribe(e=>{this.tasklist=e})}static \u0275fac=function(n){return new(n||t)(C(Er))};static \u0275cmp=J({type:t,selectors:[["app-tasklist"]],standalone:!0,features:[X],decls:4,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],["class","ng-container",4,"ngFor","ngForOf"],[1,"ng-container"],[3,"task"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"div",1)(2,"div",2),fe(3,f$,2,1,"ng-container",3),g()()()),n&2&&(T(3),S("ngForOf",r.tasklist))},dependencies:[Te,Ww,$d]})};var Wd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-tasks"]],standalone:!0,features:[X],decls:3,vars:0,template:function(n,r){n&1&&Z(0,"app-nav-bar")(1,"app-tasklist")(2,"app-footer")},dependencies:[Te,Dt,Hd,bt]})};function CS(){return t=>{let e=t.value,n=new Date;return new Date(e)>=n?null:{invalidDate:!0}}}function DS(){return t=>{let e=t.value;return["L","M","H"].includes(e)?null:{invalidValuePriority:!0}}}var zd=(t,e)=>({"is-invalid":t,"is-valid":e});function h$(t,e){t&1&&(v(0,"small",18),I(1," El campo nombre es requerido "),g())}function p$(t,e){t&1&&(v(0,"small",18),I(1,"El campo tiene que tener menos de 50 caracteres"),g())}function m$(t,e){t&1&&(v(0,"small",18),I(1," El campo descripcion es requerido "),g())}function g$(t,e){t&1&&(v(0,"small",18),I(1," El campo prioridad es requerido "),g())}function v$(t,e){t&1&&(v(0,"small",18),I(1," El valor tiene que ser 'H' 'M' O 'L' "),g())}function y$(t,e){t&1&&(v(0,"small",18),I(1," El campo fecha de expiraci\xF3n es requerido "),g())}function _$(t,e){t&1&&(v(0,"small",18),I(1," El campo fecha de expiraci\xF3n tiene que ser mayor al d\xEDa de hoy "),g())}var Gd=class t{constructor(e,n,r,i){this.taskService=e;this.router=n;this.route=r;this.formTaskEdit=i.group({name:["",[we.required,we.maxLength(50)]],description:["",[we.required,we.maxLength(255)]],priority:["",[we.required,DS()]],expirationDate:["",[we.required,CS()]]})}taskToEdit=null;formTaskEdit;ngOnInit(){this.route.paramMap.subscribe(e=>{let n=e.get("id");this.taskService.getTaskById(n).then(r=>{if(r.exists()&&(this.taskToEdit=r.val(),this.taskToEdit)){let i=this.taskToEdit.expirationDate?new Date(this.taskToEdit.expirationDate).toISOString().slice(0,16):null;console.log(this.taskToEdit),this.formTaskEdit.patchValue({name:this.taskToEdit.name,description:this.taskToEdit.description,priority:this.taskToEdit.priority,expirationDate:i})}}).catch(r=>{console.log(r)})})}onSubmit(){if(this.formTaskEdit.valid){let e=this.formTaskEdit.value;this.taskToEdit&&(e.id=this.taskToEdit.id,e.status=this.taskToEdit.status),this.taskService.saveTask(e).then(()=>{this.router.navigate(["/tasks"])}).catch(n=>{console.log(n)}),this.formTaskEdit.reset()}else console.log("El formulario tiene errores:",this.formTaskEdit.errors)}static \u0275fac=function(n){return new(n||t)(C(Er),C(Ke),C(bn),C(Io))};static \u0275cmp=J({type:t,selectors:[["app-taskform"]],standalone:!0,features:[X],decls:41,vars:24,consts:[[1,"body"],[1,"container"],[1,"row"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","exampleFormControlInput1"],["type","text","formControlName","name","id","exampleFormControlInput1",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["for","exampleFormControlTextarea1"],["formControlName","description","id","exampleFormControlTextarea1","rows","10",1,"form-control",3,"ngClass"],["for","exampleFormControlSelect1"],["formControlName","priority","id","exampleFormControlSelect1",1,"form-control",3,"ngClass"],["value","H"],["value","M"],["value","L"],["type","datetime-local","formControlName","expirationDate","id","exampleFromcontrolInput",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary"],[1,"text-danger"]],template:function(n,r){if(n&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),ae("ngSubmit",function(){return r.onSubmit()}),v(5,"div",5)(6,"label",6),I(7,"Nombre"),g(),Z(8,"input",7),v(9,"div"),fe(10,h$,2,0,"small",8)(11,p$,2,0,"small",8),g()(),v(12,"div",5)(13,"label",9),I(14,"Descripcion"),g(),Z(15,"textarea",10),fe(16,m$,2,0,"small",8),g(),v(17,"div",5)(18,"label",11),I(19,"Prioridad"),g(),v(20,"select",12)(21,"option",13),I(22,"Alta"),g(),v(23,"option",14),I(24,"Media"),g(),v(25,"option",15),I(26,"Baja"),g()(),v(27,"div"),fe(28,g$,2,0,"small",8)(29,v$,2,0,"small",8),g()(),v(30,"div",5)(31,"label",11),I(32,"Fecha expiracion"),g(),Z(33,"input",16),v(34,"div"),fe(35,y$,2,0,"small",8)(36,_$,2,0,"small",8),g()(),Z(37,"br")(38,"br"),v(39,"button",17),I(40,"Guardar Cambios"),g()()()()()()),n&2){let i,o,s,a,c,l,u,d,f,h,p;T(4),S("formGroup",r.formTaskEdit),T(4),S("ngClass",En(12,zd,((i=r.formTaskEdit.get("name"))==null?null:i.invalid)&&((i=r.formTaskEdit.get("name"))==null?null:i.touched),(i=r.formTaskEdit.get("name"))==null?null:i.valid)),T(2),S("ngIf",((o=r.formTaskEdit.get("name"))==null||o.errors==null?null:o.errors.required)&&((o=r.formTaskEdit.get("name"))==null?null:o.touched)),T(),S("ngIf",((s=r.formTaskEdit.get("name"))==null||s.errors==null?null:s.errors.maxlength)&&((s=r.formTaskEdit.get("name"))==null?null:s.touched)),T(4),S("ngClass",En(15,zd,((a=r.formTaskEdit.get("description"))==null?null:a.invalid)&&((a=r.formTaskEdit.get("description"))==null?null:a.touched),(a=r.formTaskEdit.get("description"))==null?null:a.valid)),T(),S("ngIf",((c=r.formTaskEdit.get("description"))==null||c.errors==null?null:c.errors.required)&&((c=r.formTaskEdit.get("description"))==null?null:c.touched)),T(4),S("ngClass",En(18,zd,((l=r.formTaskEdit.get("priority"))==null?null:l.invalid)&&((l=r.formTaskEdit.get("priority"))==null?null:l.touched),(l=r.formTaskEdit.get("priority"))==null?null:l.valid)),T(8),S("ngIf",((u=r.formTaskEdit.get("priority"))==null||u.errors==null?null:u.errors.required)&&((u=r.formTaskEdit.get("priority"))==null?null:u.touched)),T(),S("ngIf",((d=r.formTaskEdit.get("priority"))==null||d.errors==null?null:d.errors.invalidValuePriority)&&((d=r.formTaskEdit.get("priority"))==null?null:d.touched)),T(4),S("ngClass",En(21,zd,((f=r.formTaskEdit.get("expirationDate"))==null?null:f.invalid)&&((f=r.formTaskEdit.get("expirationDate"))==null?null:f.touched),(f=r.formTaskEdit.get("expirationDate"))==null?null:f.valid)),T(2),S("ngIf",((h=r.formTaskEdit.get("expirationDate"))==null||h.errors==null?null:h.errors.required)&&((h=r.formTaskEdit.get("expirationDate"))==null?null:h.touched)),T(),S("ngIf",!(!((p=r.formTaskEdit.get("expirationDate"))==null||p.errors==null)&&p.errors.required)&&((p=r.formTaskEdit.get("expirationDate"))==null||p.errors==null?null:p.errors.invalidDate)&&((p=r.formTaskEdit.get("expirationDate"))==null?null:p.touched))}},dependencies:[wo,Eo,DD,TD,ir,Tu,yo,_o,Qr,Jr,Te,Xn,tn],styles:[".body[_ngcontent-%COMP%]{background:linear-gradient(to right,#4facfe,#00f2fe);height:100vh;display:flex;align-items:center;justify-content:center;font-family:Arial,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:10px;box-shadow:0 4px 6px #0000001a}h1[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-bottom:1rem;text-align:center}.btn-primary[_ngcontent-%COMP%]{width:100%;background-color:#4facfe;border:none;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#00c6ff}.form-control[_ngcontent-%COMP%]{border-radius:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600}"]})};var Za=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-home"]],standalone:!0,features:[X],decls:3,vars:0,template:function(n,r){n&1&&Z(0,"app-nav-bar")(1,"app-taskform")(2,"app-footer")},dependencies:[Te,Dt,Gd,bt]})};var qd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[X],decls:3,vars:0,template:function(n,r){n&1&&Z(0,"app-nav-bar")(1,"router-outlet")(2,"app-footer")},dependencies:[Te,Dt,Zs,bt]})};var Yd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-notfound"]],standalone:!0,features:[X],decls:9,vars:0,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-center",2,"height","100vh","text-align","center"],[1,"display-1","text-danger"],[1,"text-dark"],[1,"text-muted"],["routerLink","/home",1,"btn","btn-primary","mt-3"]],template:function(n,r){n&1&&(v(0,"div",0)(1,"h1",1),I(2,"404"),g(),v(3,"h2",2),I(4,"P\xE1gina No Encontrada"),g(),v(5,"p",3),I(6,"Lo sentimos, no hemos podido encontrar la p\xE1gina que buscas."),g(),v(7,"a",4),I(8,"Volver al Inicio"),g()())},dependencies:[fo]})};var bS=x(t=>!!t),E$=(()=>{class t{router;auth;constructor(n,r){this.router=n,this.auth=r}canActivate=(n,r)=>{let i=n.data.authGuardPipe||(()=>bS);return o0(this.auth).pipe(Je(1),i(n,r),x(o=>typeof o=="boolean"?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(r){return new(r||t)(O(Ke),O(Pn))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Kd=t=>({canActivate:[E$],data:{authGuardPipe:t}});var Zd=t=>es(bS,x(e=>e||t));var TS=[{path:"login",component:rd},{path:"singin",component:id},E({path:"home",component:Za},Kd(()=>Zd(["/login"]))),E({path:"tasks",component:Wd},Kd(()=>Zd(["/login"]))),{path:"formTaskEdit/:id",component:Za},E({path:"dashboard",component:qd,children:[{path:"stats",component:fu},{path:"profile",component:hu}]},Kd(()=>Zd(["/login"]))),{path:"notfound",component:Yd},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/notfound",pathMatch:"full"}];var SS={providers:[Nw({eventCoalescing:!0}),qC(TS),dC(),ob(()=>sb({projectId:"angular-tutorial-f9f07",appId:"1:239544362482:web:c132097512464cb5f0776b",storageBucket:"angular-tutorial-f9f07.firebasestorage.app",apiKey:"AIzaSyDBYaql5wnd0YAQyj1xATzcVu_PH7-F11s",authDomain:"angular-tutorial-f9f07.firebaseapp.com",messagingSenderId:"239544362482",databaseURL:"https://angular-tutorial-f9f07-default-rtdb.europe-west1.firebasedatabase.app"})),i0(()=>a0()),gS(()=>_S())]};var Qd=class t{title="angular-tutorial-app";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=J({type:t,selectors:[["app-root"]],standalone:!0,features:[X],decls:1,vars:0,template:function(n,r){n&1&&Z(0,"router-outlet")},dependencies:[Zs,AD]})};lC(Qd,SS).catch(t=>console.error(t));
